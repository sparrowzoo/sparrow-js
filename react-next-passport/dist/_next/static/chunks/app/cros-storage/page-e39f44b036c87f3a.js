(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{2285:function(e,t,r){Promise.resolve().then(r.bind(r,8993))},8993:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var o=r(7437),n=r(2265),s=r(3531),a=r(5189);function u(){return(0,n.useEffect)(()=>(console.info("init cros iframe storage"),window.addEventListener("message",e=>{var t,r;if(!(0,a.Ud)(e.origin))return;let o=e.data.storage===s.Z.LOCAL?localStorage:sessionStorage;console.log("Received message",JSON.stringify(e.data));try{let r=null;switch(e.data.command){case s.w.GET:r=o.getItem(e.data.key);break;case s.w.SET:if(e.data.value)o.setItem(e.data.key,e.data.value),r=e.data.value;else throw Error("Value is required for set command");break;case s.w.REMOVE:o.removeItem(e.data.key)}let n={value:r,requestId:e.data.requestId};null===(t=e.source)||void 0===t||t.postMessage(n,{targetOrigin:e.origin})}catch(o){let t={requestId:e.data.requestId,value:null,error:o instanceof Error?o.message:"Unknown error"};null===(r=e.source)||void 0===r||r.postMessage(t,{targetOrigin:e.origin})}}),()=>{window.removeEventListener("message",()=>{})}),[]),(0,o.jsx)(o.Fragment,{})}},5189:function(e,t,r){"use strict";r.d(t,{B1:function(){return u},Ee:function(){return o},Tb:function(){return c},Ud:function(){return w},Y4:function(){return i},Yo:function(){return d},lC:function(){return n},lg:function(){return s},oT:function(){return a},qw:function(){return l}});let o="user_info",n="production",s="http://www.sparrowzoo.com",a="SESSION",u="sparrow-token",i="http://www.sparrowzoo.com/react",c="http://passport.sparrowzoo.com/cros-storage",l="http://passport.sparrowzoo.com/captcha";function w(e){let t="http://www.sparrowzoo.com,http://passport.sparrowzoo.com";return!t||t.split(",").includes(e)}let d="ws://www.sparrowzoo.com/websocket"},3531:function(e,t,r){"use strict";var o,n,s,a;r.d(t,{Z:function(){return n},w:function(){return o}}),(s=o||(o={})).GET="get",s.SET="set",s.REMOVE="remove",(a=n||(n={})).LOCAL="local",a.SESSION="session",a.AUTOMATIC="automatic"}},function(e){e.O(0,[971,23,744],function(){return e(e.s=2285)}),_N_E=e.O()}]);