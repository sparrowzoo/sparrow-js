(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{5058:function(t,e,r){Promise.resolve().then(r.bind(r,8993))},357:function(t,e,r){"use strict";var n,o;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8081)},8081:function(t){!function(){var e={229:function(t){var e,r,n,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c=[],a=!1,f=-1;function l(){a&&n&&(a=!1,n.length?c=n.concat(c):f=-1,c.length&&d())}function d(){if(!a){var t=s(l);a=!0;for(var e=c.length;e;){for(n=c,c=[];++f<e;)n&&n[f].run();f=-1,e=c.length}n=null,a=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function w(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||a||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}},u=!0;try{e[t](i,i.exports,n),u=!1}finally{u&&delete r[t]}return i.exports}n.ab="//";var o=n(229);t.exports=o}()},8993:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return a}});var n=r(7437),o=r(2265),i=r(3531),u=r(5189),s=r(1194),c=r(4939);function a(){return(0,o.useEffect)(()=>(console.info("init cros iframe storage"),window.addEventListener("message",t=>{var e,r;if(console.log("Received message",JSON.stringify(t.data)),!(0,u.Ud)(t.origin))return;let n=t.data.storage===i.Z.LOCAL?localStorage:sessionStorage;console.log("Received allow origin",JSON.stringify(t.data));try{let r=null;switch(t.data.command){case i.w.GET:r=n.getItem(t.data.key);break;case i.w.SET:if(t.data.value)n.setItem(t.data.key,t.data.value),r=t.data.value;else throw Error("Value is required for set command");break;case i.w.REMOVE:n.removeItem(t.data.key)}let o={value:r,requestId:t.data.requestId};null===(e=t.source)||void 0===e||e.postMessage(o,{targetOrigin:t.origin})}catch(n){let e={requestId:t.data.requestId,value:null,error:n instanceof Error?n.message:"Unknown error"};null===(r=t.source)||void 0===r||r.postMessage(e,{targetOrigin:t.origin})}}),function(){let t={storage:i.Z.AUTOMATIC,requestId:s.c.randomUUID(),key:"cros-iframe-storage",command:i.w.INIT},e=(0,c.Wz)(),r=()=>{try{window.parent.postMessage(t,e)}catch(t){setTimeout(r,100)}};r()}(),()=>{console.info("unmount cros iframe storage")}),[]),(0,n.jsx)(n.Fragment,{})}},5189:function(t,e,r){"use strict";r.d(e,{B1:function(){return c},Ee:function(){return o},Tb:function(){return f},Ud:function(){return d},Y4:function(){return a},Yo:function(){return p},lC:function(){return i},lg:function(){return u},oT:function(){return s},qw:function(){return l}});var n=r(357);let o="user_info",i="production",u="http://www.sparrowzoo.com",s="SESSION",c="sparrow-token",a="http://www.sparrowzoo.com/react",f="http://passport.sparrowzoo.com/cros-storage",l="http://www.sparrowzoo.com/captcha";function d(t){let e="http://www.sparrowzoo.com,http://passport.sparrowzoo.com";return!e||e.split(",").includes(t)}n.env.NEXT_PUBLIC_LOGIN_URL;let p="ws://www.sparrowzoo.com/websocket"},4939:function(t,e,r){"use strict";function n(t){if(t){window.location.href=t;return}window.location.href="/"}function o(){return decodeURIComponent(window.location.search.substring(1))}function i(){let t=window.location.href,e=t.indexOf("?");return -1===e?t:t.substring(0,e)}r.d(e,{Wz:function(){return o},bZ:function(){return i},ft:function(){return n}})},1194:function(t,e,r){"use strict";r.d(e,{c:function(){return n}});class n{static randomUUID(){let t="";for(let e=0;e<36;e++)[8,13,18,23].includes(e)?t+="-":t+="0123456789abcdef"[Math.floor(16*Math.random())];return t}}},3531:function(t,e,r){"use strict";var n,o,i,u;r.d(e,{Z:function(){return o},w:function(){return n}}),(i=n||(n={})).GET="get",i.SET="set",i.REMOVE="remove",i.INIT="init",(u=o||(o={})).LOCAL="local",u.SESSION="session",u.AUTOMATIC="automatic"}},function(t){t.O(0,[971,23,744],function(){return t(t.s=5058)}),_N_E=t.O()}]);