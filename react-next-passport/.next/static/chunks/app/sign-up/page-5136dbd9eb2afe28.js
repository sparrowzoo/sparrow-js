(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{276:function(e,s,r){Promise.resolve().then(r.t.bind(r,8173,23)),Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.bind(r,2584))},2584:function(e,s,r){"use strict";r.d(s,{AuthForm:function(){return _}});var a=r(7437),t=r(2265),i=r(9354),n=r(4477),l=r(9733),o=r(7209),d=r(402),c=r(7138),m=r(9343),x=r(8047);let p=x.Ryn({email:x.zGw(x.Z_8("请输入邮箱地址"),x.Dom("请输入正确的邮箱地址")),userName:x.zGw(x.Z_8(),x.v2J("请输入用户名"),x.EiV(6,"用户名至少6个字符"),x.BSk(20,"用户名最多20个字符"),x.SzQ(/^[a-zA-Z0-9_]{6,20}$/,"用户名只能包含字母、数字、下划线和中文")),password:x.zGw(x.Z_8(),x.v2J("请输入密码."),x.EiV(8,"密码至少8个字符"),x.SzQ(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/,"密码格式 至少8个字符，至少1个字母，1个数字和1个特殊字符")),passwordConfirm:x.zGw(x.Z_8(),x.v2J("密码不能为空."),x.EiV(8,"密码至少8个字符")),captcha:x.zGw(x.Z_8(),x.v2J("请输入验证码."),x.EiV(4,"验证码至少4个字符"))}),h=x.zGw(p,x.eHV(x.FRe([["password"],["passwordConfirm"]],e=>e.password===e.passwordConfirm,"The two passwords do not match."),["passwordConfirm"]));var u=r(3927),j=r(1706),w=r(8773),N=r(9479),f=r(8726),v=r(4346),g=r(9402),b=r(5753);function _(e){let{className:s,...r}=e,[x,p]=t.useState(!1),_=(0,g.Z)(),z=(0,b.Z)(),{register:C,handleSubmit:Z,formState:{errors:y}}=(0,m.cI)({mode:"onChange",resolver:(0,u.Y)(h,{abortEarly:!1})});return(0,a.jsxs)("div",{className:(0,i.cn)("grid gap-6",s),...r,children:[(0,a.jsx)(f.x7,{position:"top-center",reverseOrder:!1}),(0,a.jsx)("form",{onSubmit:Z((e,s)=>{p(!0),w.Z.post("/register/email/shortcut.json",JSON.stringify(e),N.Z.getCurrentStorage(),!0).then(e=>{null==z||z.setToken(e.data.token),p(!1),f.ZP.success("恭喜！注册成功，欢迎来到sparrow zoo ,志哥欢迎您！！！"),setTimeout(()=>{window.location.href="/"},2e3)}).catch(e=>{console.error(e.message),p(!1)})}),children:(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)(d._,{className:"sr-only",htmlFor:"email",children:"邮箱"}),(0,a.jsx)(o.I,{...C("email"),id:"email",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",placeholder:"请输入邮箱"}),(0,a.jsx)(j.B,{errors:y,name:"email",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)(d._,{className:"sr-only",htmlFor:"userName",children:"用户名"}),(0,a.jsx)(o.I,{...C("userName"),id:"userName",type:"text",placeholder:"请输入用户名"}),(0,a.jsx)(j.B,{errors:y,name:"userName",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d._,{htmlFor:"password",children:"密码"}),(0,a.jsx)(c.default,{href:"#",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})]}),(0,a.jsx)(o.I,{...C("password"),id:"password",type:"password"}),(0,a.jsx)(j.B,{errors:y,name:"password",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)(d._,{htmlFor:"passwordConfirm",children:"确认密码"}),(0,a.jsx)(o.I,{...C("passwordConfirm"),id:"passwordConfirm",type:"password"}),(0,a.jsx)(j.B,{errors:y,name:"passwordConfirm",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"flex-col items-left ",children:[(0,a.jsx)(d._,{className:"w-32",htmlFor:"captcha",children:"验证码"}),(0,a.jsxs)("div",{className:"flex flex-row items-left",children:[(0,a.jsx)(o.I,{...C("captcha"),className:"w-32",id:"captcha",type:"text"}),(0,a.jsx)("img",{ref:_,src:v.Z,alt:"captcha",className:"w-16 h-8 cursor-pointer"})]}),(0,a.jsx)(j.B,{errors:y,name:"captcha",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)(l.z,{disabled:x,children:[x&&(0,a.jsx)(n.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In with Email"]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,a.jsxs)(l.z,{variant:"outline",type:"button",disabled:x,children:[x?(0,a.jsx)(n.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(n.P.gitHub,{className:"mr-2 h-4 w-4"})," ","GitHub"]})]})}}},function(e){e.O(0,[285,464,971,23,744],function(){return e(e.s=276)}),_N_E=e.O()}]);