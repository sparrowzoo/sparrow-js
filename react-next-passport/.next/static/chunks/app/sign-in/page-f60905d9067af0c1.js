(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{6947:function(e,s,r){Promise.resolve().then(r.bind(r,6613))},6613:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return _}});var a=r(7437),t=r(6648),l=r(7138),c=r(9733),i=r(7209),n=r(402),d=r(9343),m=r(8047);let o=m.Ryn({userName:m.zGw(m.Z_8("请输入用户名或邮箱"),m.v2J("请输入用户名或邮箱")),password:m.zGw(m.Z_8(),m.v2J("请输入密码."),m.EiV(8,"密码至少8个字符"),m.SzQ(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/,"密码格式 至少8个字符，至少1个字母，1个数字和1个特殊字符")),captcha:m.zGw(m.Z_8(),m.v2J("请输入验证码."),m.EiV(4,"验证码至少4个字符")),rememberMe:m.zGw(m.YjB(),m.vs(e=>!0===e))});var x=r(3927),h=r(2265),u=r(8773),p=r(8726),f=r(4477),j=r(4346),N=r(1706),g=r(5409),w=r(4867),b=r(9354);let v=h.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(g.fC,{ref:s,className:(0,b.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,a.jsx)(g.z$,{className:(0,b.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(w.nQG,{className:"h-4 w-4"})})})});v.displayName=g.fC.displayName;var y=r(3017),k=r(1349);function _(){let[e,s]=h.useState(!1),r=(0,y.Z)(),{register:m,setValue:g,handleSubmit:w,formState:{errors:b}}=(0,d.cI)({mode:"onChange",resolver:(0,x.Y)(o,{abortEarly:!1})});return(0,a.jsxs)("div",{className:"w-full text-left",children:[(0,a.jsx)(p.x7,{position:"top-center",reverseOrder:!1}),(0,a.jsxs)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-2 xl:min-h-[800px]",children:[(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,a.jsxs)("div",{className:"grid gap-2 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Login"}),(0,a.jsx)("p",{className:"text-balance text-muted-foreground",children:"输入用户名/邮箱和密码"})]}),(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n._,{htmlFor:"userName",children:"用户名或邮箱"}),(0,a.jsx)(i.I,{...m("userName"),id:"userName",type:"text",placeholder:"请输入用户名或邮箱"}),(0,a.jsx)(N.B,{errors:b,name:"userName",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n._,{htmlFor:"password",children:"Password"}),(0,a.jsx)(l.default,{href:"/forgot-password",className:"ml-auto inline-block text-sm underline",children:"忘记密码?"})]}),(0,a.jsx)(i.I,{...m("password"),id:"password",type:"password"}),(0,a.jsx)(N.B,{errors:b,name:"password",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"flex-col items-left ",children:[(0,a.jsx)(n._,{className:"w-32",htmlFor:"captcha",children:"验证码"}),(0,a.jsxs)("div",{className:"flex flex-row items-left cursor-pointer",children:[(0,a.jsx)(i.I,{...m("captcha"),className:"w-32",id:"captcha",type:"text"}),(0,a.jsx)("img",{ref:r,src:j.Z,alt:"captcha",className:"w-16 h-8 cursor-pointer"})]}),(0,a.jsx)(N.B,{errors:b,name:"captcha",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)("div",{className:"flex flex-row-reverse gap-2",children:[(0,a.jsx)(v,{defaultChecked:!1,onCheckedChange:function(e){g("rememberMe",e)},id:"rememberMe"}),(0,a.jsx)("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"}),(0,a.jsx)(N.B,{errors:b,name:"rememberMe",render:e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"text-red-700 text-sm",children:s})}})]}),(0,a.jsxs)(c.z,{onClick:w((e,r)=>{s(!0),u.Z.post("/shortcut-login.json",JSON.stringify(e),!1,!0).then(e=>{(0,k.o4)(e.data.token),s(!1),p.ZP.success("恭喜！登录成功，欢迎回来！志哥欢迎您！！！"),setTimeout(()=>{window.location.href="/"},2e3)}).catch(e=>{s(!1)})}),className:"cursor-pointer",type:"submit",disabled:e,children:[e&&(0,a.jsx)(f.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"登录"]}),(0,a.jsx)(c.z,{variant:"outline",className:"w-full",children:"Login with wechat"})]}),(0,a.jsxs)("div",{className:"mt-4 text-center text-sm",children:["还没有帐号?"," ",(0,a.jsx)(l.default,{href:"/sign-up",className:"underline",children:"注册"})]})]})}),(0,a.jsx)("div",{className:"hidden min-h-screen bg-muted lg:block",children:(0,a.jsx)(t.default,{src:"/brand/sparrow2.jpg",alt:"Image",width:"1920",height:"1080",className:"h-full w-full object-cover dark:brightness-[0.8] dark:grayscale"})})]})]})}}},function(e){e.O(0,[310,285,900,324,971,23,744],function(){return e(e.s=6947)}),_N_E=e.O()}]);