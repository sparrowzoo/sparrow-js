(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{2285:function(t,e,r){Promise.resolve().then(r.bind(r,8993))},357:function(t,e,r){"use strict";var n,o;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8081)},8081:function(t){!function(){var e={229:function(t){var e,r,n,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a=[],c=!1,l=-1;function f(){c&&n&&(c=!1,n.length?a=n.concat(a):l=-1,a.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=a.length;e;){for(n=a,a=[];++l<e;)n&&n[l].run();l=-1,e=a.length}n=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new d(t,e)),1!==a.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}},u=!0;try{e[t](i,i.exports,n),u=!1}finally{u&&delete r[t]}return i.exports}n.ab="//";var o=n(229);t.exports=o}()},8993:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r(7437),o=r(2265),i=r(3531),u=r(5189);function s(){return(0,o.useEffect)(()=>(console.info("init cros iframe storage"),window.addEventListener("message",t=>{var e,r;if(!(0,u.Ud)(t.origin))return;let n=t.data.storage===i.Z.LOCAL?localStorage:sessionStorage;console.log("Received message",JSON.stringify(t.data));try{let r=null;switch(t.data.command){case i.w.GET:r=n.getItem(t.data.key);break;case i.w.SET:if(t.data.value)n.setItem(t.data.key,t.data.value),r=t.data.value;else throw Error("Value is required for set command");break;case i.w.REMOVE:n.removeItem(t.data.key)}let o={value:r,requestId:t.data.requestId};null===(e=t.source)||void 0===e||e.postMessage(o,{targetOrigin:t.origin})}catch(n){let e={requestId:t.data.requestId,value:null,error:n instanceof Error?n.message:"Unknown error"};null===(r=t.source)||void 0===r||r.postMessage(e,{targetOrigin:t.origin})}}),()=>{window.removeEventListener("message",()=>{})}),[]),(0,n.jsx)(n.Fragment,{})}},5189:function(t,e,r){"use strict";r.d(e,{B1:function(){return a},Ee:function(){return o},Tb:function(){return l},Ud:function(){return p},Y4:function(){return c},Yo:function(){return d},lC:function(){return i},lg:function(){return u},oT:function(){return s},qw:function(){return f}});var n=r(357);let o="user_info",i="production",u="http://www.sparrowzoo.com",s="SESSION",a="sparrow-token",c="http://www.sparrowzoo.com/react",l="http://passport.sparrowzoo.com/cros-storage",f="http://passport.sparrowzoo.com/captcha";function p(t){let e="http://www.sparrowzoo.com,http://passport.sparrowzoo.com";return!e||e.split(",").includes(t)}n.env.NEXT_PUBLIC_LOGIN_URL;let d="ws://www.sparrowzoo.com/websocket"},3531:function(t,e,r){"use strict";var n,o,i,u;r.d(e,{Z:function(){return o},w:function(){return n}}),(i=n||(n={})).GET="get",i.SET="set",i.REMOVE="remove",(u=o||(o={})).LOCAL="local",u.SESSION="session",u.AUTOMATIC="automatic"}},function(t){t.O(0,[971,23,744],function(){return t(t.s=2285)}),_N_E=t.O()}]);