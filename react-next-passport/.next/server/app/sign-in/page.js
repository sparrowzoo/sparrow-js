(()=>{var e={};e.id=253,e.ids=[253],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(2618),r(3551),r(5866);var n=r(3191),s=r(8716),a=r(7922),i=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["sign-in",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2618)),"D:\\workspace\\sparrow\\sparrow-js\\react-next-passport\\src\\app\\sign-in\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,3551)),"D:\\workspace\\sparrow\\sparrow-js\\react-next-passport\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\workspace\\sparrow\\sparrow-js\\react-next-passport\\src\\app\\sign-in\\page.tsx"],u="/sign-in/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/sign-in/page",pathname:"/sign-in",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7659:(e,t,r)=>{Promise.resolve().then(r.bind(r,5416))},9029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=r(1174),s=r(3078),a=r(2481),i=n._(r(6820));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},5416:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var n=r(326),s=r(9029),a=r.n(s),i=r(434),o=r(1664),l=r(1190),c=r(4794),d=r(4723),u=r(7573);let p=u.Ryn({userName:u.zGw(u.Z_8("请输入用户名或邮箱"),u.v2J("请输入用户名或邮箱")),password:u.zGw(u.Z_8(),u.v2J("请输入密码."),u.EiV(8,"密码至少8个字符"),u.SzQ(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$/,"密码格式 至少8个字符，至少1个字母，1个数字和1个特殊字符")),captcha:u.zGw(u.Z_8(),u.v2J("请输入验证码."),u.EiV(4,"验证码至少4个字符")),rememberMe:u.zGw(u.YjB(),u.vs(e=>!0===e))});var m=r(2019),f=r(7577),x=r(7614),h=r(381),g=r(7019),v=r(8250),w=r(3983),b=r(8051);function j(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function N(e){let t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...e)=>t.current?.(...e),[])}var y=globalThis?.document?f.useLayoutEffect:()=>{},P=e=>{let{present:t,children:r}=e,n=function(e){var t,r;let[n,s]=f.useState(),a=f.useRef({}),i=f.useRef(e),o=f.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},f.useReducer((e,t)=>r[e][t]??e,t));return f.useEffect(()=>{let e=_(a.current);o.current="mounted"===l?e:"none"},[l]),y(()=>{let t=a.current,r=i.current;if(r!==e){let n=o.current,s=_(t);e?c("MOUNT"):"none"===s||t?.display==="none"?c("UNMOUNT"):r&&n!==s?c("ANIMATION_OUT"):c("UNMOUNT"),i.current=e}},[e,c]),y(()=>{if(n){let e;let t=n.ownerDocument.defaultView??window,r=r=>{let s=_(a.current).includes(r.animationName);if(r.target===n&&s&&(c("ANIMATION_END"),!i.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},s=e=>{e.target===n&&(o.current=_(a.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(e=>{e&&(a.current=getComputedStyle(e)),s(e)},[])}}(t),s="function"==typeof r?r({present:n.isPresent}):f.Children.only(r),a=(0,b.e)(n.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(s));return"function"==typeof r||n.isPresent?f.cloneElement(s,{ref:a}):null};function _(e){return e?.animationName||"none"}P.displayName="Presence";var k=r(5226),E="Checkbox",[M,O]=function(e,t=[]){let r=[],s=()=>{let t=r.map(e=>f.createContext(e));return function(r){let n=r?.[e]||t;return f.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(t,s){let a=f.createContext(s),i=r.length;r=[...r,s];let o=t=>{let{scope:r,children:s,...o}=t,l=r?.[e]?.[i]||a,c=f.useMemo(()=>o,Object.values(o));return(0,n.jsx)(l.Provider,{value:c,children:s})};return o.displayName=t+"Provider",[o,function(r,n){let o=n?.[e]?.[i]||a,l=f.useContext(o);if(l)return l;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...t)]}(E),[C,R]=M(E),S=f.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...p}=e,[m,x]=f.useState(null),h=(0,b.e)(t,e=>x(e)),g=f.useRef(!1),v=!m||u||!!m.closest("form"),[w=!1,y]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[n,s]=function({defaultProp:e,onChange:t}){let r=f.useState(e),[n]=r,s=f.useRef(n),a=N(t);return f.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,i=a?e:n,o=N(r);return[i,f.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&o(r)}else s(t)},[a,e,s,o])]}({prop:a,defaultProp:i,onChange:d}),P=f.useRef(w);return f.useEffect(()=>{let e=m?.form;if(e){let t=()=>y(P.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[m,y]),(0,n.jsxs)(C,{scope:r,state:w,disabled:l,children:[(0,n.jsx)(k.WV.button,{type:"button",role:"checkbox","aria-checked":z(w)?"mixed":w,"aria-required":o,"data-state":L(w),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:h,onKeyDown:j(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:j(e.onClick,e=>{y(e=>!!z(e)||!e),v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),v&&(0,n.jsx)(T,{control:m,bubbles:!g.current,name:s,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:!z(i)&&i})]})});S.displayName=E;var A="CheckboxIndicator",I=f.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,i=R(A,r);return(0,n.jsx)(P,{present:s||z(i.state)||!0===i.state,children:(0,n.jsx)(k.WV.span,{"data-state":L(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});I.displayName=A;var T=e=>{let{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=f.useRef(null),l=function(e){let t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),c=function(e){let[t,r]=f.useState(void 0);return y(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(t);f.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let n=new Event("click",{bubbles:s});e.indeterminate=z(r),t.call(e,!z(r)&&r),e.dispatchEvent(n)}},[l,r,s]);let d=f.useRef(!z(r)&&r);return(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z(e){return"indeterminate"===e}function L(e){return z(e)?"indeterminate":e?"checked":"unchecked"}var D=["color"],q=(0,f.forwardRef)(function(e,t){var r=e.color,n=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,D);return(0,f.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,f.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),$=r(1223);let G=f.forwardRef(({className:e,...t},r)=>n.jsx(S,{ref:r,className:(0,$.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(I,{className:(0,$.cn)("flex items-center justify-center text-current"),children:n.jsx(q,{className:"h-4 w-4"})})}));G.displayName=S.displayName;var U=r(1114);function Z(){let[e,t]=f.useState(!1),r=(0,U.Z)(),{register:s,setValue:u,handleSubmit:b,formState:{errors:j}}=(0,d.cI)({mode:"onChange",resolver:(0,m.Y)(p,{abortEarly:!1})});return(0,n.jsxs)("div",{className:"w-full text-left",children:[n.jsx(h.x7,{position:"top-center",reverseOrder:!1}),(0,n.jsxs)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-2 xl:min-h-[800px]",children:[n.jsx("div",{className:"flex items-center justify-center py-12",children:(0,n.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,n.jsxs)("div",{className:"grid gap-2 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Login"}),n.jsx("p",{className:"text-balance text-muted-foreground",children:"输入用户名/邮箱和密码"})]}),(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[n.jsx(c._,{htmlFor:"userName",children:"用户名或邮箱"}),n.jsx(l.I,{...s("userName"),id:"userName",type:"text",placeholder:"请输入用户名或邮箱"}),n.jsx(w.B,{errors:j,name:"userName",render:({message:e})=>n.jsx("p",{className:"text-red-700 text-sm",children:e})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx(c._,{htmlFor:"password",children:"Password"}),n.jsx(i.default,{href:"/forgot-password",className:"ml-auto inline-block text-sm underline",children:"忘记密码?"})]}),n.jsx(l.I,{...s("password"),id:"password",type:"password"}),n.jsx(w.B,{errors:j,name:"password",render:({message:e})=>n.jsx("p",{className:"text-red-700 text-sm",children:e})})]}),(0,n.jsxs)("div",{className:"flex-col items-left ",children:[n.jsx(c._,{className:"w-32",htmlFor:"captcha",children:"验证码"}),(0,n.jsxs)("div",{className:"flex flex-row items-left cursor-pointer",children:[n.jsx(l.I,{...s("captcha"),className:"w-32",id:"captcha",type:"text"}),n.jsx("img",{ref:r,src:v.Z,alt:"captcha",className:"w-16 h-8 cursor-pointer"})]}),n.jsx(w.B,{errors:j,name:"captcha",render:({message:e})=>n.jsx("p",{className:"text-red-700 text-sm",children:e})})]}),(0,n.jsxs)("div",{className:"flex flex-row-reverse gap-2",children:[n.jsx(G,{defaultChecked:!1,onCheckedChange:function(e){u("rememberMe",e)},id:"rememberMe"}),n.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"}),n.jsx(w.B,{errors:j,name:"rememberMe",render:({message:e})=>n.jsx("p",{className:"text-red-700 text-sm",children:e})})]}),(0,n.jsxs)(o.z,{onClick:b((e,r)=>{t(!0),x.Z.post("/shortcut-login.json",JSON.stringify(e),!1,!0).then(e=>{t(!1),h.ZP.success("恭喜！登录成功，欢迎回来！志哥欢迎您！！！"),setTimeout(()=>{window.location.href="/"},2e3)}).catch(e=>{t(!1)})}),className:"cursor-pointer",type:"submit",disabled:e,children:[e&&n.jsx(g.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"登录"]}),n.jsx(o.z,{variant:"outline",className:"w-full",children:"Login with wechat"})]}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm",children:["还没有帐号?"," ",n.jsx(i.default,{href:"/sign-up",className:"underline",children:"注册"})]})]})}),n.jsx("div",{className:"hidden min-h-screen bg-muted lg:block",children:n.jsx(a(),{src:"/brand/sparrow2.jpg",alt:"Image",width:"1920",height:"1080",className:"h-full w-full object-cover dark:brightness-[0.8] dark:grayscale"})})]})]})}r(2935)},2618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var n=r(8570);let s=(0,n.createProxy)(String.raw`D:\workspace\sparrow\sparrow-js\react-next-passport\src\app\sign-in\page.tsx`),{__esModule:a,$$typeof:i}=s;s.default;let o=(0,n.createProxy)(String.raw`D:\workspace\sparrow\sparrow-js\react-next-passport\src\app\sign-in\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,811,621,664,300],()=>r(9360));module.exports=n})();