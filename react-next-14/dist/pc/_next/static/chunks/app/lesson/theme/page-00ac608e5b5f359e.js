(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3474],{37080:function(e,t,n){Promise.resolve().then(n.bind(n,29579))},29579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(57437),o=n(2265),l=n(91326),c=n(81915),i=n(91050),s=n(75519);function d(e){let{mode:t}=e;console.log("Children Execute ....."+t+Math.random());let n=o.useContext(a);return(0,r.jsx)(l.Z,{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",bgcolor:"background.default",color:"text.primary",borderRadius:1,p:3},children:(0,r.jsx)(s.Z,{value:t,sx:{ml:1,bgcolor:"background.default",color:"text.primary"},onClick:()=>{n.toggleMode(t)},color:"inherit",children:t})})}function u(){return console.log("理论上只会执行一次，但在这里，即使把ToggleModeContext 和ThemeProvider全部移除，依然会执行"),(0,r.jsx)("div",{children:"干净的组件我不会变"})}let a=o.createContext({toggleMode:e=>{}});function m(){console.log("innerParent");let{currentTheme:e,toggleMode:t}=(0,i.F)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Provider,{value:t,children:[(0,r.jsx)(u,{}),(0,r.jsxs)(c.Z,{theme:e,children:[(0,r.jsx)(d,{mode:"light"}),(0,r.jsx)(d,{mode:"dark"}),(0,r.jsx)(d,{mode:"OS"})]})]})})}function f(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(m,{})]})}},91050:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var r=n(2265),o=n(48022),l=n(32804);let c=(0,o.Z)({palette:{mode:"light",primary:{main:"#90caf9"},secondary:{main:"#ce93d8"}}}),i=(0,o.Z)({palette:{mode:"dark",primary:{main:"#90caf9"},secondary:{main:"#ce93d8"}}}),s=null;function d(){let[e,t]=r.useState("OS"),n=r.useMemo(()=>({toggleMode:e=>{t(e)}}),[]);console.log("is same object "+Object.is(n,s)),s=n;let o=(0,l.Z)("(prefers-color-scheme: dark)");return{currentTheme:"OS"==e?o?i:c:"light"==e?c:i,toggleMode:n}}}},function(e){e.O(0,[6331,2759,3314,8666,9022,4981,2971,7023,1744],function(){return e(e.s=37080)}),_N_E=e.O()}]);