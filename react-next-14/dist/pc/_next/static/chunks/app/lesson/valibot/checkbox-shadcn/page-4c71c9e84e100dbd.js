(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5896],{1865:function(e,r,t){Promise.resolve().then(t.bind(t,11082))},51706:function(e,r,t){"use strict";t.d(r,{B:function(){return u}});var n=t(2265),s=t(39343),u=function(e){var r=e.as,t=e.errors,u=e.name,o=e.message,i=e.render,l=function(e,r){if(null==e)return{};var t,n,s={},u=Object.keys(e);for(n=0;n<u.length;n++)r.indexOf(t=u[n])>=0||(s[t]=e[t]);return s}(e,["as","errors","name","message","render"]),a=(0,s.Gc)(),c=(0,s.U2)(t||a.formState.errors,u);if(!c)return null;var f=c.message,d=c.types,m=Object.assign({},l,{children:f||o});return n.isValidElement(r)?n.cloneElement(r,m):i?i({message:f||o,messages:d}):n.createElement(r||n.Fragment,m)}},8911:function(e,r,t){"use strict";let n=(0,t(2265).createContext)(!1);r.Z=n},11082:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var n=t(57437),s=t(39343),u=t(23927),o=t(98047);let i=o.Ryn({rememberMe:o.zGw(o.YjB(),o.BF5(e=>!0===e||!1===e,"Remember me must be true or false"))});var l=t(2265),a=t(74869),c=t(10554);function f(e){return"indeterminate"===e}var d=e=>{let{control:r,checked:t,bubbles:s=!0,...u}=e,o=l.useRef(null),i=(0,a.D)(t),d=(0,c.t)(r);return l.useEffect(()=>{let e=o.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==t&&r){let n=new Event("click",{bubbles:!1});e.indeterminate=f(t),r.call(e,!f(t)&&t),e.dispatchEvent(n)}},[i,t,s]),(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:!f(t)&&t,...u,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m(e){let r=l.useRef(e);return l.useEffect(()=>{r.current=e}),l.useMemo(()=>function(){for(var e,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return null===(e=r.current)||void 0===e?void 0:e.call(r,...n)},[])}var b=t(8911);function v(e){return"indeterminate"===e}let h=l.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:s,checked:u,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:f,...h}=e,[p,x]=l.useState(null),y=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return l.useCallback(function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return e=>r.forEach(r=>{"function"==typeof r?r(e):null!=r&&(r.current=e)})}(...r),r)}(r,e=>x(e)),g=l.useRef(!1),k=!p||!!p.closest("form"),[j=!1,E]=function(e){let{prop:r,defaultProp:t,onChange:n=()=>{}}=e,[s,u]=function(e){let{defaultProp:r,onChange:t}=e,n=l.useState(r),[s]=n,u=l.useRef(s),o=m(t);return l.useEffect(()=>(u.current!==s&&(o(s),u.current=s),()=>{console.log("unmount")}),[s,u,o]),n}({defaultProp:t,onChange:n}),o=void 0!==r,i=o?r:s,a=m(n);return[i,l.useCallback(e=>{if(o){let t="function"==typeof e?e(r):e;t!==r&&a(t)}else u(e)},[o,r,u,a])]}({prop:u,defaultProp:o,onChange:f}),w=l.useRef(j);return l.useEffect(()=>{let e=null==p?void 0:p.form;if(e){let r=()=>E(w.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[p,E]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(b.Z.Provider,{value:j,children:[(0,n.jsx)("button",{type:"button",role:"checkbox","aria-checked":v(j)?"mixed":j,"aria-required":i,"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:y,onClick:e=>{E(e=>!!v(e)||!e),k&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())}}),k&&(0,n.jsx)(d,{control:p,bubbles:!g.current,name:s,value:c,checked:j,required:i,disabled:a,style:{transform:"translateX(-100%)"}})]})})});h.displayName="Checkbox";var p=t(4867);let x=l.forwardRef((e,r)=>{let t=(0,l.useContext)(b.Z),{__scopeCheckbox:s,forceMount:u,...o}=e;return(0,n.jsx)("div",{children:t&&(0,n.jsx)("span",{"data-state":"unchecked","data-disabled":"false",...o,ref:r,style:{pointerEvents:"none",...e.style},children:(0,n.jsx)(p.nQG,{className:"h-4 w-4"})})})});x.displayName="CheckboxIndicator";var y=t(51706),g=()=>{let e=l.useRef(null),{register:r,handleSubmit:t,control:o,formState:{errors:a}}=(0,s.cI)({resolver:(0,u.Y)(i,{abortEarly:!0})});return r("rememberMe",{required:!0}),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{onClick:()=>{alert("div clicked")},children:[(0,n.jsx)("h1",{children:"原生复选框"}),(0,n.jsxs)("form",{children:[(0,n.jsx)(h,{id:"rememberMe",ref:e,className:"w-4 h-4 border-2 border-gray-300 rounded-sm",name:"rememberMe",children:(0,n.jsx)(x,{})}),(0,n.jsx)(y.B,{errors:a,name:"rememberMe"}),(0,n.jsx)("button",{onClick:t((e,r)=>{console.log(e),null==r||r.preventDefault(),console.log(r),alert(JSON.stringify(e,null,2))}),type:"submit",children:"submit"})]})]})})}},74869:function(e,r,t){"use strict";t.d(r,{D:function(){return s}});var n=t(2265);function s(e){let r=n.useRef({value:e,previous:e});return n.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},10554:function(e,r,t){"use strict";t.d(r,{t:function(){return s}});var n=t(2265);function s(e){let[r,t]=n.useState(void 0);return(0,n.useLayoutEffect)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let n,s;if(!Array.isArray(r)||!r.length)return;let u=r[0];if("borderBoxSize"in u){let e=u.borderBoxSize,r=Array.isArray(e)?e[0]:e;n=r.inlineSize,s=r.blockSize}else n=e.offsetWidth,s=e.offsetHeight;t({width:n,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}}},function(e){e.O(0,[8310,3927,2971,7023,1744],function(){return e(e.s=1865)}),_N_E=e.O()}]);