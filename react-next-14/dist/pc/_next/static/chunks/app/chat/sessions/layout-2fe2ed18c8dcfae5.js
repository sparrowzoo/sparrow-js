(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9822],{32919:function(e,t,r){Promise.resolve().then(r.bind(r,55180))},87138:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(231),s=r.n(n)},60291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(99920)._(r(2265)).default.createContext(null)},55180:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(57437),s=r(87138),i=r(2265),u=r(21292),c=r(49753);function o(e){let t=u.Z.parse(e.sessionKey),r="".concat(c.Y4,"/chat/sessions/session?sessionKey=").concat(e.sessionKey);null==t||t.getOppositeUser();let[o,a]=(0,i.useState)("");return(0,i.useEffect)(()=>{let t=u.Z.parse(e.sessionKey),r=null==t?void 0:t.getOppositeUser();a("".concat(c.Y4,"/avatar/").concat(null==r?void 0:r.getId(),".jpg"))},[e.sessionKey]),(0,n.jsxs)("div",{className:"flex items-center text-left",children:[(0,n.jsx)(s.default,{href:r,children:(0,n.jsx)("img",{className:"w-16 h-16 rounded-full mr-4",src:o})}),(0,n.jsx)("div",{children:(0,n.jsxs)(s.default,{href:r,children:[(0,n.jsx)("strong",{children:"Andrew Alfred"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"Technical advisor"})]})})]})}},49753:function(e,t,r){"use strict";r.d(t,{B1:function(){return u},Ee:function(){return n},Y4:function(){return o},Yo:function(){return a},_k:function(){return c},lg:function(){return s},oT:function(){return i}});let n="user_info",s="http://www.sparrowzoo.com",i="SESSION",u="sparrow-token",c="SESSION",o="http://www.sparrowzoo.com/react",a="ws://www.sparrowzoo.com/websocket"},51447:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});class n{static bytes2ArrayBuffer(e){let t=new Uint8Array(e.length);for(let r=0;r<t.length;r++)t[r]=e[r];return t}static str2Buffer(e){if("undefined"==typeof TextEncoder){let t,r=[];for(let n=0;n<e.length;n++)(t=e.charCodeAt(n))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);return n.bytes2ArrayBuffer(r)}return new TextEncoder().encode(e)}static number2Buffer(e){var t=[],r=length=4;do t[--r]=255&e,e>>=8;while(r);return n.bytes2ArrayBuffer(t)}static appendBytes(e,t,r){return e.set(t,r),r+t.byteLength}readString(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s="",i=n?2:1;for(let u=0;u<r;u+=i)s+=String.fromCharCode(n?e.getUint16(t+u,!0):e.getUint8(t+u));return s}}},17892:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});class n{}n.TEXT_MESSAGE=0,n.IMAGE_MESSAGE=1,n.CHAT_TYPE_1_TO_1=0,n.CHAT_TYPE_GROUP=1,n.HORIZON_LINE="-"},21292:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(17892),s=r(8713);class i{get chatType(){return this._chatType}set chatType(e){this._chatType=e}get id(){return this._id}set id(e){this._id=e}static create121Session(e,t){let r=new i;return r.chatType=n.Z.CHAT_TYPE_1_TO_1,r.id=r.generateKey(e,t),r}static parse(e){if(null==e)return null;let t=new i,r=parseInt(e.substring(0,1),10),n=e.substring(1);return t._chatType=r,t.id=n,t}static createGroupSession(e){let t=new i;return t.chatType=n.Z.CHAT_TYPE_GROUP,t.id=e,t}isGroup(){return this._chatType==n.Z.CHAT_TYPE_GROUP}isOne2One(){return this._chatType==n.Z.CHAT_TYPE_1_TO_1}getOppositeUser(){let e=s.Z.getCurrentUser();if(null==e||this._chatType===n.Z.CHAT_TYPE_GROUP)return null;let t=this.id.substring(0,1),r=this.id.substring(1,2),i=parseInt(this.id.substring(2,4),10),u=this.id.substring(4,4+i),c=this.id.substring(4+i),o=new s.Z(u,parseInt(t,10)),a=new s.Z(c,parseInt(r,10));return o.equals(e)?a:o}toBytes(){return new TextEncoder().encode(this._chatType+this.id)}key(){return this.chatType+this.id}generateKey(e,t){if(null==e||null==t)return"";let r=e,n=t;e.getId()<=t.getId()&&(r=t,n=e);let s=(r.getId()+"").length,i=s+"";return s<10&&(i="0"+s),r.getCategory()+""+n.getCategory()+i+r.getId()+n.getId()}}},8713:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(51447),s=r(49753);class i{static fromBytes(e,t){let r=e.buffer,n=e.getUint8(t);t+=1;let s=new Uint8Array(r.slice(t,t+n));return t+=n,{chatUser:new i(new TextDecoder().decode(s),e.getUint8(t)),offset:t+1}}static parse(e){let t=e.split("_");return 2!=t.length?null:new i(t[0],Number(t[1]))}static getCurrentUser(){let e=sessionStorage.getItem(s.Ee);if(!e)return null;let t=JSON.parse(e);return new i(t.userId,t.category)}getId(){return this.id}getCategory(){return this.category}getCategoryName(){return this.category==i.CATEGORY_VISITOR?"访客":this.category==i.CATEGORY_REGISTER?"注册用户":"未知"}key(){return this.id+"_"+this.category}equals(e){return null!=e&&this.id==e.getId()&&this.category==e.getCategory()}toBytes(){let e=n.Z.str2Buffer(this.id+""),t=new Uint8Array([this.category]),r=new Uint8Array(1+e.byteLength+1),s=e.byteLength,i=0;return i=n.Z.appendBytes(r,new Uint8Array([s]),i),i=n.Z.appendBytes(r,e,i),n.Z.appendBytes(r,t,i),r}constructor(e,t){this.id=e,this.category=t}}i.CATEGORY_VISITOR=0,i.CATEGORY_REGISTER=1}},function(e){e.O(0,[231,2971,7023,1744],function(){return e(e.s=32919)}),_N_E=e.O()}]);