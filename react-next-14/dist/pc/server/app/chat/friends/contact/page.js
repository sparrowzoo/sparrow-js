/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/chat/friends/contact/page";
exports.ids = ["app/chat/friends/contact/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Ffriends%2Fcontact%2Fpage&page=%2Fchat%2Ffriends%2Fcontact%2Fpage&appPaths=%2Fchat%2Ffriends%2Fcontact%2Fpage&pagePath=private-next-app-dir%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx&appDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=http%3A%2F%2Flocalhost%3A3001&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Ffriends%2Fcontact%2Fpage&page=%2Fchat%2Ffriends%2Fcontact%2Fpage&appPaths=%2Fchat%2Ffriends%2Fcontact%2Fpage&pagePath=private-next-app-dir%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx&appDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=http%3A%2F%2Flocalhost%3A3001&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'chat',\n        {\n        children: [\n        'friends',\n        {\n        children: [\n        'contact',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/friends/contact/page.tsx */ \"(rsc)/./src/app/chat/friends/contact/page.tsx\")), \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/friends/layout.tsx */ \"(rsc)/./src/app/chat/friends/layout.tsx\")), \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/layout.tsx */ \"(rsc)/./src/app/chat/layout.tsx\")), \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\"],\n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      }.children;\nconst pages = [\"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/chat/friends/contact/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/chat/friends/contact/page\",\n        pathname: \"/chat/friends/contact\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZjaGF0JTJGZnJpZW5kcyUyRmNvbnRhY3QlMkZwYWdlJnBhZ2U9JTJGY2hhdCUyRmZyaWVuZHMlMkZjb250YWN0JTJGcGFnZSZhcHBQYXRocz0lMkZjaGF0JTJGZnJpZW5kcyUyRmNvbnRhY3QlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGY2hhdCUyRmZyaWVuZHMlMkZjb250YWN0JTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ6aGFuZ2xpemhpJTJGd29ya3NwYWNlJTJGc3BhcnJvdyUyRnNwYXJyb3ctanMlMkZyZWFjdC1uZXh0LTE0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PWh0dHAlM0ElMkYlMkZsb2NhbGhvc3QlM0EzMDAxJm5leHRDb25maWdPdXRwdXQ9ZXhwb3J0JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLDBMQUF1STtBQUM5SjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5Qiw4S0FBaUk7QUFDMUo7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLDhKQUF5SDtBQUNsSjtBQUNBLG9DQUFvQyxzZkFBNFE7QUFDaFQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQW9IO0FBQzdJLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQSxvQ0FBb0Msc2ZBQTRRO0FBQ2hUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvPzU3ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJUVVJCT1BBQ0sgeyB0cmFuc2l0aW9uOiBuZXh0LXNzciB9XCI7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnY2hhdCcsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2ZyaWVuZHMnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdjb250YWN0JyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L3NyYy9hcHAvY2hhdC9mcmllbmRzL2NvbnRhY3QvcGFnZS50c3hcIiksIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L3NyYy9hcHAvY2hhdC9mcmllbmRzL2NvbnRhY3QvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvYXBwL2NoYXQvZnJpZW5kcy9sYXlvdXQudHN4XCIpLCBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvYXBwL2NoYXQvZnJpZW5kcy9sYXlvdXQudHN4XCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvYXBwL2NoYXQvbGF5b3V0LnRzeFwiKSwgXCIvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvc3JjL2FwcC9jaGF0L2xheW91dC50c3hcIl0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgaWNvbjogWyhhc3luYyAocHJvcHMpID0+IChhd2FpdCBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQtbWV0YWRhdGEtaW1hZ2UtbG9hZGVyP3R5cGU9ZmF2aWNvbiZzZWdtZW50PSZiYXNlUGF0aD0mcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyEvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvc3JjL2FwcC9mYXZpY29uLmljbz9fX25leHRfbWV0YWRhdGFfX1wiKSkuZGVmYXVsdChwcm9wcykpXSxcbiAgICBhcHBsZTogW10sXG4gICAgb3BlbkdyYXBoOiBbXSxcbiAgICB0d2l0dGVyOiBbXSxcbiAgICBtYW5pZmVzdDogdW5kZWZpbmVkXG4gIH1cbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvYXBwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgaWNvbjogWyhhc3luYyAocHJvcHMpID0+IChhd2FpdCBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQtbWV0YWRhdGEtaW1hZ2UtbG9hZGVyP3R5cGU9ZmF2aWNvbiZzZWdtZW50PSZiYXNlUGF0aD0mcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyEvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvc3JjL2FwcC9mYXZpY29uLmljbz9fX25leHRfbWV0YWRhdGFfX1wiKSkuZGVmYXVsdChwcm9wcykpXSxcbiAgICBhcHBsZTogW10sXG4gICAgb3BlbkdyYXBoOiBbXSxcbiAgICB0d2l0dGVyOiBbXSxcbiAgICBtYW5pZmVzdDogdW5kZWZpbmVkXG4gIH1cbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvYXBwL2NoYXQvZnJpZW5kcy9jb250YWN0L3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvY2hhdC9mcmllbmRzL2NvbnRhY3QvcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9jaGF0L2ZyaWVuZHMvY29udGFjdC9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jaGF0L2ZyaWVuZHMvY29udGFjdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Ffriends%2Fcontact%2Fpage&page=%2Fchat%2Ffriends%2Fcontact%2Fpage&appPaths=%2Fchat%2Ffriends%2Fcontact%2Fpage&pagePath=private-next-app-dir%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx&appDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=http%3A%2F%2Flocalhost%3A3001&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ6aGFuZ2xpemhpJTJGd29ya3NwYWNlJTJGc3BhcnJvdyUyRnNwYXJyb3ctanMlMkZyZWFjdC1uZXh0LTE0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ6aGFuZ2xpemhpJTJGd29ya3NwYWNlJTJGc3BhcnJvdyUyRnNwYXJyb3ctanMlMkZyZWFjdC1uZXh0LTE0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ6aGFuZ2xpemhpJTJGd29ya3NwYWNlJTJGc3BhcnJvdyUyRnNwYXJyb3ctanMlMkZyZWFjdC1uZXh0LTE0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRnpoYW5nbGl6aGklMkZ3b3Jrc3BhY2UlMkZzcGFycm93JTJGc3BhcnJvdy1qcyUyRnJlYWN0LW5leHQtMTQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZub3QtZm91bmQtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ6aGFuZ2xpemhpJTJGd29ya3NwYWNlJTJGc3BhcnJvdyUyRnNwYXJyb3ctanMlMkZyZWFjdC1uZXh0LTE0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXdKO0FBQ3hKO0FBQ0Esb09BQXlKO0FBQ3pKO0FBQ0EsME9BQTRKO0FBQzVKO0FBQ0Esd09BQTJKO0FBQzNKO0FBQ0Esa1BBQWdLO0FBQ2hLO0FBQ0Esc1FBQTBLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Lz81ZWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Freact-hot-toast%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fcomponents%2FChatLayout.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Freact-hot-toast%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fcomponents%2FChatLayout.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/react-hot-toast/dist/index.mjs */ \"(ssr)/./node_modules/react-hot-toast/dist/index.mjs\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ChatLayout.tsx */ \"(ssr)/./src/components/ChatLayout.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRm5vZGVfbW9kdWxlcyUyRnJlYWN0LWhvdC10b2FzdCUyRmRpc3QlMkZpbmRleC5tanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJUb2FzdGVyJTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRnNyYyUyRmNvbXBvbmVudHMlMkZDaGF0TGF5b3V0LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNNQUEwSztBQUMxSztBQUNBLDBLQUE0SiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8/ZmNkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlRvYXN0ZXJcIl0gKi8gXCIvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC10b2FzdC9kaXN0L2luZGV4Lm1qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIi9Vc2Vycy96aGFuZ2xpemhpL3dvcmtzcGFjZS9zcGFycm93L3NwYXJyb3ctanMvcmVhY3QtbmV4dC0xNC9zcmMvY29tcG9uZW50cy9DaGF0TGF5b3V0LnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fnode_modules%2Freact-hot-toast%2Fdist%2Findex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fcomponents%2FChatLayout.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/friends/contact/page.tsx */ \"(ssr)/./src/app/chat/friends/contact/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRnNyYyUyRmFwcCUyRmNoYXQlMkZmcmllbmRzJTJGY29udGFjdCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSwwTEFBdUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvPzQ1YTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvemhhbmdsaXpoaS93b3Jrc3BhY2Uvc3BhcnJvdy9zcGFycm93LWpzL3JlYWN0LW5leHQtMTQvc3JjL2FwcC9jaGF0L2ZyaWVuZHMvY29udGFjdC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/chat/friends/layout.tsx */ \"(ssr)/./src/app/chat/friends/layout.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGemhhbmdsaXpoaSUyRndvcmtzcGFjZSUyRnNwYXJyb3clMkZzcGFycm93LWpzJTJGcmVhY3QtbmV4dC0xNCUyRnNyYyUyRmFwcCUyRmNoYXQlMkZmcmllbmRzJTJGbGF5b3V0LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsOEtBQWlJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Lz9hODFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL3poYW5nbGl6aGkvd29ya3NwYWNlL3NwYXJyb3cvc3BhcnJvdy1qcy9yZWFjdC1uZXh0LTE0L3NyYy9hcHAvY2hhdC9mcmllbmRzL2xheW91dC50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fchat%2Ffriends%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \******************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./src/app/chat/friends/contact/page.tsx":
/*!***********************************************!*\
  !*** ./src/app/chat/friends/contact/page.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContactPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var _components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/img/DynamicImage */ \"(ssr)/./src/components/img/DynamicImage.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction Contact() {\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const friendId = searchParams?.get(\"friendId\");\n    const headSrc = `/avatar/${friendId}.jpg`;\n    const contactUrl = `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_4__.NEXT_ASSET_PREFIX}/chat/sessions/session?sessionKey=${friendId}`;\n    // URL -> `/dashboard?search=my-project`\n    // `search` -> 'my-project'\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col p-4 bg-white shadow-md\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-row items-center text-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        href: contactUrl,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_5__.DynamicImage, {\n                            className: \"w-16 h-16 rounded-full mr-4\",\n                            src: headSrc,\n                            alt: \"Contact Avatar\",\n                            width: 50,\n                            height: 50\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                            lineNumber: 21,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            href: contactUrl,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: [\n                                        \"Andrew Alfred \",\n                                        friendId\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                                    lineNumber: 31,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                                    lineNumber: 32,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"Technical advisor\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                                    lineNumber: 33,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                            lineNumber: 30,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-gray-500 text-left\",\n                children: \"中国共产党的优秀党员,忠诚的共产主义战士,享誉海内外的杰出科学家和我国航天事业的奠基人,中国科学院、中国工程院资深院士,中国人民政治协商会议第六\"\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\nfunction ContactPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Contact, {}, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n            lineNumber: 47,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx\",\n        lineNumber: 46,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL2NoYXQvZnJpZW5kcy9jb250YWN0L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDK0I7QUFDRTtBQUNpQjtBQUNyQjtBQUN3QjtBQUNRO0FBRTdELFNBQVNNO0lBQ1AsTUFBTUMsZUFBZUwsZ0VBQWVBO0lBQ3BDLE1BQU1NLFdBQVdELGNBQWNFLElBQUk7SUFFbkMsTUFBTUMsVUFBVSxDQUFDLFFBQVEsRUFBRUYsU0FBUyxJQUFJLENBQUM7SUFDekMsTUFBTUcsYUFBYSxDQUFDLEVBQUVQLDhEQUFpQkEsQ0FBQyxrQ0FBa0MsRUFBRUksU0FBUyxDQUFDO0lBQ3RGLHdDQUF3QztJQUN4QywyQkFBMkI7SUFDM0IscUJBQ0UsOERBQUNJO1FBQUlDLFdBQVc7OzBCQUNkLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNWLGlEQUFJQTt3QkFBQ1csTUFBTUg7a0NBQ1YsNEVBQUNOLHNFQUFZQTs0QkFDWFEsV0FBVzs0QkFDWEUsS0FBS0w7NEJBQ0xNLEtBQUs7NEJBQ0xDLE9BQU87NEJBQ1BDLFFBQVE7Ozs7Ozs7Ozs7O2tDQUdaLDhEQUFDTjtrQ0FDQyw0RUFBQ1QsaURBQUlBOzRCQUFDVyxNQUFNSDs7OENBQ1YsOERBQUNROzt3Q0FBTzt3Q0FBZVg7Ozs7Ozs7OENBQ3ZCLDhEQUFDWTs7Ozs7OENBQ0QsOERBQUNDOzhDQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFJWiw4REFBQ0M7Z0JBQUVULFdBQVc7MEJBQWdDOzs7Ozs7Ozs7Ozs7QUFLcEQ7QUFFZSxTQUFTVTtJQUN0QixxQkFDRSw4REFBQ3RCLDJDQUFRQTtrQkFDUCw0RUFBQ0s7Ozs7Ozs7Ozs7QUFHUCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9hcHAvY2hhdC9mcmllbmRzL2NvbnRhY3QvcGFnZS50c3g/MWIzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3VzcGVuc2UgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IE5FWFRfQVNTRVRfUFJFRklYIH0gZnJvbSBcIkAvY29tbW9uL2xpYi9FbnZcIjtcbmltcG9ydCB7IER5bmFtaWNJbWFnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvaW1nL0R5bmFtaWNJbWFnZVwiO1xuXG5mdW5jdGlvbiBDb250YWN0KCkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3QgZnJpZW5kSWQgPSBzZWFyY2hQYXJhbXM/LmdldChcImZyaWVuZElkXCIpO1xuXG4gIGNvbnN0IGhlYWRTcmMgPSBgL2F2YXRhci8ke2ZyaWVuZElkfS5qcGdgO1xuICBjb25zdCBjb250YWN0VXJsID0gYCR7TkVYVF9BU1NFVF9QUkVGSVh9L2NoYXQvc2Vzc2lvbnMvc2Vzc2lvbj9zZXNzaW9uS2V5PSR7ZnJpZW5kSWR9YDtcbiAgLy8gVVJMIC0+IGAvZGFzaGJvYXJkP3NlYXJjaD1teS1wcm9qZWN0YFxuICAvLyBgc2VhcmNoYCAtPiAnbXktcHJvamVjdCdcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17XCJmbGV4IGZsZXgtY29sIHAtNCBiZy13aGl0ZSBzaGFkb3ctbWRcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIHRleHQtbGVmdFwiPlxuICAgICAgICA8TGluayBocmVmPXtjb250YWN0VXJsfT5cbiAgICAgICAgICA8RHluYW1pY0ltYWdlXG4gICAgICAgICAgICBjbGFzc05hbWU9e1widy0xNiBoLTE2IHJvdW5kZWQtZnVsbCBtci00XCJ9XG4gICAgICAgICAgICBzcmM9e2hlYWRTcmN9XG4gICAgICAgICAgICBhbHQ9e1wiQ29udGFjdCBBdmF0YXJcIn1cbiAgICAgICAgICAgIHdpZHRoPXs1MH1cbiAgICAgICAgICAgIGhlaWdodD17NTB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxMaW5rIGhyZWY9e2NvbnRhY3RVcmx9PlxuICAgICAgICAgICAgPHN0cm9uZz5BbmRyZXcgQWxmcmVkIHtmcmllbmRJZH08L3N0cm9uZz5cbiAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgPHNwYW4+VGVjaG5pY2FsIGFkdmlzb3I8L3NwYW4+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgY2xhc3NOYW1lPXtcIm10LTIgdGV4dC1ncmF5LTUwMCB0ZXh0LWxlZnRcIn0+XG4gICAgICAgIOS4reWbveWFseS6p+WFmueahOS8mOengOWFmuWRmCzlv6Dor5rnmoTlhbHkuqfkuLvkuYnmiJjlo6ss5Lqr6KqJ5rW35YaF5aSW55qE5p2w5Ye656eR5a2m5a625ZKM5oiR5Zu96Iiq5aSp5LqL5Lia55qE5aWg5Z+65Lq6LOS4reWbveenkeWtpumZouOAgeS4reWbveW3peeoi+mZoui1hOa3semZouWjqyzkuK3lm73kurrmsJHmlL/msrvljY/llYbkvJrorq7nrKzlha1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGFjdFBhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlPlxuICAgICAgPENvbnRhY3QgLz5cbiAgICA8L1N1c3BlbnNlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU3VzcGVuc2UiLCJ1c2VTZWFyY2hQYXJhbXMiLCJMaW5rIiwiTkVYVF9BU1NFVF9QUkVGSVgiLCJEeW5hbWljSW1hZ2UiLCJDb250YWN0Iiwic2VhcmNoUGFyYW1zIiwiZnJpZW5kSWQiLCJnZXQiLCJoZWFkU3JjIiwiY29udGFjdFVybCIsImRpdiIsImNsYXNzTmFtZSIsImhyZWYiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInN0cm9uZyIsImJyIiwic3BhbiIsInAiLCJDb250YWN0UGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/chat/friends/contact/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/app/chat/friends/layout.tsx":
/*!*****************************************!*\
  !*** ./src/app/chat/friends/layout.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_WebSocketProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/WebSocketProvider */ \"(ssr)/./src/lib/WebSocketProvider.ts\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _components_Contacts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Contacts */ \"(ssr)/./src/components/Contacts.tsx\");\n/* harmony import */ var _components_Groups__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Groups */ \"(ssr)/./src/components/Groups.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction ChatLayout({ children }) {\n    const webSocketContextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_lib_WebSocketProvider__WEBPACK_IMPORTED_MODULE_2__.WebSocketContext);\n    const messageBroker = webSocketContextValue.messageBroker;\n    const [contactGroup, setContactGroup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        messageBroker.getContactGroup().then((contactGroup)=>{\n            setContactGroup(contactGroup);\n        });\n    }, [\n        messageBroker\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-row\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-[20rem] flex flex-col p-2 gap-4 border-gray-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-cyan-500 text-white p-2 rounded-xl cursor-pointer\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            href: \"/chat\",\n                            children: \"联系人\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                            lineNumber: 27,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Contacts__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        contacts: contactGroup?.contacts\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-cyan-500 text-white p-2 rounded-xl cursor-pointer\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            href: \"/chat/friends/group\",\n                            children: \"群聊\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                            lineNumber: 31,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                        lineNumber: 30,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Groups__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        quns: contactGroup?.quns\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 border-2 border-gray-300\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL2NoYXQvZnJpZW5kcy9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDK0I7QUFDeUI7QUFDRztBQUM5QjtBQUVnQjtBQUNKO0FBRTFCLFNBQVNRLFdBQVcsRUFDakNDLFFBQVEsRUFHUjtJQUNBLE1BQU1DLHdCQUF3QlQsaURBQVVBLENBQUNHLG9FQUFnQkE7SUFDekQsTUFBTU8sZ0JBQWdCRCxzQkFBc0JDLGFBQWE7SUFDekQsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR1YsK0NBQVFBO0lBQ2hERCxnREFBU0EsQ0FBQztRQUNSUyxjQUFjRyxlQUFlLEdBQUdDLElBQUksQ0FBQyxDQUFDSDtZQUNwQ0MsZ0JBQWdCRDtRQUNsQjtJQUNGLEdBQUc7UUFBQ0Q7S0FBYztJQUNsQixxQkFDRSw4REFBQ0s7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVc7a0NBQ2QsNEVBQUNaLGlEQUFJQTs0QkFBQ2EsTUFBSztzQ0FBUTs7Ozs7Ozs7Ozs7a0NBRXJCLDhEQUFDWiw0REFBUUE7d0JBQUNhLFVBQVVQLGNBQWNPOzs7Ozs7a0NBQ2xDLDhEQUFDSDt3QkFBSUMsV0FBVztrQ0FDZCw0RUFBQ1osaURBQUlBOzRCQUFDYSxNQUFLO3NDQUFzQjs7Ozs7Ozs7Ozs7a0NBRW5DLDhEQUFDWCwwREFBTUE7d0JBQUNhLE1BQU1SLGNBQWNROzs7Ozs7Ozs7Ozs7MEJBRTlCLDhEQUFDSjtnQkFBSUMsV0FBVzswQkFBb0NSOzs7Ozs7Ozs7Ozs7QUFHMUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvYXBwL2NoYXQvZnJpZW5kcy9sYXlvdXQudHN4PzExZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFdlYlNvY2tldENvbnRleHQgfSBmcm9tIFwiQC9saWIvV2ViU29ja2V0UHJvdmlkZXJcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBDb250YWN0R3JvdXAgZnJvbSBcIkAvbGliL3Byb3RvY29sL2NvbnRhY3QvQ29udGFjdEdyb3VwXCI7XG5pbXBvcnQgQ29udGFjdHMgZnJvbSBcIkAvY29tcG9uZW50cy9Db250YWN0c1wiO1xuaW1wb3J0IEdyb3VwcyBmcm9tIFwiQC9jb21wb25lbnRzL0dyb3Vwc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0TGF5b3V0KHtcbiAgY2hpbGRyZW4sXG59OiBSZWFkb25seTx7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59Pikge1xuICBjb25zdCB3ZWJTb2NrZXRDb250ZXh0VmFsdWUgPSB1c2VDb250ZXh0KFdlYlNvY2tldENvbnRleHQpO1xuICBjb25zdCBtZXNzYWdlQnJva2VyID0gd2ViU29ja2V0Q29udGV4dFZhbHVlLm1lc3NhZ2VCcm9rZXI7XG4gIGNvbnN0IFtjb250YWN0R3JvdXAsIHNldENvbnRhY3RHcm91cF0gPSB1c2VTdGF0ZTxDb250YWN0R3JvdXA+KCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbWVzc2FnZUJyb2tlci5nZXRDb250YWN0R3JvdXAoKS50aGVuKChjb250YWN0R3JvdXApID0+IHtcbiAgICAgIHNldENvbnRhY3RHcm91cChjb250YWN0R3JvdXAgYXMgQ29udGFjdEdyb3VwKTtcbiAgICB9KTtcbiAgfSwgW21lc3NhZ2VCcm9rZXJdKTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1yb3dcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bMjByZW1dIGZsZXggZmxleC1jb2wgcC0yIGdhcC00IGJvcmRlci1ncmF5LTMwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJiZy1jeWFuLTUwMCB0ZXh0LXdoaXRlIHAtMiByb3VuZGVkLXhsIGN1cnNvci1wb2ludGVyXCJ9PlxuICAgICAgICAgIDxMaW5rIGhyZWY9XCIvY2hhdFwiPuiBlOezu+S6ujwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxDb250YWN0cyBjb250YWN0cz17Y29udGFjdEdyb3VwPy5jb250YWN0c30gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiYmctY3lhbi01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC14bCBjdXJzb3ItcG9pbnRlclwifT5cbiAgICAgICAgICA8TGluayBocmVmPVwiL2NoYXQvZnJpZW5kcy9ncm91cFwiPue+pOiBijwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxHcm91cHMgcXVucz17Y29udGFjdEdyb3VwPy5xdW5zfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17XCJmbGV4LTEgYm9yZGVyLTIgYm9yZGVyLWdyYXktMzAwXCJ9PntjaGlsZHJlbn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIldlYlNvY2tldENvbnRleHQiLCJMaW5rIiwiQ29udGFjdHMiLCJHcm91cHMiLCJDaGF0TGF5b3V0IiwiY2hpbGRyZW4iLCJ3ZWJTb2NrZXRDb250ZXh0VmFsdWUiLCJtZXNzYWdlQnJva2VyIiwiY29udGFjdEdyb3VwIiwic2V0Q29udGFjdEdyb3VwIiwiZ2V0Q29udGFjdEdyb3VwIiwidGhlbiIsImRpdiIsImNsYXNzTmFtZSIsImhyZWYiLCJjb250YWN0cyIsInF1bnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/chat/friends/layout.tsx\n");

/***/ }),

/***/ "(ssr)/./src/common/components/LoadingSpinner.tsx":
/*!**************************************************!*\
  !*** ./src/common/components/LoadingSpinner.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoadingSpinner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_useanimations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-useanimations */ \"(ssr)/./node_modules/react-useanimations/index.js\");\n/* harmony import */ var react_useanimations_lib_loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-useanimations/lib/loading */ \"(ssr)/./node_modules/react-useanimations/lib/loading/index.js\");\n\n\n\n\nfunction LoadingSpinner() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_useanimations__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        animation: react_useanimations_lib_loading__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        size: 56\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/common/components/LoadingSpinner.tsx\",\n        lineNumber: 6,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ3NCO0FBQ007QUFFdkMsU0FBU0c7SUFDdEIscUJBQU8sOERBQUNGLDJEQUFhQTtRQUFDRyxXQUFXRix1RUFBT0E7UUFBRUcsTUFBTTs7Ozs7O0FBQ2xEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbW1vbi9jb21wb25lbnRzL0xvYWRpbmdTcGlubmVyLnRzeD9iNmExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBVc2VBbmltYXRpb25zIGZyb20gXCJyZWFjdC11c2VhbmltYXRpb25zXCI7XG5pbXBvcnQgbG9hZGluZyBmcm9tIFwicmVhY3QtdXNlYW5pbWF0aW9ucy9saWIvbG9hZGluZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMb2FkaW5nU3Bpbm5lcigpIHtcbiAgcmV0dXJuIDxVc2VBbmltYXRpb25zIGFuaW1hdGlvbj17bG9hZGluZ30gc2l6ZT17NTZ9IC8+O1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiVXNlQW5pbWF0aW9ucyIsImxvYWRpbmciLCJMb2FkaW5nU3Bpbm5lciIsImFuaW1hdGlvbiIsInNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/common/components/LoadingSpinner.tsx\n");

/***/ }),

/***/ "(ssr)/./src/common/hook/CrosStorageHook.tsx":
/*!*********************************************!*\
  !*** ./src/common/hook/CrosStorageHook.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useCrosStorage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_lib_CrosStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/lib/CrosStorage */ \"(ssr)/./src/common/lib/CrosStorage.ts\");\n\n\nfunction useCrosStorage() {\n    let [crosStorage, setCrosStorage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        setCrosStorage(_common_lib_CrosStorage__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCrosStorage());\n        return ()=>{\n            crosStorage?.destroy();\n        };\n    }, []);\n    return crosStorage;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2hvb2svQ3Jvc1N0b3JhZ2VIb29rLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDO0FBQ087QUFFcEMsU0FBU0c7SUFDdEIsSUFBSSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdKLCtDQUFRQTtJQUM1Q0QsZ0RBQVNBLENBQUM7UUFDUkssZUFBZUgsK0RBQVdBLENBQUNJLGNBQWM7UUFDekMsT0FBTztZQUNMRixhQUFhRztRQUNmO0lBQ0YsR0FBRyxFQUFFO0lBQ0wsT0FBT0g7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21tb24vaG9vay9Dcm9zU3RvcmFnZUhvb2sudHN4PzA2YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IENyb3NTdG9yYWdlIGZyb20gXCJAL2NvbW1vbi9saWIvQ3Jvc1N0b3JhZ2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQ3Jvc1N0b3JhZ2UoKSB7XG4gIGxldCBbY3Jvc1N0b3JhZ2UsIHNldENyb3NTdG9yYWdlXSA9IHVzZVN0YXRlPENyb3NTdG9yYWdlPigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENyb3NTdG9yYWdlKENyb3NTdG9yYWdlLmdldENyb3NTdG9yYWdlKCkpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjcm9zU3RvcmFnZT8uZGVzdHJveSgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGNyb3NTdG9yYWdlO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiQ3Jvc1N0b3JhZ2UiLCJ1c2VDcm9zU3RvcmFnZSIsImNyb3NTdG9yYWdlIiwic2V0Q3Jvc1N0b3JhZ2UiLCJnZXRDcm9zU3RvcmFnZSIsImRlc3Ryb3kiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/common/hook/CrosStorageHook.tsx\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/CrosStorage.ts":
/*!***************************************!*\
  !*** ./src/common/lib/CrosStorage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CrosStorage)\n/* harmony export */ });\n/* harmony import */ var _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/lib/protocol/CrosProtocol */ \"(ssr)/./src/common/lib/protocol/CrosProtocol.ts\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n\n\nclass CrosStorage {\n    randomUUID() {\n        const hex = \"0123456789abcdef\";\n        let uuid = \"\";\n        for(let i = 0; i < 36; i++){\n            if ([\n                8,\n                13,\n                18,\n                23\n            ].includes(i)) uuid += \"-\";\n            else uuid += hex[Math.floor(Math.random() * 16)];\n        }\n        return uuid;\n    }\n    constructor(cros = null){\n        this.cros = false;\n        this.loaded = false;\n        if (cros === false) {\n            return;\n        }\n        this.cros = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.STORAGE_PROXY ? true : false;\n        if (this.cros == false) {\n            return;\n        }\n        const iframe = document.createElement(\"iframe\");\n        iframe.src = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.STORAGE_PROXY;\n        iframe.style.display = \"none\";\n        this.iframe = iframe;\n        console.log(\"append iframe \" + _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.STORAGE_PROXY);\n        iframe.addEventListener(\"DOMContentLoaded\", ()=>{\n            console.log(\"iframe DOMContentLoaded\");\n            this.loaded = true;\n        });\n        iframe.addEventListener(\"load\", ()=>{\n            console.log(\"iframe loaded\");\n            this.loaded = true;\n        });\n        document.body.appendChild(iframe);\n        this.iframeOrigin = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.STORAGE_PROXY;\n    }\n    static getCurrentStorage() {\n        return new CrosStorage(false);\n    }\n    static getCrosStorage() {\n        return new CrosStorage();\n    }\n    set(value, key = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n        storage = this.getStorageType(storage);\n        if (!this.cros) {\n            const store = storage === _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.LOCAL ? localStorage : sessionStorage;\n            store.setItem(key, value);\n            return Promise.resolve(value);\n        }\n        return this.request({\n            requestId: this.randomUUID(),\n            command: _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.CommandType.SET,\n            storage: storage,\n            key,\n            value\n        });\n    }\n    get(key = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n        storage = this.getStorageType(storage);\n        if (!this.cros) {\n            const store = storage === \"local\" ? localStorage : sessionStorage;\n            return Promise.resolve(store.getItem(key));\n        }\n        return this.request({\n            requestId: this.randomUUID(),\n            command: _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.CommandType.GET,\n            storage: storage,\n            key\n        });\n    }\n    remove(key = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n        storage = this.getStorageType(storage);\n        if (!this.cros) {\n            const store = storage === _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.LOCAL ? localStorage : sessionStorage;\n            const value = store.getItem(key);\n            store.removeItem(key);\n            return Promise.resolve(value);\n        }\n        return this.request({\n            requestId: this.randomUUID(),\n            command: _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.CommandType.REMOVE,\n            storage: storage,\n            key\n        });\n    }\n    destroy() {\n        document.body.removeChild(this.iframe);\n    }\n    async getToken(storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC, generateVisitorToken = null) {\n        const token = await this.get(_common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage);\n        if (token) {\n            return token;\n        }\n        if (generateVisitorToken) {\n            const visitorToken = await generateVisitorToken();\n            await this.setToken(visitorToken);\n            return visitorToken;\n        }\n        return null;\n    }\n    setToken(token, storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n        return this.set(token, _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage);\n    }\n    removeToken(storage = _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n        return this.remove(_common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, storage);\n    }\n    getStorageType(storageType) {\n        if (storageType === _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.AUTOMATIC) {\n            storageType = _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_STORAGE === \"SESSION\" ? _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.SESSION : _common_lib_protocol_CrosProtocol__WEBPACK_IMPORTED_MODULE_0__.StorageType.LOCAL;\n        }\n        return storageType;\n    }\n    // 发送请求\n    request(req) {\n        return new Promise((resolve, reject)=>{\n            // 监听响应\n            const handleMessage = (event)=>{\n                if (!this.iframeOrigin || this?.iframeOrigin?.indexOf(event.origin) < 0 || event.data.requestId !== req.requestId) return;\n                window.removeEventListener(\"message\", handleMessage); // 清理监听\n                if (event.data.error) {\n                    reject(new Error(event.data.error));\n                } else {\n                    resolve(event.data.value);\n                }\n            };\n            window.addEventListener(\"message\", handleMessage);\n            const send = ()=>{\n                console.log(\"send request\", this.loaded);\n                if (!this.loaded) {\n                    setTimeout(send, 1000);\n                    return;\n                }\n                try {\n                    this.iframe.contentWindow?.postMessage(req, this.iframeOrigin);\n                } catch (e) {\n                    setTimeout(send, 1000);\n                }\n            };\n            send();\n        // 超时处理\n        // setTimeout(() => {\n        //   window.removeEventListener(\"message\", handleMessage);\n        //   reject(new Error(\"Request timeout\"));\n        // }, 5000);\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFFckIsRUFBRSxPQUFPbUQsR0FBRztvQkFDVkgsV0FBV0QsTUFBTTtnQkFDbkI7WUFDRjtZQUNBQTtRQUVBLE9BQU87UUFDUCxxQkFBcUI7UUFDckIsMERBQTBEO1FBQzFELDBDQUEwQztRQUMxQyxZQUFZO1FBQ2Q7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbW1vbi9saWIvQ3Jvc1N0b3JhZ2UudHM/MDZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21tYW5kVHlwZSxcbiAgU3RvcmFnZVJlcXVlc3QsXG4gIFN0b3JhZ2VSZXNwb25zZSxcbiAgU3RvcmFnZVR5cGUsXG59IGZyb20gXCJAL2NvbW1vbi9saWIvcHJvdG9jb2wvQ3Jvc1Byb3RvY29sXCI7XG5pbXBvcnQgeyBTVE9SQUdFX1BST1hZLCBUT0tFTl9LRVksIFRPS0VOX1NUT1JBR0UgfSBmcm9tIFwiQC9jb21tb24vbGliL0VudlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcm9zU3RvcmFnZSB7XG4gIHByaXZhdGUgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudDtcbiAgcHJpdmF0ZSBpZnJhbWVPcmlnaW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBjcm9zOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgbG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSByYW5kb21VVUlEKCkge1xuICAgIGNvbnN0IGhleCA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcbiAgICBsZXQgdXVpZCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgaWYgKFs4LCAxMywgMTgsIDIzXS5pbmNsdWRlcyhpKSkgdXVpZCArPSAnLSc7XG4gICAgICBlbHNlIHV1aWQgKz0gaGV4W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XG4gICAgfVxuICAgIHJldHVybiB1dWlkO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjcm9zOiBCb29sZWFuIHwgbnVsbCA9IG51bGwpIHtcbiAgICBpZiAoY3JvcyA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jcm9zID0gU1RPUkFHRV9QUk9YWSA/IHRydWUgOiBmYWxzZTtcbiAgICBpZiAodGhpcy5jcm9zID09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgaWZyYW1lLnNyYyA9IFNUT1JBR0VfUFJPWFkgYXMgc3RyaW5nO1xuICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy5pZnJhbWUgPSBpZnJhbWU7XG4gICAgY29uc29sZS5sb2coXCJhcHBlbmQgaWZyYW1lIFwiICsgU1RPUkFHRV9QUk9YWSk7XG4gICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaWZyYW1lIERPTUNvbnRlbnRMb2FkZWRcIik7XG4gICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaWZyYW1lIGxvYWRlZFwiKTtcbiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgdGhpcy5pZnJhbWVPcmlnaW4gPSBTVE9SQUdFX1BST1hZO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRDdXJyZW50U3RvcmFnZSgpIHtcbiAgICByZXR1cm4gbmV3IENyb3NTdG9yYWdlKGZhbHNlKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0Q3Jvc1N0b3JhZ2UoKSB7XG4gICAgcmV0dXJuIG5ldyBDcm9zU3RvcmFnZSgpO1xuICB9XG5cbiAgcHVibGljIHNldChcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nID0gVE9LRU5fS0VZLFxuICAgIHN0b3JhZ2U6IFN0b3JhZ2VUeXBlID0gU3RvcmFnZVR5cGUuQVVUT01BVElDXG4gICkge1xuICAgIHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2VUeXBlKHN0b3JhZ2UpO1xuICAgIGlmICghdGhpcy5jcm9zKSB7XG4gICAgICBjb25zdCBzdG9yZSA9XG4gICAgICAgIHN0b3JhZ2UgPT09IFN0b3JhZ2VUeXBlLkxPQ0FMID8gbG9jYWxTdG9yYWdlIDogc2Vzc2lvblN0b3JhZ2U7XG4gICAgICBzdG9yZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICByZXF1ZXN0SWQ6IHRoaXMucmFuZG9tVVVJRCgpLFxuICAgICAgY29tbWFuZDogQ29tbWFuZFR5cGUuU0VULFxuICAgICAgc3RvcmFnZTogc3RvcmFnZSxcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldChcbiAgICBrZXk6IHN0cmluZyA9IFRPS0VOX0tFWSxcbiAgICBzdG9yYWdlOiBTdG9yYWdlVHlwZSA9IFN0b3JhZ2VUeXBlLkFVVE9NQVRJQ1xuICApIHtcbiAgICBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlVHlwZShzdG9yYWdlKTtcbiAgICBpZiAoIXRoaXMuY3Jvcykge1xuICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yYWdlID09PSBcImxvY2FsXCIgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RvcmUuZ2V0SXRlbShrZXkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICByZXF1ZXN0SWQ6IHRoaXMucmFuZG9tVVVJRCgpLFxuICAgICAgY29tbWFuZDogQ29tbWFuZFR5cGUuR0VULFxuICAgICAgc3RvcmFnZTogc3RvcmFnZSxcbiAgICAgIGtleSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmUoXG4gICAga2V5OiBzdHJpbmcgPSBUT0tFTl9LRVksXG4gICAgc3RvcmFnZTogU3RvcmFnZVR5cGUgPSBTdG9yYWdlVHlwZS5BVVRPTUFUSUNcbiAgKSB7XG4gICAgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZVR5cGUoc3RvcmFnZSk7XG4gICAgaWYgKCF0aGlzLmNyb3MpIHtcbiAgICAgIGNvbnN0IHN0b3JlID1cbiAgICAgICAgc3RvcmFnZSA9PT0gU3RvcmFnZVR5cGUuTE9DQUwgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmUuZ2V0SXRlbShrZXkpO1xuICAgICAgc3RvcmUucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgcmVxdWVzdElkOiB0aGlzLnJhbmRvbVVVSUQoKSxcbiAgICAgIGNvbW1hbmQ6IENvbW1hbmRUeXBlLlJFTU9WRSxcbiAgICAgIHN0b3JhZ2U6IHN0b3JhZ2UsXG4gICAgICBrZXksXG4gICAgfSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldFRva2VuKFxuICAgIHN0b3JhZ2U6IFN0b3JhZ2VUeXBlID0gU3RvcmFnZVR5cGUuQVVUT01BVElDLFxuICAgIGdlbmVyYXRlVmlzaXRvclRva2VuOiBhbnkgfCBudWxsID0gbnVsbFxuICApIHtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0KFRPS0VOX0tFWSwgc3RvcmFnZSk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGlmIChnZW5lcmF0ZVZpc2l0b3JUb2tlbikge1xuICAgICAgY29uc3QgdmlzaXRvclRva2VuID0gYXdhaXQgZ2VuZXJhdGVWaXNpdG9yVG9rZW4oKTtcbiAgICAgIGF3YWl0IHRoaXMuc2V0VG9rZW4odmlzaXRvclRva2VuKTtcbiAgICAgIHJldHVybiB2aXNpdG9yVG9rZW47XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHVibGljIHNldFRva2VuKHRva2VuOiBzdHJpbmcsIHN0b3JhZ2U6IFN0b3JhZ2VUeXBlID0gU3RvcmFnZVR5cGUuQVVUT01BVElDKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0KHRva2VuLCBUT0tFTl9LRVksIHN0b3JhZ2UpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZVRva2VuKHN0b3JhZ2U6IFN0b3JhZ2VUeXBlID0gU3RvcmFnZVR5cGUuQVVUT01BVElDKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlKFRPS0VOX0tFWSwgc3RvcmFnZSk7XG4gIH1cblxuICBwcml2YXRlIGdldFN0b3JhZ2VUeXBlKHN0b3JhZ2VUeXBlOiBTdG9yYWdlVHlwZSkge1xuICAgIGlmIChzdG9yYWdlVHlwZSA9PT0gU3RvcmFnZVR5cGUuQVVUT01BVElDKSB7XG4gICAgICBzdG9yYWdlVHlwZSA9XG4gICAgICAgIFRPS0VOX1NUT1JBR0UgPT09IFwiU0VTU0lPTlwiID8gU3RvcmFnZVR5cGUuU0VTU0lPTiA6IFN0b3JhZ2VUeXBlLkxPQ0FMO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmFnZVR5cGU7XG4gIH1cblxuICAvLyDlj5HpgIHor7fmsYJcbiAgcHJpdmF0ZSByZXF1ZXN0KHJlcTogU3RvcmFnZVJlcXVlc3QpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8g55uR5ZCs5ZON5bqUXG4gICAgICBjb25zdCBoYW5kbGVNZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQ8U3RvcmFnZVJlc3BvbnNlPikgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMuaWZyYW1lT3JpZ2luIHx8XG4gICAgICAgICAgdGhpcz8uaWZyYW1lT3JpZ2luPy5pbmRleE9mKGV2ZW50Lm9yaWdpbikgPCAwIHx8XG4gICAgICAgICAgZXZlbnQuZGF0YS5yZXF1ZXN0SWQgIT09IHJlcS5yZXF1ZXN0SWRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZSk7IC8vIOa4heeQhuebkeWQrFxuXG4gICAgICAgIGlmIChldmVudC5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihldmVudC5kYXRhLmVycm9yKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVNZXNzYWdlKTtcblxuICAgICAgY29uc3Qgc2VuZCA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJzZW5kIHJlcXVlc3RcIiwgdGhpcy5sb2FkZWQpO1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgc2V0VGltZW91dChzZW5kLCAxMDAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lT3JpZ2luIGFzIHN0cmluZ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KHNlbmQsIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2VuZCgpO1xuXG4gICAgICAvLyDotoXml7blpITnkIZcbiAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZSk7XG4gICAgICAvLyAgIHJlamVjdChuZXcgRXJyb3IoXCJSZXF1ZXN0IHRpbWVvdXRcIikpO1xuICAgICAgLy8gfSwgNTAwMCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDb21tYW5kVHlwZSIsIlN0b3JhZ2VUeXBlIiwiU1RPUkFHRV9QUk9YWSIsIlRPS0VOX0tFWSIsIlRPS0VOX1NUT1JBR0UiLCJDcm9zU3RvcmFnZSIsInJhbmRvbVVVSUQiLCJoZXgiLCJ1dWlkIiwiaSIsImluY2x1ZGVzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY3JvcyIsImxvYWRlZCIsImlmcmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInN0eWxlIiwiZGlzcGxheSIsImNvbnNvbGUiLCJsb2ciLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImFwcGVuZENoaWxkIiwiaWZyYW1lT3JpZ2luIiwiZ2V0Q3VycmVudFN0b3JhZ2UiLCJnZXRDcm9zU3RvcmFnZSIsInNldCIsInZhbHVlIiwia2V5Iiwic3RvcmFnZSIsIkFVVE9NQVRJQyIsImdldFN0b3JhZ2VUeXBlIiwic3RvcmUiLCJMT0NBTCIsImxvY2FsU3RvcmFnZSIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVxdWVzdCIsInJlcXVlc3RJZCIsImNvbW1hbmQiLCJTRVQiLCJnZXQiLCJnZXRJdGVtIiwiR0VUIiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsIlJFTU9WRSIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsImdldFRva2VuIiwiZ2VuZXJhdGVWaXNpdG9yVG9rZW4iLCJ0b2tlbiIsInZpc2l0b3JUb2tlbiIsInNldFRva2VuIiwicmVtb3ZlVG9rZW4iLCJzdG9yYWdlVHlwZSIsIlNFU1NJT04iLCJyZXEiLCJyZWplY3QiLCJoYW5kbGVNZXNzYWdlIiwiZXZlbnQiLCJpbmRleE9mIiwib3JpZ2luIiwiZGF0YSIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlcnJvciIsIkVycm9yIiwic2VuZCIsInNldFRpbWVvdXQiLCJjb250ZW50V2luZG93IiwicG9zdE1lc3NhZ2UiLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/CrosStorage.ts\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/Env.ts":
/*!*******************************!*\
  !*** ./src/common/lib/Env.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_BASIC_URL: () => (/* binding */ API_BASIC_URL),\n/* harmony export */   CAPTCHA_URL: () => (/* binding */ CAPTCHA_URL),\n/* harmony export */   LOGIN_URL: () => (/* binding */ LOGIN_URL),\n/* harmony export */   NEXT_ASSET_PREFIX: () => (/* binding */ NEXT_ASSET_PREFIX),\n/* harmony export */   NODE_ENV: () => (/* binding */ NODE_ENV),\n/* harmony export */   STORAGE_PROXY: () => (/* binding */ STORAGE_PROXY),\n/* harmony export */   TOKEN_KEY: () => (/* binding */ TOKEN_KEY),\n/* harmony export */   TOKEN_STORAGE: () => (/* binding */ TOKEN_STORAGE),\n/* harmony export */   USER_INFO_KEY: () => (/* binding */ USER_INFO_KEY),\n/* harmony export */   WEBSOCKET: () => (/* binding */ WEBSOCKET),\n/* harmony export */   allowOrigin: () => (/* binding */ allowOrigin)\n/* harmony export */ });\nconst USER_INFO_KEY = \"user_info\";\nconst NODE_ENV = \"development\";\nconst API_BASIC_URL = \"http://localhost:8888\";\nconst TOKEN_STORAGE = \"SESSION\";\nconst TOKEN_KEY = \"sparrow_token\";\nconst NEXT_ASSET_PREFIX = \"http://localhost:3001\";\nconst STORAGE_PROXY = \"http://localhost:3000/cros-storage\";\nconst CAPTCHA_URL = process.env.NEXT_PUBLIC_CAPTCHA_URL;\nconst LOGIN_URL = \"http://localhost:3000/sign-in\";\nfunction allowOrigin(origin) {\n    const NEXT_PUBLIC_ALLOW_ORIGINS = \"http://localhost:3000,http://localhost:3001\";\n    if (NEXT_PUBLIC_ALLOW_ORIGINS) {\n        return NEXT_PUBLIC_ALLOW_ORIGINS.split(\",\").includes(origin);\n    }\n    return true;\n}\nconst WEBSOCKET = \"ws://localhost:8080/websocket\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2xpYi9FbnYudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxnQkFBZ0I7QUFDdEIsTUFBTUMsV0FETjtBQUVBLE1BQU1DLGdCQUFnQkMsdUJBQTJCO0FBRWpELE1BQU1HLGdCQUFnQkgsU0FBcUM7QUFFM0QsTUFBTUssWUFBWUwsZUFBaUM7QUFFbkQsTUFBTU8sb0JBQW9CUCx1QkFBb0M7QUFDOUQsTUFBTVMsZ0JBQWdCVCxvQ0FBcUM7QUFDM0QsTUFBTVcsY0FBY1gsUUFBUUMsR0FBRyxDQUFDVyx1QkFBdUI7QUFFdkQsTUFBTUMsWUFBWWIsK0JBQWlDO0FBRW5ELFNBQVNlLFlBQVlDLE1BQWM7SUFDakMsTUFBTUMsNEJBQTRCakIsNkNBQXFDO0lBQ3ZFLElBQUlpQiwyQkFBMkI7UUFDN0IsT0FBT0EsMEJBQTBCQyxLQUFLLENBQUMsS0FBS0MsUUFBUSxDQUFDSDtJQUN2RDtJQUNBLE9BQU87QUFDVDtBQUVBLE1BQU1JLFlBQVlwQiwrQkFBaUM7QUFhakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvY29tbW9uL2xpYi9FbnYudHM/YWE2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVU0VSX0lORk9fS0VZID0gXCJ1c2VyX2luZm9cIjtcbmNvbnN0IE5PREVfRU5WID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XG5jb25zdCBBUElfQkFTSUNfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJO1xuXG5jb25zdCBUT0tFTl9TVE9SQUdFID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVE9LRU5fU1RPUkFHRTtcblxuY29uc3QgVE9LRU5fS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVE9LRU5fS0VZIGFzIHN0cmluZztcblxuY29uc3QgTkVYVF9BU1NFVF9QUkVGSVggPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BU1NFVF9QUkVGSVg7XG5jb25zdCBTVE9SQUdFX1BST1hZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RPUkFHRV9QUk9YWTtcbmNvbnN0IENBUFRDSEFfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0FQVENIQV9VUkw7XG5cbmNvbnN0IExPR0lOX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0xPR0lOX1VSTDtcblxuZnVuY3Rpb24gYWxsb3dPcmlnaW4ob3JpZ2luOiBzdHJpbmcpIHtcbiAgY29uc3QgTkVYVF9QVUJMSUNfQUxMT1dfT1JJR0lOUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FMTE9XX09SSUdJTlM7XG4gIGlmIChORVhUX1BVQkxJQ19BTExPV19PUklHSU5TKSB7XG4gICAgcmV0dXJuIE5FWFRfUFVCTElDX0FMTE9XX09SSUdJTlMuc3BsaXQoXCIsXCIpLmluY2x1ZGVzKG9yaWdpbik7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IFdFQlNPQ0tFVCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dFQlNPQ0tFVDtcbmV4cG9ydCB7XG4gIE5PREVfRU5WLFxuICBhbGxvd09yaWdpbixcbiAgU1RPUkFHRV9QUk9YWSxcbiAgQVBJX0JBU0lDX1VSTCxcbiAgVE9LRU5fS0VZLFxuICBUT0tFTl9TVE9SQUdFLFxuICBVU0VSX0lORk9fS0VZLFxuICBORVhUX0FTU0VUX1BSRUZJWCxcbiAgV0VCU09DS0VULFxuICBDQVBUQ0hBX1VSTCxcbiAgTE9HSU5fVVJMLFxufTtcbiJdLCJuYW1lcyI6WyJVU0VSX0lORk9fS0VZIiwiTk9ERV9FTlYiLCJBUElfQkFTSUNfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSSIsIlRPS0VOX1NUT1JBR0UiLCJORVhUX1BVQkxJQ19UT0tFTl9TVE9SQUdFIiwiVE9LRU5fS0VZIiwiTkVYVF9QVUJMSUNfVE9LRU5fS0VZIiwiTkVYVF9BU1NFVF9QUkVGSVgiLCJORVhUX1BVQkxJQ19BU1NFVF9QUkVGSVgiLCJTVE9SQUdFX1BST1hZIiwiTkVYVF9QVUJMSUNfU1RPUkFHRV9QUk9YWSIsIkNBUFRDSEFfVVJMIiwiTkVYVF9QVUJMSUNfQ0FQVENIQV9VUkwiLCJMT0dJTl9VUkwiLCJORVhUX1BVQkxJQ19MT0dJTl9VUkwiLCJhbGxvd09yaWdpbiIsIm9yaWdpbiIsIk5FWFRfUFVCTElDX0FMTE9XX09SSUdJTlMiLCJzcGxpdCIsImluY2x1ZGVzIiwiV0VCU09DS0VUIiwiTkVYVF9QVUJMSUNfV0VCU09DS0VUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/Env.ts\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/Fetcher.ts":
/*!***********************************!*\
  !*** ./src/common/lib/Fetcher.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fetcher)\n/* harmony export */ });\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-toast */ \"(ssr)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _common_lib_CrosStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/common/lib/CrosStorage */ \"(ssr)/./src/common/lib/CrosStorage.ts\");\n\n\n\n//https://nextjs.org/docs/app/getting-started/fetching-data\n// https://developer.mozilla.org/zh-CN/docs/Web/API/Window/fetch\nclass Fetcher {\n    static async get(url, crosStorage = _common_lib_CrosStorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCurrentStorage(), withCookie = false) {\n        url = _common_lib_Env__WEBPACK_IMPORTED_MODULE_0__.API_BASIC_URL + url;\n        let token = null;\n        if (crosStorage) {\n            token = await crosStorage?.getToken().then((token)=>token);\n        }\n        const options = {\n            method: \"GET\",\n            //  credentials: \"include\", // 允许携带cookie\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token\n            }\n        };\n        if (withCookie) {\n            options.credentials = \"include\"; //跨域时携带cookie\n        }\n        return new Promise((resolve, reject)=>{\n            fetch(url, options).then(async (response)=>{\n                const result = await response.json();\n                if (result.code != \"0\") {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(result?.message);\n                    reject(result);\n                } else {\n                    resolve(result);\n                }\n            }).catch((error)=>{\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(error.message);\n                reject(error);\n            });\n        });\n    }\n    static async post(url, body, crosStorage = _common_lib_CrosStorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCurrentStorage(), withCookie = false) {\n        url = _common_lib_Env__WEBPACK_IMPORTED_MODULE_0__.API_BASIC_URL + url;\n        let token = null;\n        if (crosStorage) {\n            token = await crosStorage.getToken().then((token)=>token);\n        }\n        const options = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token\n            },\n            body: body\n        };\n        if (withCookie) {\n            options.credentials = \"include\"; //跨域时携带cookie\n        }\n        return new Promise((resolve, reject)=>{\n            fetch(url, options).then(async (response)=>{\n                const result = await response.json();\n                if (result.code != \"0\") {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(result?.message);\n                    reject(result);\n                } else {\n                    resolve(result);\n                }\n            }).catch((error)=>{\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(error.message);\n                reject(error);\n            });\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2xpYi9GZXRjaGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUQ7QUFDYjtBQUNlO0FBRW5ELDJEQUEyRDtBQUMzRCxnRUFBZ0U7QUFDakQsTUFBTUc7SUFDbkIsYUFBYUMsSUFDWEMsR0FBVyxFQUNYQyxjQUFrQ0osK0RBQVdBLENBQUNLLGlCQUFpQixFQUFFLEVBQ2pFQyxhQUFhLEtBQUssRUFDbEI7UUFDQUgsTUFBTUwsMERBQWFBLEdBQUdLO1FBQ3RCLElBQUlJLFFBQXVCO1FBQzNCLElBQUlILGFBQWE7WUFDZkcsUUFBUSxNQUFNSCxhQUFhSSxXQUFXQyxLQUFLLENBQUNGLFFBQVVBO1FBQ3hEO1FBQ0EsTUFBTUcsVUFBdUI7WUFDM0JDLFFBQVE7WUFDUix5Q0FBeUM7WUFDekNDLFNBQVM7Z0JBQ1AsZ0JBQWdCO2dCQUNoQkMsZUFBZU47WUFDakI7UUFDRjtRQUNBLElBQUlELFlBQVk7WUFDZEksUUFBUUksV0FBVyxHQUFHLFdBQVcsYUFBYTtRQUNoRDtRQUNBLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztZQUMzQkMsTUFBTWYsS0FBS08sU0FDUkQsSUFBSSxDQUFDLE9BQU9VO2dCQUNYLE1BQU1DLFNBQVUsTUFBTUQsU0FBU0UsSUFBSTtnQkFDbkMsSUFBSUQsT0FBT0UsSUFBSSxJQUFJLEtBQUs7b0JBQ3RCdkIsdURBQUtBLENBQUN3QixLQUFLLENBQUNILFFBQVFJO29CQUNwQlAsT0FBT0c7Z0JBQ1QsT0FBTztvQkFDTEosUUFBUUk7Z0JBQ1Y7WUFDRixHQUNDSyxLQUFLLENBQUMsQ0FBQ0Y7Z0JBQ054Qix1REFBS0EsQ0FBQ3dCLEtBQUssQ0FBQ0EsTUFBTUMsT0FBTztnQkFDekJQLE9BQU9NO1lBQ1Q7UUFDSjtJQUNGO0lBRUEsYUFBYUcsS0FDWHZCLEdBQVcsRUFDWHdCLElBQVMsRUFDVHZCLGNBQWtDSiwrREFBV0EsQ0FBQ0ssaUJBQWlCLEVBQUUsRUFDakVDLGFBQWEsS0FBSyxFQUNsQjtRQUNBSCxNQUFNTCwwREFBYUEsR0FBR0s7UUFDdEIsSUFBSUksUUFBdUI7UUFDM0IsSUFBSUgsYUFBYTtZQUNmRyxRQUFRLE1BQU1ILFlBQVlJLFFBQVEsR0FBR0MsSUFBSSxDQUFDLENBQUNGLFFBQVVBO1FBQ3ZEO1FBRUEsTUFBTUcsVUFBdUI7WUFDM0JDLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCQyxlQUFlTjtZQUNqQjtZQUNBb0IsTUFBTUE7UUFDUjtRQUNBLElBQUlyQixZQUFZO1lBQ2RJLFFBQVFJLFdBQVcsR0FBRyxXQUFXLGFBQWE7UUFDaEQ7UUFDQSxPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDM0JDLE1BQU1mLEtBQUtPLFNBQ1JELElBQUksQ0FBQyxPQUFPVTtnQkFDWCxNQUFNQyxTQUFVLE1BQU1ELFNBQVNFLElBQUk7Z0JBQ25DLElBQUlELE9BQU9FLElBQUksSUFBSSxLQUFLO29CQUN0QnZCLHVEQUFLQSxDQUFDd0IsS0FBSyxDQUFDSCxRQUFRSTtvQkFDcEJQLE9BQU9HO2dCQUNULE9BQU87b0JBQ0xKLFFBQVFJO2dCQUNWO1lBQ0YsR0FDQ0ssS0FBSyxDQUFDLENBQUNGO2dCQUNOeEIsdURBQUtBLENBQUN3QixLQUFLLENBQUNBLE1BQU1DLE9BQU87Z0JBQ3pCUCxPQUFPTTtZQUNUO1FBQ0o7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbW1vbi9saWIvRmV0Y2hlci50cz80NjQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFQSV9CQVNJQ19VUkwgfSBmcm9tIFwiQC9jb21tb24vbGliL0VudlwiO1xuaW1wb3J0IHRvYXN0IGZyb20gXCJyZWFjdC1ob3QtdG9hc3RcIjtcbmltcG9ydCBDcm9zU3RvcmFnZSBmcm9tIFwiQC9jb21tb24vbGliL0Nyb3NTdG9yYWdlXCI7XG5cbi8vaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2dldHRpbmctc3RhcnRlZC9mZXRjaGluZy1kYXRhXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy96aC1DTi9kb2NzL1dlYi9BUEkvV2luZG93L2ZldGNoXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZXRjaGVyIHtcbiAgc3RhdGljIGFzeW5jIGdldChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBjcm9zU3RvcmFnZTogQ3Jvc1N0b3JhZ2UgfCBudWxsID0gQ3Jvc1N0b3JhZ2UuZ2V0Q3VycmVudFN0b3JhZ2UoKSxcbiAgICB3aXRoQ29va2llID0gZmFsc2VcbiAgKSB7XG4gICAgdXJsID0gQVBJX0JBU0lDX1VSTCArIHVybDtcbiAgICBsZXQgdG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGlmIChjcm9zU3RvcmFnZSkge1xuICAgICAgdG9rZW4gPSBhd2FpdCBjcm9zU3RvcmFnZT8uZ2V0VG9rZW4oKS50aGVuKCh0b2tlbikgPT4gdG9rZW4pO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIC8vICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsIC8vIOWFgeiuuOaQuuW4pmNvb2tpZVxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgQXV0aG9yaXphdGlvbjogdG9rZW4gYXMgc3RyaW5nLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGlmICh3aXRoQ29va2llKSB7XG4gICAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gXCJpbmNsdWRlXCI7IC8v6Leo5Z+f5pe25pC65bimY29va2llXG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIGFueTtcbiAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgIT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKHJlc3VsdD8ubWVzc2FnZSk7XG4gICAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIHBvc3QoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgYm9keTogYW55LFxuICAgIGNyb3NTdG9yYWdlOiBDcm9zU3RvcmFnZSB8IG51bGwgPSBDcm9zU3RvcmFnZS5nZXRDdXJyZW50U3RvcmFnZSgpLFxuICAgIHdpdGhDb29raWUgPSBmYWxzZVxuICApIHtcbiAgICB1cmwgPSBBUElfQkFTSUNfVVJMICsgdXJsO1xuICAgIGxldCB0b2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKGNyb3NTdG9yYWdlKSB7XG4gICAgICB0b2tlbiA9IGF3YWl0IGNyb3NTdG9yYWdlLmdldFRva2VuKCkudGhlbigodG9rZW4pID0+IHRva2VuKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBdXRob3JpemF0aW9uOiB0b2tlbiBhcyBzdHJpbmcsXG4gICAgICB9LFxuICAgICAgYm9keTogYm9keSxcbiAgICB9O1xuICAgIGlmICh3aXRoQ29va2llKSB7XG4gICAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gXCJpbmNsdWRlXCI7IC8v6Leo5Z+f5pe25pC65bimY29va2llXG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIGFueTtcbiAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgIT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKHJlc3VsdD8ubWVzc2FnZSk7XG4gICAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQVBJX0JBU0lDX1VSTCIsInRvYXN0IiwiQ3Jvc1N0b3JhZ2UiLCJGZXRjaGVyIiwiZ2V0IiwidXJsIiwiY3Jvc1N0b3JhZ2UiLCJnZXRDdXJyZW50U3RvcmFnZSIsIndpdGhDb29raWUiLCJ0b2tlbiIsImdldFRva2VuIiwidGhlbiIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNyZWRlbnRpYWxzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmZXRjaCIsInJlc3BvbnNlIiwicmVzdWx0IiwianNvbiIsImNvZGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJjYXRjaCIsInBvc3QiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/Fetcher.ts\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/SparrowWebSocket.ts":
/*!********************************************!*\
  !*** ./src/common/lib/SparrowWebSocket.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SparrowWebSocket {\n    static{\n        this.ACTIVE_STATUS = \"active\";\n    }\n    static{\n        this.INACTIVE_STATUS = \"inactive\";\n    }\n    static{\n        this.CONNECTING_STATUS = \"connecting\";\n    }\n    static{\n        //窗口的焦点状态，active 状态则可以执行重连，否则继续重试，直到获取窗口焦点\n        this.activeStatus = SparrowWebSocket.INACTIVE_STATUS;\n    }\n    static{\n        //心跳状态 inactive 未探测到心跳，active 心跳正常\n        this.heartStatus = SparrowWebSocket.INACTIVE_STATUS;\n    }\n    static{\n        //连接状态 inactive 未连接，connecting 正在连接，active 连接正常\n        this.connectionStatus = SparrowWebSocket.INACTIVE_STATUS;\n    }\n    constructor(url, crosStorage){\n        this.txid = 0;\n        // 心跳间隔时间 ms\n        this.heartTime = 1000;\n        // 心跳超时时间 ms\n        this.heartTimeout = 5000;\n        // 重连重试时间 ms\n        this.reconnectTime = 1000;\n        this.lastHeartTime = 0;\n        this.monitorTime = 10000;\n        this.lastStatusMonitoredTime = 0;\n        this.url = url;\n        this.crosStorage = crosStorage;\n    }\n    reconnectWebSocket() {\n        //关闭现有链接\n        this.close();\n        //停止心跳\n        this.stopHeartBeat();\n        //停止上一次重连\n        this.stopRetryConnect();\n        //发起重连\n        this.reconnectionTimer = setInterval(()=>{\n            if (SparrowWebSocket.activeStatus === SparrowWebSocket.INACTIVE_STATUS) {\n                console.log(\"窗口失去焦点，不进行重连\");\n                return;\n            }\n            if (SparrowWebSocket.heartStatus === SparrowWebSocket.ACTIVE_STATUS) {\n                console.log(\"心跳正常，不进行重连\");\n                return;\n            }\n            if (SparrowWebSocket.connectionStatus === SparrowWebSocket.CONNECTING_STATUS) {\n                console.log(\"正在连接中，不进行重连\");\n                return;\n            }\n            if (SparrowWebSocket.connectionStatus === SparrowWebSocket.ACTIVE_STATUS) {\n                console.log(\"连接正常，不进行重连\");\n                return;\n            }\n            this.connect();\n        }, this.reconnectTime);\n    }\n    connect() {\n        try {\n            SparrowWebSocket.connectionStatus = SparrowWebSocket.CONNECTING_STATUS;\n            if (\"WebSocket\" in window) {\n                this.initWindowsFocusEvent();\n                this.crosStorage.getToken().then((token)=>{\n                    this.ws = new WebSocket(this.url, [\n                        token\n                    ]);\n                    //resolve 或者reject 必须，如果未执行，会导致后续代码不执行\n                    this.onOpen();\n                    this._onMsg();\n                    this.onClose();\n                    this.onError();\n                });\n            }\n        } catch (e) {\n            SparrowWebSocket.connectionStatus = SparrowWebSocket.INACTIVE_STATUS;\n            console.log(\"链接失败，直接重连\", e);\n            this.reconnectWebSocket();\n        }\n    }\n    onOpen() {\n        this.ws.onopen = (e)=>{\n            console.log(\"连接成功\" + e);\n            this.connectionTimestamp = new Date().getTime();\n            SparrowWebSocket.connectionStatus = SparrowWebSocket.ACTIVE_STATUS;\n            // 启动心跳\n            this.startHeartBeat();\n        };\n    }\n    onClose() {\n        this.ws.onclose = (e)=>{\n            if (e.wasClean) {\n                SparrowWebSocket.connectionStatus = SparrowWebSocket.INACTIVE_STATUS;\n            } else {\n                SparrowWebSocket.connectionStatus = SparrowWebSocket.INACTIVE_STATUS;\n            }\n            console.log(\"连接关闭,e.wasClean=\" + e.wasClean);\n        };\n    }\n    onError() {\n        this.ws.onerror = (e)=>{\n            // 如果出现连接、处理、接收、发送数据失败的时候触发onerror事件\n            console.log(\"连接出错\");\n            SparrowWebSocket.connectionStatus = SparrowWebSocket.INACTIVE_STATUS;\n            this.reconnectWebSocket();\n        };\n    }\n    // 心跳机制 --启动心跳\n    startHeartBeat() {\n        this.stopRetryConnect();\n        this.stopHeartBeat();\n        this.lastHeartTime = new Date().getTime();\n        this.heartTimer = setInterval(()=>{\n            var heartDiff = new Date().getTime() - this.lastHeartTime;\n            // 如果超过两个周期未拿到心跳，说明超时\n            if (heartDiff > this.heartTimeout) {\n                console.log(\"超时重连 heart diff {}\", heartDiff);\n                this.stopHeartBeat();\n                this.reconnectWebSocket();\n                return;\n            }\n            // 开启一个心跳\n            try {\n                //console.log(\"发送心跳\" + new Date().getTime());\n                this.ws.send(\"PING\");\n                if (new Date().getTime() - this.lastStatusMonitoredTime > this.monitorTime) {\n                    const contactsStatus = this.monitorStatus();\n                    if (contactsStatus.length > 0) {\n                        this.ws.send(\"STATUS|\" + JSON.stringify(contactsStatus));\n                    } else {\n                        this.ws.send(\"STATUS\");\n                    }\n                }\n            } catch (e) {\n                console.log(\"heart beat error:\" + e);\n            }\n        }, this.heartTime);\n    }\n    // 关闭心跳\n    stopHeartBeat() {\n        clearTimeout(this.heartTimer);\n        SparrowWebSocket.heartStatus = SparrowWebSocket.INACTIVE_STATUS;\n    }\n    stopRetryConnect() {\n        clearTimeout(this.reconnectionTimer);\n    }\n    increaseTxid() {\n        this.txid = this.txid + 1;\n        return this.txid;\n    }\n    //发送消息\n    sendMessage(data) {\n        this.increaseTxid();\n        this.ws.send(data);\n    }\n    reconnectionCallback() {\n        console.log(\"重连回调\");\n    }\n    // 关闭连接\n    close() {\n        if (this.ws == null) {\n            console.log(\"websocket is null\");\n            return;\n        }\n        this.ws.close();\n    }\n    initWindowsFocusEvent() {\n        window.onfocus = function() {\n            console.log(\"window.onfocus\");\n            SparrowWebSocket.activeStatus = SparrowWebSocket.ACTIVE_STATUS;\n        };\n        window.onclick = function() {\n            console.log(\"window.onclick\");\n            SparrowWebSocket.activeStatus = SparrowWebSocket.ACTIVE_STATUS;\n        };\n        window.onblur = function() {\n            console.log(\"window.onblur\");\n            SparrowWebSocket.activeStatus = SparrowWebSocket.INACTIVE_STATUS;\n        };\n    }\n    _onMsg() {\n        this.ws.onmessage = async (e)=>{\n            if (typeof e.data === \"string\") {\n                // 加个判断,如果是PONG，说明当前是后端返回的心跳包 停止下面的代码执行\n                if (e.data === \"PONG\") {\n                    this.lastHeartTime = new Date().getTime();\n                    SparrowWebSocket.heartStatus = SparrowWebSocket.ACTIVE_STATUS;\n                    return;\n                }\n                //1 对1 聊天时，对方不在线\n                if (e.data === \"OFFLINE\") {\n                    if (this.offlineCallback) {\n                        this.offlineCallback({\n                            offline: true\n                        });\n                    }\n                    return;\n                }\n                var result = JSON.parse(e.data);\n                if (result.instruction == \"STATUS\") {\n                    const contactsStatus = result.data;\n                    if (this.monitorStatusCallback) {\n                        this.monitorStatusCallback(contactsStatus);\n                    }\n                    this.lastStatusMonitoredTime = new Date().getTime();\n                    return;\n                }\n                if (result.instruction == \"AUTH\") {\n                    if (this.userAuthCallback) {\n                        this.userAuthCallback(result);\n                    }\n                }\n                return;\n            }\n            const buf = await e.data.arrayBuffer();\n            this.increaseTxid();\n            if (this.onMsgCallback) {\n                this.onMsgCallback(buf);\n            }\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SparrowWebSocket);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2xpYi9TcGFycm93V2ViU29ja2V0LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFFQSxNQUFNQTs7YUFDVUMsZ0JBQWdCOzs7YUFDaEJDLGtCQUFrQjs7O2FBQ2xCQyxvQkFBb0I7OztRQUNsQywwQ0FBMEM7YUFDM0JDLGVBQXVCSixpQkFBaUJFLGVBQWU7OztRQUN0RSxrQ0FBa0M7YUFDbkJHLGNBQXNCTCxpQkFBaUJFLGVBQWU7OztRQUNyRSwrQ0FBK0M7YUFDaENJLG1CQUEyQk4saUJBQWlCRSxlQUFlOztJQTJCMUVLLFlBQVlDLEdBQVcsRUFBRUMsV0FBdUIsQ0FBRTthQW5CM0NDLE9BQU87UUFNZCxZQUFZO2FBQ0pDLFlBQVk7UUFDcEIsWUFBWTthQUNKQyxlQUFlO1FBQ3ZCLFlBQVk7YUFDSkMsZ0JBQWdCO2FBRWhCQyxnQkFBd0I7YUFDeEJDLGNBQXNCO2FBQ3RCQywwQkFBa0M7UUFLeEMsSUFBSSxDQUFDUixHQUFHLEdBQUdBO1FBQ1gsSUFBSSxDQUFDQyxXQUFXLEdBQUdBO0lBQ3JCO0lBRU9RLHFCQUFxQjtRQUMxQixRQUFRO1FBQ1IsSUFBSSxDQUFDQyxLQUFLO1FBQ1YsTUFBTTtRQUNOLElBQUksQ0FBQ0MsYUFBYTtRQUNsQixTQUFTO1FBQ1QsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDckIsTUFBTTtRQUNOLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdDLFlBQVk7WUFDbkMsSUFBSXRCLGlCQUFpQkksWUFBWSxLQUFLSixpQkFBaUJFLGVBQWUsRUFBRTtnQkFDdEVxQixRQUFRQyxHQUFHLENBQUM7Z0JBQ1o7WUFDRjtZQUVBLElBQUl4QixpQkFBaUJLLFdBQVcsS0FBS0wsaUJBQWlCQyxhQUFhLEVBQUU7Z0JBQ25Fc0IsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0Y7WUFFQSxJQUNJeEIsaUJBQWlCTSxnQkFBZ0IsS0FBS04saUJBQWlCRyxpQkFBaUIsRUFDMUU7Z0JBQ0FvQixRQUFRQyxHQUFHLENBQUM7Z0JBQ1o7WUFDRjtZ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O2dCQUNGO2dCQUNBO1lBQ0Y7WUFDQSxNQUFNSyxNQUFNLE1BQU1qQyxFQUFFb0IsSUFBSSxDQUFDYyxXQUFXO1lBQ3BDLElBQUksQ0FBQ2hCLFlBQVk7WUFDakIsSUFBSSxJQUFJLENBQUNpQixhQUFhLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQ0EsYUFBYSxDQUFDRjtZQUNyQjtRQUNGO0lBQ0Y7QUFDRjtBQUVBLGlFQUFldEUsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbW1vbi9saWIvU3BhcnJvd1dlYlNvY2tldC50cz8zN2RkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDcm9zU3RvcmFnZSBmcm9tIFwiQC9jb21tb24vbGliL0Nyb3NTdG9yYWdlXCI7XG5cbmNsYXNzIFNwYXJyb3dXZWJTb2NrZXQge1xuICBwdWJsaWMgc3RhdGljIEFDVElWRV9TVEFUVVMgPSBcImFjdGl2ZVwiO1xuICBwdWJsaWMgc3RhdGljIElOQUNUSVZFX1NUQVRVUyA9IFwiaW5hY3RpdmVcIjtcbiAgcHVibGljIHN0YXRpYyBDT05ORUNUSU5HX1NUQVRVUyA9IFwiY29ubmVjdGluZ1wiO1xuICAvL+eql+WPo+eahOeEpueCueeKtuaAge+8jGFjdGl2ZSDnirbmgIHliJnlj6/ku6XmiafooYzph43ov57vvIzlkKbliJnnu6fnu63ph43or5XvvIznm7TliLDojrflj5bnqpflj6PnhKbngrlcbiAgcHJpdmF0ZSBzdGF0aWMgYWN0aXZlU3RhdHVzOiBzdHJpbmcgPSBTcGFycm93V2ViU29ja2V0LklOQUNUSVZFX1NUQVRVUztcbiAgLy/lv4Pot7PnirbmgIEgaW5hY3RpdmUg5pyq5o6i5rWL5Yiw5b+D6Lez77yMYWN0aXZlIOW/g+i3s+ato+W4uFxuICBwcml2YXRlIHN0YXRpYyBoZWFydFN0YXR1czogc3RyaW5nID0gU3BhcnJvd1dlYlNvY2tldC5JTkFDVElWRV9TVEFUVVM7XG4gIC8v6L+e5o6l54q25oCBIGluYWN0aXZlIOacqui/nuaOpe+8jGNvbm5lY3Rpbmcg5q2j5Zyo6L+e5o6l77yMYWN0aXZlIOi/nuaOpeato+W4uFxuICBwcml2YXRlIHN0YXRpYyBjb25uZWN0aW9uU3RhdHVzOiBzdHJpbmcgPSBTcGFycm93V2ViU29ja2V0LklOQUNUSVZFX1NUQVRVUztcblxuICAvLyDmjqXmlLbliLDkv6Hmga/lkI7pnIDopoHmiafooYznmoTkuovku7ZcbiAgcHVibGljIG9uTXNnQ2FsbGJhY2s6IChkYXRhOiBBcnJheUJ1ZmZlckxpa2UpID0+IHZvaWQ7XG4gIHB1YmxpYyBvZmZsaW5lQ2FsbGJhY2s6IChkYXRhOiB7IG9mZmxpbmU6IGJvb2xlYW4gfSkgPT4gdm9pZDtcbiAgcHVibGljIHVzZXJBdXRoQ2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHB1YmxpYyBtb25pdG9yU3RhdHVzOiAoKSA9PiBbXTtcbiAgcHVibGljIG1vbml0b3JTdGF0dXNDYWxsYmFjazogKGRhdGE6IFtdKSA9PiB2b2lkO1xuICBwdWJsaWMgdHhpZCA9IDA7XG4gIHByaXZhdGUgd3M6IFdlYlNvY2tldDtcbiAgLy8gd2Vic29ja2V0IOi/nuaOpeeahCB1cmxcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZztcbiAgLy8gd2Vic29ja2V0IOi/nuaOpeeahCB0b2tlblxuICBwcml2YXRlIGNyb3NTdG9yYWdlOiBDcm9zU3RvcmFnZTtcbiAgLy8g5b+D6Lez6Ze06ZqU5pe26Ze0IG1zXG4gIHByaXZhdGUgaGVhcnRUaW1lID0gMTAwMDtcbiAgLy8g5b+D6Lez6LaF5pe25pe26Ze0IG1zXG4gIHByaXZhdGUgaGVhcnRUaW1lb3V0ID0gNTAwMDtcbiAgLy8g6YeN6L+e6YeN6K+V5pe26Ze0IG1zXG4gIHByaXZhdGUgcmVjb25uZWN0VGltZSA9IDEwMDA7XG4gIHByaXZhdGUgaGVhcnRUaW1lcjogTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgbGFzdEhlYXJ0VGltZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb25pdG9yVGltZTogbnVtYmVyID0gMTAwMDA7XG4gIHByaXZhdGUgbGFzdFN0YXR1c01vbml0b3JlZFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgcmVjb25uZWN0aW9uVGltZXI6IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIGNvbm5lY3Rpb25UaW1lc3RhbXA6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZywgY3Jvc1N0b3JhZ2U6Q3Jvc1N0b3JhZ2UpIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmNyb3NTdG9yYWdlID0gY3Jvc1N0b3JhZ2U7XG4gIH1cblxuICBwdWJsaWMgcmVjb25uZWN0V2ViU29ja2V0KCkge1xuICAgIC8v5YWz6Zet546w5pyJ6ZO+5o6lXG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIC8v5YGc5q2i5b+D6LezXG4gICAgdGhpcy5zdG9wSGVhcnRCZWF0KCk7XG4gICAgLy/lgZzmraLkuIrkuIDmrKHph43ov55cbiAgICB0aGlzLnN0b3BSZXRyeUNvbm5lY3QoKTtcbiAgICAvL+WPkei1t+mHjei/nlxuICAgIHRoaXMucmVjb25uZWN0aW9uVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoU3BhcnJvd1dlYlNvY2tldC5hY3RpdmVTdGF0dXMgPT09IFNwYXJyb3dXZWJTb2NrZXQuSU5BQ1RJVkVfU1RBVFVTKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi56qX5Y+j5aSx5Y6754Sm54K577yM5LiN6L+b6KGM6YeN6L+eXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChTcGFycm93V2ViU29ja2V0LmhlYXJ0U3RhdHVzID09PSBTcGFycm93V2ViU29ja2V0LkFDVElWRV9TVEFUVVMpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLlv4Pot7PmraPluLjvvIzkuI3ov5vooYzph43ov55cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAgIFNwYXJyb3dXZWJTb2NrZXQuY29ubmVjdGlvblN0YXR1cyA9PT0gU3BhcnJvd1dlYlNvY2tldC5DT05ORUNUSU5HX1NUQVRVU1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5q2j5Zyo6L+e5o6l5Lit77yM5LiN6L+b6KGM6YeN6L+eXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICAgU3BhcnJvd1dlYlNvY2tldC5jb25uZWN0aW9uU3RhdHVzID09PSBTcGFycm93V2ViU29ja2V0LkFDVElWRV9TVEFUVVNcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIui/nuaOpeato+W4uO+8jOS4jei/m+ihjOmHjei/nlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9LCB0aGlzLnJlY29ubmVjdFRpbWUpO1xuICB9XG5cbiAgcHVibGljIGNvbm5lY3QoKSB7XG4gICAgdHJ5IHtcbiAgICAgIFNwYXJyb3dXZWJTb2NrZXQuY29ubmVjdGlvblN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuQ09OTkVDVElOR19TVEFUVVM7XG4gICAgICBpZiAoXCJXZWJTb2NrZXRcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdGhpcy5pbml0V2luZG93c0ZvY3VzRXZlbnQoKTtcbiAgICAgICAgdGhpcy5jcm9zU3RvcmFnZS5nZXRUb2tlbigpLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy51cmwsIFt0b2tlbl0pO1xuICAgICAgICAgIC8vcmVzb2x2ZSDmiJbogIVyZWplY3Qg5b+F6aG777yM5aaC5p6c5pyq5omn6KGM77yM5Lya5a+86Ie05ZCO57ut5Luj56CB5LiN5omn6KGMXG4gICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICB0aGlzLl9vbk1zZygpO1xuICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICAgIHRoaXMub25FcnJvcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBTcGFycm93V2ViU29ja2V0LmNvbm5lY3Rpb25TdGF0dXMgPSBTcGFycm93V2ViU29ja2V0LklOQUNUSVZFX1NUQVRVUztcblxuICAgICAgY29uc29sZS5sb2coXCLpk77mjqXlpLHotKXvvIznm7TmjqXph43ov55cIiwgZSk7XG4gICAgICB0aGlzLnJlY29ubmVjdFdlYlNvY2tldCgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvbk9wZW4oKSB7XG4gICAgdGhpcy53cy5vbm9wZW4gPSAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCLov57mjqXmiJDlip9cIiArIGUpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBTcGFycm93V2ViU29ja2V0LmNvbm5lY3Rpb25TdGF0dXMgPSBTcGFycm93V2ViU29ja2V0LkFDVElWRV9TVEFUVVM7XG4gICAgICAvLyDlkK/liqjlv4Pot7NcbiAgICAgIHRoaXMuc3RhcnRIZWFydEJlYXQoKTtcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIG9uQ2xvc2UoKSB7XG4gICAgdGhpcy53cy5vbmNsb3NlID0gKGUpID0+IHtcbiAgICAgIGlmIChlLndhc0NsZWFuKSB7XG4gICAgICAgIFNwYXJyb3dXZWJTb2NrZXQuY29ubmVjdGlvblN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuSU5BQ1RJVkVfU1RBVFVTO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU3BhcnJvd1dlYlNvY2tldC5jb25uZWN0aW9uU3RhdHVzID0gU3BhcnJvd1dlYlNvY2tldC5JTkFDVElWRV9TVEFUVVM7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIui/nuaOpeWFs+mXrSxlLndhc0NsZWFuPVwiICsgZS53YXNDbGVhbik7XG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBvbkVycm9yKCkge1xuICAgIHRoaXMud3Mub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAvLyDlpoLmnpzlh7rnjrDov57mjqXjgIHlpITnkIbjgIHmjqXmlLbjgIHlj5HpgIHmlbDmja7lpLHotKXnmoTml7blgJnop6blj5FvbmVycm9y5LqL5Lu2XG4gICAgICBjb25zb2xlLmxvZyhcIui/nuaOpeWHuumUmVwiKTtcbiAgICAgIFNwYXJyb3dXZWJTb2NrZXQuY29ubmVjdGlvblN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuSU5BQ1RJVkVfU1RBVFVTO1xuICAgICAgdGhpcy5yZWNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICB9O1xuICB9XG5cbiAgLy8g5b+D6Lez5py65Yi2IC0t5ZCv5Yqo5b+D6LezXG4gIHB1YmxpYyBzdGFydEhlYXJ0QmVhdCgpIHtcbiAgICB0aGlzLnN0b3BSZXRyeUNvbm5lY3QoKTtcbiAgICB0aGlzLnN0b3BIZWFydEJlYXQoKTtcbiAgICB0aGlzLmxhc3RIZWFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLmhlYXJ0VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB2YXIgaGVhcnREaWZmID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RIZWFydFRpbWU7XG4gICAgICAvLyDlpoLmnpzotoXov4fkuKTkuKrlkajmnJ/mnKrmi7/liLDlv4Pot7PvvIzor7TmmI7otoXml7ZcbiAgICAgIGlmIChoZWFydERpZmYgPiB0aGlzLmhlYXJ0VGltZW91dCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIui2heaXtumHjei/niBoZWFydCBkaWZmIHt9XCIsIGhlYXJ0RGlmZik7XG4gICAgICAgIHRoaXMuc3RvcEhlYXJ0QmVhdCgpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyDlvIDlkK/kuIDkuKrlv4Pot7NcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCLlj5HpgIHlv4Pot7NcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgdGhpcy53cy5zZW5kKFwiUElOR1wiKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RTdGF0dXNNb25pdG9yZWRUaW1lID5cbiAgICAgICAgICAgIHRoaXMubW9uaXRvclRpbWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgY29udGFjdHNTdGF0dXMgPSB0aGlzLm1vbml0b3JTdGF0dXMoKTtcbiAgICAgICAgICBpZiAoY29udGFjdHNTdGF0dXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy53cy5zZW5kKFwiU1RBVFVTfFwiICsgSlNPTi5zdHJpbmdpZnkoY29udGFjdHNTdGF0dXMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cy5zZW5kKFwiU1RBVFVTXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImhlYXJ0IGJlYXQgZXJyb3I6XCIgKyBlKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmhlYXJ0VGltZSk7XG4gIH1cblxuICAvLyDlhbPpl63lv4Pot7NcbiAgcHVibGljIHN0b3BIZWFydEJlYXQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRUaW1lcik7XG4gICAgU3BhcnJvd1dlYlNvY2tldC5oZWFydFN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuSU5BQ1RJVkVfU1RBVFVTO1xuICB9XG5cbiAgcHVibGljIHN0b3BSZXRyeUNvbm5lY3QoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0aW9uVGltZXIpO1xuICB9XG5cbiAgcHVibGljIGluY3JlYXNlVHhpZCgpOiBudW1iZXIge1xuICAgIHRoaXMudHhpZCA9IHRoaXMudHhpZCArIDE7XG4gICAgcmV0dXJuIHRoaXMudHhpZDtcbiAgfVxuXG4gIC8v5Y+R6YCB5raI5oGvXG4gIHB1YmxpYyBzZW5kTWVzc2FnZShkYXRhOiBBcnJheUJ1ZmZlckxpa2UpIHtcbiAgICB0aGlzLmluY3JlYXNlVHhpZCgpO1xuICAgIHRoaXMud3Muc2VuZChkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyByZWNvbm5lY3Rpb25DYWxsYmFjaygpIHtcbiAgICBjb25zb2xlLmxvZyhcIumHjei/nuWbnuiwg1wiKTtcbiAgfVxuXG4gIC8vIOWFs+mXrei/nuaOpVxuICBwdWJsaWMgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMud3MgPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJ3ZWJzb2NrZXQgaXMgbnVsbFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy53cy5jbG9zZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0V2luZG93c0ZvY3VzRXZlbnQoKSB7XG4gICAgd2luZG93Lm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIndpbmRvdy5vbmZvY3VzXCIpO1xuICAgICAgU3BhcnJvd1dlYlNvY2tldC5hY3RpdmVTdGF0dXMgPSBTcGFycm93V2ViU29ja2V0LkFDVElWRV9TVEFUVVM7XG4gICAgfTtcbiAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwid2luZG93Lm9uY2xpY2tcIik7XG4gICAgICBTcGFycm93V2ViU29ja2V0LmFjdGl2ZVN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuQUNUSVZFX1NUQVRVUztcbiAgICB9O1xuICAgIHdpbmRvdy5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIndpbmRvdy5vbmJsdXJcIik7XG4gICAgICBTcGFycm93V2ViU29ja2V0LmFjdGl2ZVN0YXR1cyA9IFNwYXJyb3dXZWJTb2NrZXQuSU5BQ1RJVkVfU1RBVFVTO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIF9vbk1zZygpIHtcbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGUuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAvLyDliqDkuKrliKTmlq0s5aaC5p6c5pivUE9OR++8jOivtOaYjuW9k+WJjeaYr+WQjuerr+i/lOWbnueahOW/g+i3s+WMhSDlgZzmraLkuIvpnaLnmoTku6PnoIHmiafooYxcbiAgICAgICAgaWYgKGUuZGF0YSA9PT0gXCJQT05HXCIpIHtcbiAgICAgICAgICB0aGlzLmxhc3RIZWFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICBTcGFycm93V2ViU29ja2V0LmhlYXJ0U3RhdHVzID0gU3BhcnJvd1dlYlNvY2tldC5BQ1RJVkVfU1RBVFVTO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLzEg5a+5MSDogYrlpKnml7bvvIzlr7nmlrnkuI3lnKjnur9cbiAgICAgICAgaWYgKGUuZGF0YSA9PT0gXCJPRkZMSU5FXCIpIHtcbiAgICAgICAgICBpZiAodGhpcy5vZmZsaW5lQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMub2ZmbGluZUNhbGxiYWNrKHsgb2ZmbGluZTogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGUuZGF0YSk7XG4gICAgICAgIGlmIChyZXN1bHQuaW5zdHJ1Y3Rpb24gPT0gXCJTVEFUVVNcIikge1xuICAgICAgICAgIGNvbnN0IGNvbnRhY3RzU3RhdHVzID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgaWYgKHRoaXMubW9uaXRvclN0YXR1c0NhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm1vbml0b3JTdGF0dXNDYWxsYmFjayhjb250YWN0c1N0YXR1cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGFzdFN0YXR1c01vbml0b3JlZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5pbnN0cnVjdGlvbiA9PSBcIkFVVEhcIikge1xuICAgICAgICAgIGlmICh0aGlzLnVzZXJBdXRoQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMudXNlckF1dGhDYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBidWYgPSBhd2FpdCBlLmRhdGEuYXJyYXlCdWZmZXIoKTtcbiAgICAgIHRoaXMuaW5jcmVhc2VUeGlkKCk7XG4gICAgICBpZiAodGhpcy5vbk1zZ0NhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub25Nc2dDYWxsYmFjayhidWYpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BhcnJvd1dlYlNvY2tldDtcbiJdLCJuYW1lcyI6WyJTcGFycm93V2ViU29ja2V0IiwiQUNUSVZFX1NUQVRVUyIsIklOQUNUSVZFX1NUQVRVUyIsIkNPTk5FQ1RJTkdfU1RBVFVTIiwiYWN0aXZlU3RhdHVzIiwiaGVhcnRTdGF0dXMiLCJjb25uZWN0aW9uU3RhdHVzIiwiY29uc3RydWN0b3IiLCJ1cmwiLCJjcm9zU3RvcmFnZSIsInR4aWQiLCJoZWFydFRpbWUiLCJoZWFydFRpbWVvdXQiLCJyZWNvbm5lY3RUaW1lIiwibGFzdEhlYXJ0VGltZSIsIm1vbml0b3JUaW1lIiwibGFzdFN0YXR1c01vbml0b3JlZFRpbWUiLCJyZWNvbm5lY3RXZWJTb2NrZXQiLCJjbG9zZSIsInN0b3BIZWFydEJlYXQiLCJzdG9wUmV0cnlDb25uZWN0IiwicmVjb25uZWN0aW9uVGltZXIiLCJzZXRJbnRlcnZhbCIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0Iiwid2luZG93IiwiaW5pdFdpbmRvd3NGb2N1c0V2ZW50IiwiZ2V0VG9rZW4iLCJ0aGVuIiwidG9rZW4iLCJ3cyIsIldlYlNvY2tldCIsIm9uT3BlbiIsIl9vbk1zZyIsIm9uQ2xvc2UiLCJvbkVycm9yIiwiZSIsIm9ub3BlbiIsImNvbm5lY3Rpb25UaW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0SGVhcnRCZWF0Iiwib25jbG9zZSIsIndhc0NsZWFuIiwib25lcnJvciIsImhlYXJ0VGltZXIiLCJoZWFydERpZmYiLCJzZW5kIiwiY29udGFjdHNTdGF0dXMiLCJtb25pdG9yU3RhdHVzIiwibGVuZ3RoIiwiSlNPTiIsInN0cmluZ2lmeSIsImNsZWFyVGltZW91dCIsImluY3JlYXNlVHhpZCIsInNlbmRNZXNzYWdlIiwiZGF0YSIsInJlY29ubmVjdGlvbkNhbGxiYWNrIiwib25mb2N1cyIsIm9uY2xpY2siLCJvbmJsdXIiLCJvbm1lc3NhZ2UiLCJvZmZsaW5lQ2FsbGJhY2siLCJvZmZsaW5lIiwicmVzdWx0IiwicGFyc2UiLCJpbnN0cnVjdGlvbiIsIm1vbml0b3JTdGF0dXNDYWxsYmFjayIsInVzZXJBdXRoQ2FsbGJhY2siLCJidWYiLCJhcnJheUJ1ZmZlciIsIm9uTXNnQ2FsbGJhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/SparrowWebSocket.ts\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/protocol/ArrayBufferUtils.ts":
/*!*****************************************************!*\
  !*** ./src/common/lib/protocol/ArrayBufferUtils.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ArrayBufferUtils)\n/* harmony export */ });\nclass ArrayBufferUtils {\n    static bytes2ArrayBuffer(bytes) {\n        let array = new Uint8Array(bytes.length);\n        for(let i = 0; i < array.length; i++){\n            array[i] = bytes[i];\n        }\n        return array;\n    }\n    static str2Buffer(str) {\n        if (typeof TextEncoder === \"undefined\") {\n            let bytes = [];\n            let c;\n            for(let i = 0; i < str.length; i++){\n                c = str.charCodeAt(i);\n                if (c >= 0x010000 && c <= 0x10ffff) {\n                    bytes.push(c >> 18 & 0x07 | 0xf0);\n                    bytes.push(c >> 12 & 0x3f | 0x80);\n                    bytes.push(c >> 6 & 0x3f | 0x80);\n                    bytes.push(c & 0x3f | 0x80);\n                } else if (c >= 0x000800 && c <= 0x00ffff) {\n                    bytes.push(c >> 12 & 0x0f | 0xe0);\n                    bytes.push(c >> 6 & 0x3f | 0x80);\n                    bytes.push(c & 0x3f | 0x80);\n                } else if (c >= 0x000080 && c <= 0x0007ff) {\n                    bytes.push(c >> 6 & 0x1f | 0xc0);\n                    bytes.push(c & 0x3f | 0x80);\n                } else {\n                    bytes.push(c & 0xff);\n                }\n            }\n            return ArrayBufferUtils.bytes2ArrayBuffer(bytes);\n        }\n        const encoder = new TextEncoder();\n        return encoder.encode(str);\n    }\n    static number2Buffer(num) {\n        length = 4;\n        //只支持32位以下数字，32位以上会有精度问题\n        var bytes = [];\n        var i = length;\n        do {\n            //console.log(number.toString(2));\n            bytes[--i] = num & 255;\n            num = num >> 8;\n        }while (i);\n        return ArrayBufferUtils.bytes2ArrayBuffer(bytes);\n    }\n    static appendBytes(bytes, appendBytes, offset) {\n        bytes.set(appendBytes, offset);\n        return offset + appendBytes.byteLength;\n    }\n    readString(view, offset, length1, isUTF16 = false) {\n        let str = \"\";\n        const step = isUTF16 ? 2 : 1;\n        for(let i = 0; i < length1; i += step){\n            const code = isUTF16 ? view.getUint16(offset + i, true) // 小端序读取\n             : view.getUint8(offset + i);\n            str += String.fromCharCode(code);\n        }\n        return str;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2xpYi9wcm90b2NvbC9BcnJheUJ1ZmZlclV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZSxNQUFNQTtJQUNuQixPQUFPQyxrQkFBa0JDLEtBQWUsRUFBYztRQUNwRCxJQUFJQyxRQUFRLElBQUlDLFdBQVdGLE1BQU1HLE1BQU07UUFDdkMsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILE1BQU1FLE1BQU0sRUFBRUMsSUFBSztZQUNyQ0gsS0FBSyxDQUFDRyxFQUFFLEdBQUdKLEtBQUssQ0FBQ0ksRUFBRTtRQUNyQjtRQUNBLE9BQU9IO0lBQ1Q7SUFFQSxPQUFPSSxXQUFXQyxHQUFXLEVBQWM7UUFDekMsSUFBSSxPQUFPQyxnQkFBZ0IsYUFBYTtZQUN0QyxJQUFJUCxRQUFrQixFQUFFO1lBQ3hCLElBQUlRO1lBQ0osSUFBSyxJQUFJSixJQUFJLEdBQUdBLElBQUlFLElBQUlILE1BQU0sRUFBRUMsSUFBSztnQkFDbkNJLElBQUlGLElBQUlHLFVBQVUsQ0FBQ0w7Z0JBQ25CLElBQUlJLEtBQUssWUFBWUEsS0FBSyxVQUFVO29CQUNsQ1IsTUFBTVUsSUFBSSxDQUFDLEtBQU8sS0FBTSxPQUFRO29CQUNoQ1YsTUFBTVUsSUFBSSxDQUFDLEtBQU8sS0FBTSxPQUFRO29CQUNoQ1YsTUFBTVUsSUFBSSxDQUFDLEtBQU8sSUFBSyxPQUFRO29CQUMvQlYsTUFBTVUsSUFBSSxDQUFDLElBQUssT0FBUTtnQkFDMUIsT0FBTyxJQUFJRixLQUFLLFlBQVlBLEtBQUssVUFBVTtvQkFDekNSLE1BQU1VLElBQUksQ0FBQyxLQUFPLEtBQU0sT0FBUTtvQkFDaENWLE1BQU1VLElBQUksQ0FBQyxLQUFPLElBQUssT0FBUTtvQkFDL0JWLE1BQU1VLElBQUksQ0FBQyxJQUFLLE9BQVE7Z0JBQzFCLE9BQU8sSUFBSUYsS0FBSyxZQUFZQSxLQUFLLFVBQVU7b0JBQ3pDUixNQUFNVSxJQUFJLENBQUMsS0FBTyxJQUFLLE9BQVE7b0JBQy9CVixNQUFNVSxJQUFJLENBQUMsSUFBSyxPQUFRO2dCQUMxQixPQUFPO29CQUNMVixNQUFNVSxJQUFJLENBQUNGLElBQUk7Z0JBQ2pCO1lBQ0Y7WUFDQSxPQUFPVixpQkFBaUJDLGlCQUFpQixDQUFDQztRQUM1QztRQUNBLE1BQU1XLFVBQVUsSUFBSUo7UUFDcEIsT0FBT0ksUUFBUUMsTUFBTSxDQUFDTjtJQUN4QjtJQUVBLE9BQU9PLGNBQWNDLEdBQVcsRUFBYztRQUM1Q1gsU0FBUztRQUNULHdCQUF3QjtRQUN4QixJQUFJSCxRQUFrQixFQUFFO1FBQ3hCLElBQUlJLElBQUlEO1FBQ1IsR0FBRztZQUNELGtDQUFrQztZQUNsQ0gsS0FBSyxDQUFDLEVBQUVJLEVBQUUsR0FBR1UsTUFBTTtZQUNuQkEsTUFBTUEsT0FBTztRQUNmLFFBQVNWLEdBQUc7UUFDWixPQUFPTixpQkFBaUJDLGlCQUFpQixDQUFDQztJQUM1QztJQUVBLE9BQWNlLFlBQ1pmLEtBQWlCLEVBQ2pCZSxXQUF1QixFQUN2QkMsTUFBYyxFQUNOO1FBQ1JoQixNQUFNaUIsR0FBRyxDQUFDRixhQUFhQztRQUN2QixPQUFPQSxTQUFTRCxZQUFZRyxVQUFVO0lBQ3hDO0lBRU9DLFdBQ0xDLElBQWMsRUFDZEosTUFBYyxFQUNkYixPQUFjLEVBQ2RrQixVQUFVLEtBQUssRUFDUDtRQUNSLElBQUlmLE1BQU07UUFDVixNQUFNZ0IsT0FBT0QsVUFBVSxJQUFJO1FBQzNCLElBQUssSUFBSWpCLElBQUksR0FBR0EsSUFBSUQsU0FBUUMsS0FBS2tCLEtBQU07WUFDckMsTUFBTUMsT0FBT0YsVUFDVEQsS0FBS0ksU0FBUyxDQUFDUixTQUFTWixHQUFHLE1BQU0sUUFBUTtlQUN6Q2dCLEtBQUtLLFFBQVEsQ0FBQ1QsU0FBU1o7WUFDM0JFLE9BQU9vQixPQUFPQyxZQUFZLENBQUNKO1FBQzdCO1FBQ0EsT0FBT2pCO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21tb24vbGliL3Byb3RvY29sL0FycmF5QnVmZmVyVXRpbHMudHM/Y2Q1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJheUJ1ZmZlclV0aWxzIHtcbiAgc3RhdGljIGJ5dGVzMkFycmF5QnVmZmVyKGJ5dGVzOiBudW1iZXJbXSk6IFVpbnQ4QXJyYXkge1xuICAgIGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBieXRlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgc3RhdGljIHN0cjJCdWZmZXIoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBsZXQgYnl0ZXM6IG51bWJlcltdID0gW107XG4gICAgICBsZXQgYztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPj0gMHgwMTAwMDAgJiYgYyA8PSAweDEwZmZmZikge1xuICAgICAgICAgIGJ5dGVzLnB1c2goKChjID4+IDE4KSAmIDB4MDcpIHwgMHhmMCk7XG4gICAgICAgICAgYnl0ZXMucHVzaCgoKGMgPj4gMTIpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICBieXRlcy5wdXNoKCgoYyA+PiA2KSAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgICAgYnl0ZXMucHVzaCgoYyAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyA+PSAweDAwMDgwMCAmJiBjIDw9IDB4MDBmZmZmKSB7XG4gICAgICAgICAgYnl0ZXMucHVzaCgoKGMgPj4gMTIpICYgMHgwZikgfCAweGUwKTtcbiAgICAgICAgICBieXRlcy5wdXNoKCgoYyA+PiA2KSAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgICAgYnl0ZXMucHVzaCgoYyAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyA+PSAweDAwMDA4MCAmJiBjIDw9IDB4MDAwN2ZmKSB7XG4gICAgICAgICAgYnl0ZXMucHVzaCgoKGMgPj4gNikgJiAweDFmKSB8IDB4YzApO1xuICAgICAgICAgIGJ5dGVzLnB1c2goKGMgJiAweDNmKSB8IDB4ODApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ5dGVzLnB1c2goYyAmIDB4ZmYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gQXJyYXlCdWZmZXJVdGlscy5ieXRlczJBcnJheUJ1ZmZlcihieXRlcyk7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGUoc3RyKTtcbiAgfVxuXG4gIHN0YXRpYyBudW1iZXIyQnVmZmVyKG51bTogbnVtYmVyKTogVWludDhBcnJheSB7XG4gICAgbGVuZ3RoID0gNDtcbiAgICAvL+WPquaUr+aMgTMy5L2N5Lul5LiL5pWw5a2X77yMMzLkvY3ku6XkuIrkvJrmnInnsr7luqbpl67pophcbiAgICB2YXIgYnl0ZXM6IG51bWJlcltdID0gW107XG4gICAgdmFyIGkgPSBsZW5ndGg7XG4gICAgZG8ge1xuICAgICAgLy9jb25zb2xlLmxvZyhudW1iZXIudG9TdHJpbmcoMikpO1xuICAgICAgYnl0ZXNbLS1pXSA9IG51bSAmIDI1NTtcbiAgICAgIG51bSA9IG51bSA+PiA4O1xuICAgIH0gd2hpbGUgKGkpO1xuICAgIHJldHVybiBBcnJheUJ1ZmZlclV0aWxzLmJ5dGVzMkFycmF5QnVmZmVyKGJ5dGVzKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgYXBwZW5kQnl0ZXMoXG4gICAgYnl0ZXM6IFVpbnQ4QXJyYXksXG4gICAgYXBwZW5kQnl0ZXM6IFVpbnQ4QXJyYXksXG4gICAgb2Zmc2V0OiBudW1iZXJcbiAgKTogbnVtYmVyIHtcbiAgICBieXRlcy5zZXQoYXBwZW5kQnl0ZXMsIG9mZnNldCk7XG4gICAgcmV0dXJuIG9mZnNldCArIGFwcGVuZEJ5dGVzLmJ5dGVMZW5ndGg7XG4gIH1cblxuICBwdWJsaWMgcmVhZFN0cmluZyhcbiAgICB2aWV3OiBEYXRhVmlldyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBpc1VURjE2ID0gZmFsc2VcbiAgKTogc3RyaW5nIHtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBjb25zdCBzdGVwID0gaXNVVEYxNiA/IDIgOiAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IHN0ZXApIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBpc1VURjE2XG4gICAgICAgID8gdmlldy5nZXRVaW50MTYob2Zmc2V0ICsgaSwgdHJ1ZSkgLy8g5bCP56uv5bqP6K+75Y+WXG4gICAgICAgIDogdmlldy5nZXRVaW50OChvZmZzZXQgKyBpKTtcbiAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQXJyYXlCdWZmZXJVdGlscyIsImJ5dGVzMkFycmF5QnVmZmVyIiwiYnl0ZXMiLCJhcnJheSIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJpIiwic3RyMkJ1ZmZlciIsInN0ciIsIlRleHRFbmNvZGVyIiwiYyIsImNoYXJDb2RlQXQiLCJwdXNoIiwiZW5jb2RlciIsImVuY29kZSIsIm51bWJlcjJCdWZmZXIiLCJudW0iLCJhcHBlbmRCeXRlcyIsIm9mZnNldCIsInNldCIsImJ5dGVMZW5ndGgiLCJyZWFkU3RyaW5nIiwidmlldyIsImlzVVRGMTYiLCJzdGVwIiwiY29kZSIsImdldFVpbnQxNiIsImdldFVpbnQ4IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/protocol/ArrayBufferUtils.ts\n");

/***/ }),

/***/ "(ssr)/./src/common/lib/protocol/CrosProtocol.ts":
/*!*************************************************!*\
  !*** ./src/common/lib/protocol/CrosProtocol.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommandType: () => (/* binding */ CommandType),\n/* harmony export */   StorageType: () => (/* binding */ StorageType)\n/* harmony export */ });\n// 定义消息协议\nvar CommandType;\n(function(CommandType) {\n    CommandType[\"GET\"] = \"get\";\n    CommandType[\"SET\"] = \"set\";\n    CommandType[\"REMOVE\"] = \"remove\";\n})(CommandType || (CommandType = {}));\nvar StorageType;\n(function(StorageType) {\n    StorageType[\"LOCAL\"] = \"local\";\n    StorageType[\"SESSION\"] = \"session\";\n    StorageType[\"AUTOMATIC\"] = \"automatic\";\n})(StorageType || (StorageType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tbW9uL2xpYi9wcm90b2NvbC9Dcm9zUHJvdG9jb2wudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTOztVQUVHQTs7OztHQUFBQSxnQkFBQUE7O1VBS0FDOzs7O0dBQUFBLGdCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21tb24vbGliL3Byb3RvY29sL0Nyb3NQcm90b2NvbC50cz9hYzFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWumuS5iea2iOaBr+WNj+iurlxuXG5leHBvcnQgZW51bSBDb21tYW5kVHlwZSB7XG4gIEdFVCA9IFwiZ2V0XCIsXG4gIFNFVCA9IFwic2V0XCIsXG4gIFJFTU9WRSA9IFwicmVtb3ZlXCJcbn1cbmV4cG9ydCBlbnVtIFN0b3JhZ2VUeXBle1xuICBMT0NBTCA9IFwibG9jYWxcIixcbiAgU0VTU0lPTiA9IFwic2Vzc2lvblwiLFxuICBBVVRPTUFUSUMgPSBcImF1dG9tYXRpY1wiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZVJlcXVlc3Qge1xuICBzdG9yYWdlOiBTdG9yYWdlVHlwZTtcbiAgY29tbWFuZDogQ29tbWFuZFR5cGU7XG4gIGtleTogc3RyaW5nO1xuICByZXF1ZXN0SWQ6IHN0cmluZzsgLy8g5ZSv5LiA6K+35rGCSUTvvIznlKjkuo7ljLnphY3lk43lupRcbiAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZVJlc3BvbnNlIHtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmcgfCBudWxsO1xuICBlcnJvcj86IHN0cmluZztcbn1cbiJdLCJuYW1lcyI6WyJDb21tYW5kVHlwZSIsIlN0b3JhZ2VUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/common/lib/protocol/CrosProtocol.ts\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatLayout.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatLayout.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_WebSocketProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/WebSocketProvider */ \"(ssr)/./src/lib/WebSocketProvider.ts\");\n/* harmony import */ var _lib_protocol_MessageBroker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/protocol/MessageBroker */ \"(ssr)/./src/lib/protocol/MessageBroker.ts\");\n/* harmony import */ var _common_hook_CrosStorageHook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/common/hook/CrosStorageHook */ \"(ssr)/./src/common/hook/CrosStorageHook.tsx\");\n/* harmony import */ var _common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/components/LoadingSpinner */ \"(ssr)/./src/common/components/LoadingSpinner.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction ChatLayout({ children }) {\n    const [webSocketContextValue, setWebSocketContextValue] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    let crosStorage = (0,_common_hook_CrosStorageHook__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n    console.log(\"渲染ChatLayout\");\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        async function asyncInit() {\n            if (!crosStorage) {\n                return;\n            }\n            const messageContainer = new _lib_protocol_MessageBroker__WEBPACK_IMPORTED_MODULE_5__[\"default\"](crosStorage);\n            const localContext = _lib_WebSocketProvider__WEBPACK_IMPORTED_MODULE_4__.WebSocketContextValue.create(messageContainer);\n            messageContainer.newMessageSignal = ()=>{\n                setWebSocketContextValue(localContext?.newReference());\n            };\n            setWebSocketContextValue(localContext);\n        }\n        asyncInit();\n        return ()=>{\n            crosStorage?.destroy();\n            webSocketContextValue?.closeWebSocket();\n        };\n    }, [\n        crosStorage\n    ]);\n    if (!webSocketContextValue) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n            lineNumber: 46,\n            columnNumber: 12\n        }, this);\n    }\n    console.log(\"状态变化会重新渲染\", webSocketContextValue);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-row flex-1 w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-[20rem] flex flex-col  gap-4 p-4 border-r border-indigo-500\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-cyan-500 text-white p-2 rounded-xl cursor-pointer\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                            href: `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_2__.NEXT_ASSET_PREFIX}/chat/friends`,\n                            children: \"通讯录管理\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                            lineNumber: 54,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-cyan-500 text-white p-2 rounded-xl cursor-pointer\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                            href: `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_2__.NEXT_ASSET_PREFIX}/chat/sessions/session`,\n                            children: \"我的会话\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 border-l border-indigo-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lib_WebSocketProvider__WEBPACK_IMPORTED_MODULE_4__.WebSocketContext.Provider, {\n                    value: webSocketContextValue,\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                    lineNumber: 63,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx\",\n        lineNumber: 51,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9DaGF0TGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFDNkI7QUFDd0I7QUFDdEI7QUFDYTtBQUlYO0FBQ3dCO0FBQ0U7QUFDSztBQUVqRCxTQUFTVSxXQUFXLEVBQ2pDQyxRQUFRLEVBR1Q7SUFDQyxNQUFNLENBQUNDLHVCQUF1QkMseUJBQXlCLEdBQ3JEVCwrQ0FBUUE7SUFFVixJQUFJVSxjQUFjTix3RUFBY0E7SUFFaENPLFFBQVFDLEdBQUcsQ0FBQztJQUNaYixnREFBU0EsQ0FBQztRQUNSLGVBQWVjO1lBQ2IsSUFBSSxDQUFDSCxhQUFhO2dCQUNoQjtZQUNGO1lBQ0EsTUFBTUksbUJBQW1CLElBQUlYLG1FQUFhQSxDQUFDTztZQUMzQyxNQUFNSyxlQUFlYix5RUFBcUJBLENBQUNjLE1BQU0sQ0FBQ0Y7WUFDbERBLGlCQUFpQkcsZ0JBQWdCLEdBQUc7Z0JBQ2xDUix5QkFBeUJNLGNBQWNHO1lBQ3pDO1lBQ0FULHlCQUF5Qk07UUFDM0I7UUFFQUY7UUFDQSxPQUFPO1lBQ0xILGFBQWFTO1lBQ2JYLHVCQUF1Qlk7UUFDekI7SUFDRixHQUFHO1FBQUNWO0tBQVk7SUFFaEIsSUFBSSxDQUFDRix1QkFBdUI7UUFDMUIscUJBQU8sOERBQUNILHlFQUFjQTs7Ozs7SUFDeEI7SUFFQU0sUUFBUUMsR0FBRyxDQUFDLGFBQWFKO0lBQ3pCLHFCQUNFLDhEQUFDYTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVztrQ0FDZCw0RUFBQzFCLGlEQUFJQTs0QkFBQzJCLE1BQU0sQ0FBQyxFQUFFMUIsOERBQWlCQSxDQUFDLGFBQWEsQ0FBQztzQ0FBRTs7Ozs7Ozs7Ozs7a0NBRW5ELDhEQUFDd0I7d0JBQUlDLFdBQVc7a0NBQ2QsNEVBQUMxQixpREFBSUE7NEJBQUMyQixNQUFNLENBQUMsRUFBRTFCLDhEQUFpQkEsQ0FBQyxzQkFBc0IsQ0FBQztzQ0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBSzlELDhEQUFDd0I7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNyQixvRUFBZ0JBLENBQUN1QixRQUFRO29CQUN4QkMsT0FBT2pCOzhCQUVORDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21wb25lbnRzL0NoYXRMYXlvdXQudHN4PzRhZjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5pbXBvcnQgeyBORVhUX0FTU0VUX1BSRUZJWCB9IGZyb20gXCJAL2NvbW1vbi9saWIvRW52XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFdlYlNvY2tldENvbnRleHQsXG4gIFdlYlNvY2tldENvbnRleHRWYWx1ZSxcbn0gZnJvbSBcIkAvbGliL1dlYlNvY2tldFByb3ZpZGVyXCI7XG5pbXBvcnQgTWVzc2FnZUJyb2tlciBmcm9tIFwiQC9saWIvcHJvdG9jb2wvTWVzc2FnZUJyb2tlclwiO1xuaW1wb3J0IHVzZUNyb3NTdG9yYWdlIGZyb20gXCJAL2NvbW1vbi9ob29rL0Nyb3NTdG9yYWdlSG9va1wiO1xuaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gXCJAL2NvbW1vbi9jb21wb25lbnRzL0xvYWRpbmdTcGlubmVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRMYXlvdXQoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pIHtcbiAgY29uc3QgW3dlYlNvY2tldENvbnRleHRWYWx1ZSwgc2V0V2ViU29ja2V0Q29udGV4dFZhbHVlXSA9XG4gICAgdXNlU3RhdGU8V2ViU29ja2V0Q29udGV4dFZhbHVlPigpO1xuXG4gIGxldCBjcm9zU3RvcmFnZSA9IHVzZUNyb3NTdG9yYWdlKCk7XG5cbiAgY29uc29sZS5sb2coXCLmuLLmn5NDaGF0TGF5b3V0XCIpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGFzeW5jSW5pdCgpIHtcbiAgICAgIGlmICghY3Jvc1N0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbWVzc2FnZUNvbnRhaW5lciA9IG5ldyBNZXNzYWdlQnJva2VyKGNyb3NTdG9yYWdlKTtcbiAgICAgIGNvbnN0IGxvY2FsQ29udGV4dCA9IFdlYlNvY2tldENvbnRleHRWYWx1ZS5jcmVhdGUobWVzc2FnZUNvbnRhaW5lcik7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLm5ld01lc3NhZ2VTaWduYWwgPSAoKSA9PiB7XG4gICAgICAgIHNldFdlYlNvY2tldENvbnRleHRWYWx1ZShsb2NhbENvbnRleHQ/Lm5ld1JlZmVyZW5jZSgpKTtcbiAgICAgIH07XG4gICAgICBzZXRXZWJTb2NrZXRDb250ZXh0VmFsdWUobG9jYWxDb250ZXh0KTtcbiAgICB9XG5cbiAgICBhc3luY0luaXQoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY3Jvc1N0b3JhZ2U/LmRlc3Ryb3koKTtcbiAgICAgIHdlYlNvY2tldENvbnRleHRWYWx1ZT8uY2xvc2VXZWJTb2NrZXQoKTtcbiAgICB9O1xuICB9LCBbY3Jvc1N0b3JhZ2VdKTtcblxuICBpZiAoIXdlYlNvY2tldENvbnRleHRWYWx1ZSkge1xuICAgIHJldHVybiA8TG9hZGluZ1NwaW5uZXIgLz47XG4gIH1cblxuICBjb25zb2xlLmxvZyhcIueKtuaAgeWPmOWMluS8mumHjeaWsOa4suafk1wiLCB3ZWJTb2NrZXRDb250ZXh0VmFsdWUpO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXJvdyBmbGV4LTEgdy1mdWxsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctWzIwcmVtXSBmbGV4IGZsZXgtY29sICBnYXAtNCBwLTQgYm9yZGVyLXIgYm9yZGVyLWluZGlnby01MDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiYmctY3lhbi01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC14bCBjdXJzb3ItcG9pbnRlclwifT5cbiAgICAgICAgICA8TGluayBocmVmPXtgJHtORVhUX0FTU0VUX1BSRUZJWH0vY2hhdC9mcmllbmRzYH0+6YCa6K6v5b2V566h55CGPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiYmctY3lhbi01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC14bCBjdXJzb3ItcG9pbnRlclwifT5cbiAgICAgICAgICA8TGluayBocmVmPXtgJHtORVhUX0FTU0VUX1BSRUZJWH0vY2hhdC9zZXNzaW9ucy9zZXNzaW9uYH0+XG4gICAgICAgICAgICDmiJHnmoTkvJror51cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBib3JkZXItbCBib3JkZXItaW5kaWdvLTUwMFwiPlxuICAgICAgICA8V2ViU29ja2V0Q29udGV4dC5Qcm92aWRlclxuICAgICAgICAgIHZhbHVlPXt3ZWJTb2NrZXRDb250ZXh0VmFsdWUgYXMgV2ViU29ja2V0Q29udGV4dFZhbHVlfVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1dlYlNvY2tldENvbnRleHQuUHJvdmlkZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJMaW5rIiwiTkVYVF9BU1NFVF9QUkVGSVgiLCJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiV2ViU29ja2V0Q29udGV4dCIsIldlYlNvY2tldENvbnRleHRWYWx1ZSIsIk1lc3NhZ2VCcm9rZXIiLCJ1c2VDcm9zU3RvcmFnZSIsIkxvYWRpbmdTcGlubmVyIiwiQ2hhdExheW91dCIsImNoaWxkcmVuIiwid2ViU29ja2V0Q29udGV4dFZhbHVlIiwic2V0V2ViU29ja2V0Q29udGV4dFZhbHVlIiwiY3Jvc1N0b3JhZ2UiLCJjb25zb2xlIiwibG9nIiwiYXN5bmNJbml0IiwibWVzc2FnZUNvbnRhaW5lciIsImxvY2FsQ29udGV4dCIsImNyZWF0ZSIsIm5ld01lc3NhZ2VTaWduYWwiLCJuZXdSZWZlcmVuY2UiLCJkZXN0cm95IiwiY2xvc2VXZWJTb2NrZXQiLCJkaXYiLCJjbGFzc05hbWUiLCJocmVmIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatLayout.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ContactItem.tsx":
/*!****************************************!*\
  !*** ./src/components/ContactItem.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContactItem)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var _components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/img/DynamicImage */ \"(ssr)/./src/components/img/DynamicImage.tsx\");\n/* harmony import */ var _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/protocol/ChatSession */ \"(ssr)/./src/lib/protocol/ChatSession.ts\");\n/* harmony import */ var _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/protocol/ChatUser */ \"(ssr)/./src/lib/protocol/ChatUser.ts\");\n\n\n\n\n\n\n\nfunction ContactItem(contactProps) {\n    const { contact } = contactProps;\n    const headSrc = `/avatar/${contact.userId}.jpg`;\n    const sessionKey = _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_5__[\"default\"].create121Session(_lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getCurrentUser(), new _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_6__[\"default\"](contact.userId + \"\", _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_6__[\"default\"].CATEGORY_REGISTER)).key();\n    const sessionUrl = `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_3__.NEXT_ASSET_PREFIX}/chat/sessions/session?sessionKey=${sessionKey}`;\n    //const contactUrl = `${NEXT_ASSET_PREFIX}/chat/friends/contact?friendId=${contact.userId}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center text-left\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                href: sessionUrl,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_4__.DynamicImage, {\n                    src: headSrc,\n                    alt: \"header\",\n                    width: 50,\n                    height: 50,\n                    className: \"w-16 h-16 rounded-full mr-4\"\n                }, void 0, false, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                lineNumber: 21,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    href: sessionUrl,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: [\n                                contact.userName,\n                                \"-\",\n                                contact.userId\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                            lineNumber: 32,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: contact.nationality\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                            lineNumber: 34,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                    lineNumber: 31,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ContactItem.tsx\",\n        lineNumber: 20,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9Db250YWN0SXRlbS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDRTtBQUNzQjtBQUNRO0FBQ1I7QUFDTjtBQU9oQyxTQUFTTSxZQUFZQyxZQUEwQjtJQUMxRCxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHRDtJQUN0QixNQUFNRSxVQUFVLENBQUMsUUFBUSxFQUFFRCxRQUFRRSxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQy9DLE1BQU1DLGFBQVdQLGlFQUFXQSxDQUFDUSxnQkFBZ0IsQ0FBQ1AsOERBQVFBLENBQUNRLGNBQWMsSUFBZSxJQUFJUiw4REFBUUEsQ0FBQ0csUUFBUUUsTUFBTSxHQUFDLElBQUdMLDhEQUFRQSxDQUFDUyxpQkFBaUIsR0FBR0MsR0FBRztJQUNuSixNQUFNQyxhQUFXLENBQUMsRUFBRWQsOERBQWlCQSxDQUFDLGtDQUFrQyxFQUFFUyxXQUFXLENBQUM7SUFDdEYsNEZBQTRGO0lBQzVGLHFCQUNFLDhEQUFDTTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ2xCLGlEQUFJQTtnQkFBQ21CLE1BQU1IOzBCQUNWLDRFQUFDYixzRUFBWUE7b0JBQ1hpQixLQUFLWDtvQkFDTFksS0FBSztvQkFDTEMsT0FBTztvQkFDUEMsUUFBUTtvQkFDUkwsV0FBVzs7Ozs7Ozs7Ozs7MEJBR2YsOERBQUNEOzBCQUNDLDRFQUFDakIsaURBQUlBO29CQUFDbUIsTUFBTUg7O3NDQUNWLDhEQUFDUTs7Z0NBQVFoQixRQUFRaUIsUUFBUTtnQ0FBQztnQ0FBRWpCLFFBQVFFLE1BQU07Ozs7Ozs7c0NBQzFDLDhEQUFDZ0I7Ozs7O3NDQUNELDhEQUFDQztzQ0FBTW5CLFFBQVFvQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21wb25lbnRzL0NvbnRhY3RJdGVtLnRzeD81NThjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTkVYVF9BU1NFVF9QUkVGSVggfSBmcm9tIFwiQC9jb21tb24vbGliL0VudlwiO1xuaW1wb3J0IHsgRHluYW1pY0ltYWdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9pbWcvRHluYW1pY0ltYWdlXCI7XG5pbXBvcnQgQ2hhdFNlc3Npb24gZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRTZXNzaW9uXCI7XG5pbXBvcnQgQ2hhdFVzZXIgZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRVc2VyXCI7XG5pbXBvcnQgQ29udGFjdCBmcm9tIFwiQC9saWIvcHJvdG9jb2wvY29udGFjdC9Db250YWN0XCI7XG5cbmludGVyZmFjZSBDb250YWN0UHJvcHMge1xuICBjb250YWN0OiBDb250YWN0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250YWN0SXRlbShjb250YWN0UHJvcHM6IENvbnRhY3RQcm9wcykge1xuICAgIGNvbnN0IHsgY29udGFjdCB9ID0gY29udGFjdFByb3BzO1xuICBjb25zdCBoZWFkU3JjID0gYC9hdmF0YXIvJHtjb250YWN0LnVzZXJJZH0uanBnYDtcbiAgY29uc3Qgc2Vzc2lvbktleT1DaGF0U2Vzc2lvbi5jcmVhdGUxMjFTZXNzaW9uKENoYXRVc2VyLmdldEN1cnJlbnRVc2VyKCkgYXMgQ2hhdFVzZXIsbmV3IENoYXRVc2VyKGNvbnRhY3QudXNlcklkK1wiXCIsQ2hhdFVzZXIuQ0FURUdPUllfUkVHSVNURVIpKS5rZXkoKTtcbiAgY29uc3Qgc2Vzc2lvblVybD1gJHtORVhUX0FTU0VUX1BSRUZJWH0vY2hhdC9zZXNzaW9ucy9zZXNzaW9uP3Nlc3Npb25LZXk9JHtzZXNzaW9uS2V5fWA7XG4gIC8vY29uc3QgY29udGFjdFVybCA9IGAke05FWFRfQVNTRVRfUFJFRklYfS9jaGF0L2ZyaWVuZHMvY29udGFjdD9mcmllbmRJZD0ke2NvbnRhY3QudXNlcklkfWA7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LWxlZnRcIj5cbiAgICAgIDxMaW5rIGhyZWY9e3Nlc3Npb25Vcmx9PlxuICAgICAgICA8RHluYW1pY0ltYWdlXG4gICAgICAgICAgc3JjPXtoZWFkU3JjfVxuICAgICAgICAgIGFsdD17XCJoZWFkZXJcIn1cbiAgICAgICAgICB3aWR0aD17NTB9XG4gICAgICAgICAgaGVpZ2h0PXs1MH1cbiAgICAgICAgICBjbGFzc05hbWU9e1widy0xNiBoLTE2IHJvdW5kZWQtZnVsbCBtci00XCJ9XG4gICAgICAgIC8+XG4gICAgICA8L0xpbms+XG4gICAgICA8ZGl2PlxuICAgICAgICA8TGluayBocmVmPXtzZXNzaW9uVXJsfT5cbiAgICAgICAgICA8c3Ryb25nPntjb250YWN0LnVzZXJOYW1lfS17Y29udGFjdC51c2VySWR9PC9zdHJvbmc+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPHNwYW4+e2NvbnRhY3QubmF0aW9uYWxpdHl9PC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJMaW5rIiwiUmVhY3QiLCJORVhUX0FTU0VUX1BSRUZJWCIsIkR5bmFtaWNJbWFnZSIsIkNoYXRTZXNzaW9uIiwiQ2hhdFVzZXIiLCJDb250YWN0SXRlbSIsImNvbnRhY3RQcm9wcyIsImNvbnRhY3QiLCJoZWFkU3JjIiwidXNlcklkIiwic2Vzc2lvbktleSIsImNyZWF0ZTEyMVNlc3Npb24iLCJnZXRDdXJyZW50VXNlciIsIkNBVEVHT1JZX1JFR0lTVEVSIiwia2V5Iiwic2Vzc2lvblVybCIsImRpdiIsImNsYXNzTmFtZSIsImhyZWYiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInN0cm9uZyIsInVzZXJOYW1lIiwiYnIiLCJzcGFuIiwibmF0aW9uYWxpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ContactItem.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Contacts.tsx":
/*!*************************************!*\
  !*** ./src/components/Contacts.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Contacts)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ContactItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ContactItem */ \"(ssr)/./src/components/ContactItem.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/components/LoadingSpinner */ \"(ssr)/./src/common/components/LoadingSpinner.tsx\");\n\n\n\n\nfunction Contacts(contactsProps) {\n    if (!contactsProps.contacts) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Contacts.tsx\",\n            lineNumber: 12,\n            columnNumber: 12\n        }, this);\n    }\n    if (contactsProps.contacts.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-center text-gray-500\",\n            children: \"快去加好友去\"\n        }, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Contacts.tsx\",\n            lineNumber: 15,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: contactsProps?.contacts?.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ContactItem__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                contact: contact\n            }, contact.userId + \"\", false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Contacts.tsx\",\n                lineNumber: 20,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Contacts.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9Db250YWN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDcEI7QUFFaUM7QUFNakQsU0FBU0csU0FBU0MsYUFBNEI7SUFDM0QsSUFBSSxDQUFDQSxjQUFjQyxRQUFRLEVBQUU7UUFDM0IscUJBQU8sOERBQUNILHlFQUFjQTs7Ozs7SUFDeEI7SUFDQSxJQUFJRSxjQUFjQyxRQUFRLENBQUNDLE1BQU0sS0FBSyxHQUFHO1FBQ3ZDLHFCQUFPLDhEQUFDQztZQUFJQyxXQUFXO3NCQUE2Qjs7Ozs7O0lBQ3REO0lBQ0EscUJBQ0UsOERBQUNEO1FBQUlDLFdBQVc7a0JBQ2JKLGVBQWVDLFVBQVVJLElBQUksQ0FBQ0Msd0JBQzdCLDhEQUFDViwrREFBV0E7Z0JBQUNVLFNBQVNBO2VBQWNBLFFBQVFDLE1BQU0sR0FBRzs7Ozs7Ozs7OztBQUk3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21wb25lbnRzL0NvbnRhY3RzLnRzeD9mMmQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb250YWN0SXRlbSBmcm9tIFwiQC9jb21wb25lbnRzL0NvbnRhY3RJdGVtXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBDb250YWN0IGZyb20gXCJAL2xpYi9wcm90b2NvbC9jb250YWN0L0NvbnRhY3RcIjtcbmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tIFwiQC9jb21tb24vY29tcG9uZW50cy9Mb2FkaW5nU3Bpbm5lclwiO1xuXG5pbnRlcmZhY2UgQ29udGFjdHNQcm9wcyB7XG4gIGNvbnRhY3RzOiBDb250YWN0W10gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnRhY3RzKGNvbnRhY3RzUHJvcHM6IENvbnRhY3RzUHJvcHMpIHtcbiAgaWYgKCFjb250YWN0c1Byb3BzLmNvbnRhY3RzKSB7XG4gICAgcmV0dXJuIDxMb2FkaW5nU3Bpbm5lciAvPjtcbiAgfVxuICBpZiAoY29udGFjdHNQcm9wcy5jb250YWN0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e1widGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwifT7lv6vljrvliqDlpb3lj4vljrs8L2Rpdj47XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17XCJmbGV4IGZsZXgtY29sIGdhcC0yXCJ9PlxuICAgICAge2NvbnRhY3RzUHJvcHM/LmNvbnRhY3RzPy5tYXAoKGNvbnRhY3QpID0+IChcbiAgICAgICAgPENvbnRhY3RJdGVtIGNvbnRhY3Q9e2NvbnRhY3R9IGtleT17Y29udGFjdC51c2VySWQgKyBcIlwifSAvPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQ29udGFjdEl0ZW0iLCJSZWFjdCIsIkxvYWRpbmdTcGlubmVyIiwiQ29udGFjdHMiLCJjb250YWN0c1Byb3BzIiwiY29udGFjdHMiLCJsZW5ndGgiLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJjb250YWN0IiwidXNlcklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Contacts.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/GroupItem.tsx":
/*!**************************************!*\
  !*** ./src/components/GroupItem.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GroupItem)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var _components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/img/DynamicImage */ \"(ssr)/./src/components/img/DynamicImage.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction GroupItem(groupProps) {\n    const { qun } = groupProps;\n    const groupUrl = `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_3__.NEXT_ASSET_PREFIX}/chat/friends/group?groupId=${qun.qunId}`;\n    const headSrc = qun.avatar;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center text-left\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                href: groupUrl,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_img_DynamicImage__WEBPACK_IMPORTED_MODULE_4__.DynamicImage, {\n                    className: \"w-16 h-16 rounded-full mr-4\",\n                    quality: 40,\n                    src: headSrc,\n                    alt: \"Group head\",\n                    width: 50,\n                    height: 50\n                }, void 0, false, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                    lineNumber: 19,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    href: groupUrl,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: qun.qunName\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                            lineNumber: 30,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                            lineNumber: 31,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: qun.nationality\n                        }, void 0, false, {\n                            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                            lineNumber: 32,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n                lineNumber: 28,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/GroupItem.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9Hcm91cEl0ZW0udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUM2QjtBQUNFO0FBQ3NCO0FBQ1E7QUFPOUMsU0FBU0ksVUFBVUMsVUFBc0I7SUFDcEQsTUFBTSxFQUFFQyxHQUFHLEVBQUUsR0FBR0Q7SUFDbEIsTUFBTUUsV0FBVyxDQUFDLEVBQUVMLDhEQUFpQkEsQ0FBQyw0QkFBNEIsRUFBRUksSUFBSUUsS0FBSyxDQUFDLENBQUM7SUFDL0UsTUFBTUMsVUFBVUgsSUFBSUksTUFBTTtJQUMxQixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNaLGlEQUFJQTtnQkFBQ2EsTUFBTU47MEJBQ1YsNEVBQUNKLHNFQUFZQTtvQkFDWFMsV0FBVztvQkFDWEUsU0FBUztvQkFDVEMsS0FBS047b0JBQ0xPLEtBQUk7b0JBQ0pDLE9BQU87b0JBQ1BDLFFBQVE7Ozs7Ozs7Ozs7OzBCQUdaLDhEQUFDUDswQkFDQyw0RUFBQ1gsaURBQUlBO29CQUFDYSxNQUFNTjs7c0NBQ1YsOERBQUNZO3NDQUFRYixJQUFJYyxPQUFPOzs7Ozs7c0NBQ3BCLDhEQUFDQzs7Ozs7c0NBQ0QsOERBQUNDO3NDQUFNaEIsSUFBSWlCLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbXBvbmVudHMvR3JvdXBJdGVtLnRzeD9jODhkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBORVhUX0FTU0VUX1BSRUZJWCB9IGZyb20gXCJAL2NvbW1vbi9saWIvRW52XCI7XG5pbXBvcnQgeyBEeW5hbWljSW1hZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL2ltZy9EeW5hbWljSW1hZ2VcIjtcbmltcG9ydCBHcm91cCBmcm9tIFwiQC9saWIvcHJvdG9jb2wvY29udGFjdC9Hcm91cFwiO1xuXG5pbnRlcmZhY2UgR3JvdXBQcm9wcyB7XG4gIHF1bjogR3JvdXA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdyb3VwSXRlbShncm91cFByb3BzOiBHcm91cFByb3BzKSB7XG4gICAgY29uc3QgeyBxdW4gfSA9IGdyb3VwUHJvcHM7XG4gIGNvbnN0IGdyb3VwVXJsID0gYCR7TkVYVF9BU1NFVF9QUkVGSVh9L2NoYXQvZnJpZW5kcy9ncm91cD9ncm91cElkPSR7cXVuLnF1bklkfWA7XG4gIGNvbnN0IGhlYWRTcmMgPSBxdW4uYXZhdGFyO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1sZWZ0XCI+XG4gICAgICA8TGluayBocmVmPXtncm91cFVybH0+XG4gICAgICAgIDxEeW5hbWljSW1hZ2VcbiAgICAgICAgICBjbGFzc05hbWU9e1widy0xNiBoLTE2IHJvdW5kZWQtZnVsbCBtci00XCJ9XG4gICAgICAgICAgcXVhbGl0eT17NDB9XG4gICAgICAgICAgc3JjPXtoZWFkU3JjfVxuICAgICAgICAgIGFsdD1cIkdyb3VwIGhlYWRcIlxuICAgICAgICAgIHdpZHRoPXs1MH1cbiAgICAgICAgICBoZWlnaHQ9ezUwfVxuICAgICAgICAvPlxuICAgICAgPC9MaW5rPlxuICAgICAgPGRpdj5cbiAgICAgICAgPExpbmsgaHJlZj17Z3JvdXBVcmx9PlxuICAgICAgICAgIDxzdHJvbmc+e3F1bi5xdW5OYW1lfTwvc3Ryb25nPlxuICAgICAgICAgIDxiciAvPlxuICAgICAgICAgIDxzcGFuPntxdW4ubmF0aW9uYWxpdHl9PC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJMaW5rIiwiUmVhY3QiLCJORVhUX0FTU0VUX1BSRUZJWCIsIkR5bmFtaWNJbWFnZSIsIkdyb3VwSXRlbSIsImdyb3VwUHJvcHMiLCJxdW4iLCJncm91cFVybCIsInF1bklkIiwiaGVhZFNyYyIsImF2YXRhciIsImRpdiIsImNsYXNzTmFtZSIsImhyZWYiLCJxdWFsaXR5Iiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHJvbmciLCJxdW5OYW1lIiwiYnIiLCJzcGFuIiwibmF0aW9uYWxpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/GroupItem.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Groups.tsx":
/*!***********************************!*\
  !*** ./src/components/Groups.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Groups)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_GroupItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/GroupItem */ \"(ssr)/./src/components/GroupItem.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/components/LoadingSpinner */ \"(ssr)/./src/common/components/LoadingSpinner.tsx\");\n\n\n\n\nfunction Groups(groupProps) {\n    if (!groupProps.quns) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_components_LoadingSpinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Groups.tsx\",\n            lineNumber: 12,\n            columnNumber: 12\n        }, this);\n    }\n    if (groupProps.quns.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-center text-gray-500\",\n            children: \"暂无群组\"\n        }, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Groups.tsx\",\n            lineNumber: 15,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: groupProps?.quns?.map((qun)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GroupItem__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                qun: qun\n            }, qun.qunId + \"\", false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Groups.tsx\",\n                lineNumber: 20,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/Groups.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9Hcm91cHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStDO0FBQ2hCO0FBRWlDO0FBTWpELFNBQVNHLE9BQU9DLFVBQXVCO0lBQ3BELElBQUksQ0FBQ0EsV0FBV0MsSUFBSSxFQUFFO1FBQ3BCLHFCQUFPLDhEQUFDSCx5RUFBY0E7Ozs7O0lBQ3hCO0lBQ0EsSUFBSUUsV0FBV0MsSUFBSSxDQUFDQyxNQUFNLEtBQUssR0FBRztRQUNoQyxxQkFBTyw4REFBQ0M7WUFBSUMsV0FBVztzQkFBNkI7Ozs7OztJQUN0RDtJQUNBLHFCQUNFLDhEQUFDRDtRQUFJQyxXQUFXO2tCQUNiSixZQUFZQyxNQUFNSSxJQUFJLENBQUNDLG9CQUN0Qiw4REFBQ1YsNkRBQVNBO2dCQUFDVSxLQUFLQTtlQUFVQSxJQUFJQyxLQUFLLEdBQUc7Ozs7Ozs7Ozs7QUFJOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvY29tcG9uZW50cy9Hcm91cHMudHN4PzcxM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyb3VwSXRlbSBmcm9tIFwiQC9jb21wb25lbnRzL0dyb3VwSXRlbVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgR3JvdXAgZnJvbSBcIkAvbGliL3Byb3RvY29sL2NvbnRhY3QvR3JvdXBcIjtcbmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tIFwiQC9jb21tb24vY29tcG9uZW50cy9Mb2FkaW5nU3Bpbm5lclwiO1xuXG5pbnRlcmZhY2UgR3JvdXBzUHJvcHMge1xuICBxdW5zOiBHcm91cFtdIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHcm91cHMoZ3JvdXBQcm9wczogR3JvdXBzUHJvcHMpIHtcbiAgaWYgKCFncm91cFByb3BzLnF1bnMpIHtcbiAgICByZXR1cm4gPExvYWRpbmdTcGlubmVyIC8+O1xuICB9XG4gIGlmIChncm91cFByb3BzLnF1bnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtcInRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIn0+5pqC5peg576k57uEPC9kaXY+O1xuICB9XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e1wiZmxleCBmbGV4LWNvbCBnYXAtMlwifT5cbiAgICAgIHtncm91cFByb3BzPy5xdW5zPy5tYXAoKHF1bikgPT4gKFxuICAgICAgICA8R3JvdXBJdGVtIHF1bj17cXVufSBrZXk9e3F1bi5xdW5JZCArIFwiXCJ9IC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJHcm91cEl0ZW0iLCJSZWFjdCIsIkxvYWRpbmdTcGlubmVyIiwiR3JvdXBzIiwiZ3JvdXBQcm9wcyIsInF1bnMiLCJsZW5ndGgiLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJxdW4iLCJxdW5JZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Groups.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/img/DynamicImage.tsx":
/*!*********************************************!*\
  !*** ./src/components/img/DynamicImage.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DynamicImage: () => (/* binding */ DynamicImage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_img_InnerImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/img/InnerImage */ \"(ssr)/./src/components/img/InnerImage.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ DynamicImage auto */ \n\n\nfunction DynamicImage(props) {\n    // 使用动态导入延迟加载图片组件\n    //build 之后 显示效果异常，导致图片刷新\n    //const InnerImage = dynamic(() => import(\"./InnerImage\"));\n    //https://react.dev/errors/482 可能会报错\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_img_InnerImage__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        className: props.className,\n        src: props.src,\n        alt: props.alt,\n        width: props.width,\n        height: props.height,\n        quality: props.quality || 75\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/img/DynamicImage.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9pbWcvRHluYW1pY0ltYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3FFO0FBQzNDO0FBRW5CLFNBQVNFLGFBQWFDLEtBQWlCO0lBQzVDLGlCQUFpQjtJQUNqQix3QkFBd0I7SUFDeEIsMkRBQTJEO0lBQzNELG9DQUFvQztJQUNwQyxxQkFDRSw4REFBQ0gsa0VBQVVBO1FBQ1RJLFdBQVdELE1BQU1DLFNBQVM7UUFDMUJDLEtBQUtGLE1BQU1FLEdBQUc7UUFDZEMsS0FBS0gsTUFBTUcsR0FBRztRQUNkQyxPQUFPSixNQUFNSSxLQUFLO1FBQ2xCQyxRQUFRTCxNQUFNSyxNQUFNO1FBQ3BCQyxTQUFTTixNQUFNTSxPQUFPLElBQUk7Ozs7OztBQUdoQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9jb21wb25lbnRzL2ltZy9EeW5hbWljSW1hZ2UudHN4PzE5YTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgSW5uZXJJbWFnZSwgeyBJbWFnZVByb3BzIH0gZnJvbSBcIkAvY29tcG9uZW50cy9pbWcvSW5uZXJJbWFnZVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRHluYW1pY0ltYWdlKHByb3BzOiBJbWFnZVByb3BzKSB7XG4gIC8vIOS9v+eUqOWKqOaAgeWvvOWFpeW7tui/n+WKoOi9veWbvueJh+e7hOS7tlxuICAvL2J1aWxkIOS5i+WQjiDmmL7npLrmlYjmnpzlvILluLjvvIzlr7zoh7Tlm77niYfliLfmlrBcbiAgLy9jb25zdCBJbm5lckltYWdlID0gZHluYW1pYygoKSA9PiBpbXBvcnQoXCIuL0lubmVySW1hZ2VcIikpO1xuICAvL2h0dHBzOi8vcmVhY3QuZGV2L2Vycm9ycy80ODIg5Y+v6IO95Lya5oql6ZSZXG4gIHJldHVybiAoXG4gICAgPElubmVySW1hZ2VcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfVxuICAgICAgc3JjPXtwcm9wcy5zcmN9XG4gICAgICBhbHQ9e3Byb3BzLmFsdH1cbiAgICAgIHdpZHRoPXtwcm9wcy53aWR0aH1cbiAgICAgIGhlaWdodD17cHJvcHMuaGVpZ2h0fVxuICAgICAgcXVhbGl0eT17cHJvcHMucXVhbGl0eSB8fCA3NX1cbiAgICAvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIklubmVySW1hZ2UiLCJSZWFjdCIsIkR5bmFtaWNJbWFnZSIsInByb3BzIiwiY2xhc3NOYW1lIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJxdWFsaXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/img/DynamicImage.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/img/InnerImage.tsx":
/*!*******************************************!*\
  !*** ./src/components/img/InnerImage.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InnerImage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction InnerImage(props) {\n    let imageSrc = `${props.src}`;\n    if (!imageSrc.startsWith(\"http://\")) {\n        imageSrc = `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_3__.NEXT_ASSET_PREFIX}/${imageSrc}`;\n    }\n    const imageLoader = ({ src, width, quality })=>{\n        return `${src}?w=${width}&q=${quality || 75}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        className: props.className,\n        loader: imageLoader,\n        src: imageSrc,\n        alt: props.alt,\n        width: props.width,\n        height: props.height,\n        quality: props.quality || 75\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/img/InnerImage.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9pbWcvSW5uZXJJbWFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDK0I7QUFDQTtBQUNzQjtBQVl0QyxTQUFTRyxXQUFXQyxLQUFpQjtJQUNsRCxJQUFJQyxXQUFXLENBQUMsRUFBRUQsTUFBTUUsR0FBRyxDQUFDLENBQUM7SUFDN0IsSUFBSSxDQUFDRCxTQUFTRSxVQUFVLENBQUMsWUFBWTtRQUNuQ0YsV0FBVyxDQUFDLEVBQUVILDhEQUFpQkEsQ0FBQyxDQUFDLEVBQUVHLFNBQVMsQ0FBQztJQUMvQztJQUNBLE1BQU1HLGNBQWMsQ0FBQyxFQUFFRixHQUFHLEVBQUVHLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQzFDLE9BQU8sQ0FBQyxFQUFFSixJQUFJLEdBQUcsRUFBRUcsTUFBTSxHQUFHLEVBQUVDLFdBQVcsR0FBRyxDQUFDO0lBQy9DO0lBQ0EscUJBQ0UsOERBQUNULGtEQUFLQTtRQUNKVSxXQUFXUCxNQUFNTyxTQUFTO1FBQzFCQyxRQUFRSjtRQUNSRixLQUFLRDtRQUNMUSxLQUFLVCxNQUFNUyxHQUFHO1FBQ2RKLE9BQU9MLE1BQU1LLEtBQUs7UUFDbEJLLFFBQVFWLE1BQU1VLE1BQU07UUFDcEJKLFNBQVNOLE1BQU1NLE9BQU8sSUFBSTs7Ozs7O0FBR2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2NvbXBvbmVudHMvaW1nL0lubmVySW1hZ2UudHN4Pzc0NTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiO1xuaW1wb3J0IHsgTkVYVF9BU1NFVF9QUkVGSVggfSBmcm9tIFwiQC9jb21tb24vbGliL0VudlwiO1xuXG4vLyBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uby1pbWctZWxlbWVudFxuZXhwb3J0IGludGVyZmFjZSBJbWFnZVByb3BzIHtcbiAgc3JjOiBzdHJpbmc7XG4gIGFsdDogc3RyaW5nO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbm5lckltYWdlKHByb3BzOiBJbWFnZVByb3BzKSB7XG4gIGxldCBpbWFnZVNyYyA9IGAke3Byb3BzLnNyY31gO1xuICBpZiAoIWltYWdlU3JjLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpKSB7XG4gICAgaW1hZ2VTcmMgPSBgJHtORVhUX0FTU0VUX1BSRUZJWH0vJHtpbWFnZVNyY31gO1xuICB9XG4gIGNvbnN0IGltYWdlTG9hZGVyID0gKHsgc3JjLCB3aWR0aCwgcXVhbGl0eSB9KSA9PiB7XG4gICAgcmV0dXJuIGAke3NyY30/dz0ke3dpZHRofSZxPSR7cXVhbGl0eSB8fCA3NX1gO1xuICB9O1xuICByZXR1cm4gKFxuICAgIDxJbWFnZVxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XG4gICAgICBsb2FkZXI9e2ltYWdlTG9hZGVyfVxuICAgICAgc3JjPXtpbWFnZVNyY31cbiAgICAgIGFsdD17cHJvcHMuYWx0fVxuICAgICAgd2lkdGg9e3Byb3BzLndpZHRofVxuICAgICAgaGVpZ2h0PXtwcm9wcy5oZWlnaHR9XG4gICAgICBxdWFsaXR5PXtwcm9wcy5xdWFsaXR5IHx8IDc1fVxuICAgIC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJJbWFnZSIsIk5FWFRfQVNTRVRfUFJFRklYIiwiSW5uZXJJbWFnZSIsInByb3BzIiwiaW1hZ2VTcmMiLCJzcmMiLCJzdGFydHNXaXRoIiwiaW1hZ2VMb2FkZXIiLCJ3aWR0aCIsInF1YWxpdHkiLCJjbGFzc05hbWUiLCJsb2FkZXIiLCJhbHQiLCJoZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/img/InnerImage.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/ChatApi.ts":
/*!****************************!*\
  !*** ./src/lib/ChatApi.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatApi)\n/* harmony export */ });\n/* harmony import */ var _common_lib_Fetcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/lib/Fetcher */ \"(ssr)/./src/common/lib/Fetcher.ts\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n/* harmony import */ var _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/protocol/ChatSession */ \"(ssr)/./src/lib/protocol/ChatSession.ts\");\n/* harmony import */ var _lib_protocol_Message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/protocol/Message */ \"(ssr)/./src/lib/protocol/Message.ts\");\n/* harmony import */ var _lib_protocol_contact_ContactGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/protocol/contact/ContactGroup */ \"(ssr)/./src/lib/protocol/contact/ContactGroup.ts\");\n\n\n\n\n\nclass ChatApi {\n    static async getVisitorToken() {\n        let token;\n        await _common_lib_Fetcher__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/chat/v2/get-visitor-token.json\").then(async (response)=>{\n            token = response.data;\n            sessionStorage.setItem(_common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.TOKEN_KEY, response.data);\n        });\n        return token;\n    }\n    static async getMessages(sessionKey, crosStorage) {\n        let messages = [];\n        console.log(\"sessionKey getMessages\", sessionKey);\n        await _common_lib_Fetcher__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/chat/v2/messages.json\", sessionKey, crosStorage).then(async (response)=>{\n            let messageList = response.data;\n            if (messageList == null) {\n                messageList = [];\n            }\n            for (let message of messageList){\n                messages.push(_lib_protocol_Message__WEBPACK_IMPORTED_MODULE_3__[\"default\"].fromMessage(message));\n            }\n        });\n        return messages;\n    }\n    static async getSessions(crosStorage) {\n        let sessions = [];\n        await _common_lib_Fetcher__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/chat/v2/sessions.json\", crosStorage).then(async (response)=>{\n            const chatSessions = response.data;\n            for (let session of chatSessions){\n                sessions.push(_lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createSession(session.chatType, session.id));\n            }\n        });\n        return sessions;\n    }\n    static async getContacts(crosStorage) {\n        let contactGroup = new _lib_protocol_contact_ContactGroup__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n        await _common_lib_Fetcher__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/contact/contacts.json\", crosStorage).then(async (response)=>{\n            if (response.data) {\n                contactGroup = response.data;\n            }\n        });\n        return contactGroup;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL0NoYXRBcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJDO0FBQ0U7QUFDUTtBQUNSO0FBQ2tCO0FBR2hELE1BQU1LO0lBQ25CLGFBQWFDLGtCQUFrQjtRQUM3QixJQUFJQztRQUNKLE1BQU1QLDJEQUFPQSxDQUFDUSxHQUFHLENBQUMsbUNBQW1DQyxJQUFJLENBQ3ZELE9BQU9DO1lBQ0xILFFBQVFHLFNBQVNDLElBQUk7WUFDckJDLGVBQWVDLE9BQU8sQ0FBQ1osc0RBQVNBLEVBQUVTLFNBQVNDLElBQUk7UUFDakQ7UUFFRixPQUFPSjtJQUNUO0lBRUEsYUFBYU8sWUFBWUMsVUFBa0IsRUFBQ0MsV0FBdUIsRUFBRTtRQUNuRSxJQUFJQyxXQUFzQixFQUFFO1FBQzVCQyxRQUFRQyxHQUFHLENBQUMsMEJBQTBCSjtRQUN0QyxNQUFNZiwyREFBT0EsQ0FBQ29CLElBQUksQ0FBQywwQkFBMEJMLFlBQVdDLGFBQWFQLElBQUksQ0FDdkUsT0FBT0M7WUFDTCxJQUFJVyxjQUF5QlgsU0FBU0MsSUFBSTtZQUMxQyxJQUFJVSxlQUFlLE1BQU07Z0JBQ3ZCQSxjQUFjLEVBQUU7WUFDbEI7WUFDQSxLQUFLLElBQUlDLFdBQVdELFlBQWE7Z0JBQy9CSixTQUFTTSxJQUFJLENBQUNwQiw2REFBT0EsQ0FBQ3FCLFdBQVcsQ0FBQ0Y7WUFDcEM7UUFDRjtRQUVGLE9BQU9MO0lBQ1Q7SUFFQSxhQUFhUSxZQUFZVCxXQUF1QixFQUFFO1FBQ2hELElBQUlVLFdBQTBCLEVBQUU7UUFDaEMsTUFBTTFCLDJEQUFPQSxDQUFDUSxHQUFHLENBQUMsMEJBQXlCUSxhQUFhUCxJQUFJLENBQzFELE9BQU9DO1lBQ0wsTUFBTWlCLGVBQThCakIsU0FBU0MsSUFBSTtZQUNqRCxLQUFLLElBQUlpQixXQUFXRCxhQUFjO2dCQUNoQ0QsU0FBU0gsSUFBSSxDQUNYckIsaUVBQVdBLENBQUMyQixhQUFhLENBQUNELFFBQVFFLFFBQVEsRUFBRUYsUUFBUUcsRUFBRTtZQUUxRDtRQUNGO1FBRUYsT0FBT0w7SUFDVDtJQUVFLGFBQWFNLFlBQVloQixXQUF1QixFQUFFO1FBQzlDLElBQUlpQixlQUEyQixJQUFJN0IsMEVBQVlBO1FBQy9DLE1BQU1KLDJEQUFPQSxDQUFDUSxHQUFHLENBQUMsMEJBQXlCUSxhQUFhUCxJQUFJLENBQ3hELE9BQU9DO1lBQ0gsSUFBR0EsU0FBU0MsSUFBSSxFQUFFO2dCQUNkc0IsZUFBZXZCLFNBQVNDLElBQUk7WUFDaEM7UUFDSjtRQUVKLE9BQU9zQjtJQUNYO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvbGliL0NoYXRBcGkudHM/YWZlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRmV0Y2hlciBmcm9tIFwiQC9jb21tb24vbGliL0ZldGNoZXJcIjtcbmltcG9ydCB7IFRPS0VOX0tFWSB9IGZyb20gXCJAL2NvbW1vbi9saWIvRW52XCI7XG5pbXBvcnQgQ2hhdFNlc3Npb24gZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRTZXNzaW9uXCI7XG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiQC9saWIvcHJvdG9jb2wvTWVzc2FnZVwiO1xuaW1wb3J0IENvbnRhY3RHcm91cCBmcm9tIFwiQC9saWIvcHJvdG9jb2wvY29udGFjdC9Db250YWN0R3JvdXBcIjtcbmltcG9ydCBDcm9zU3RvcmFnZSBmcm9tIFwiQC9jb21tb24vbGliL0Nyb3NTdG9yYWdlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXRBcGkge1xuICBzdGF0aWMgYXN5bmMgZ2V0VmlzaXRvclRva2VuKCkge1xuICAgIGxldCB0b2tlbjtcbiAgICBhd2FpdCBGZXRjaGVyLmdldChcIi9jaGF0L3YyL2dldC12aXNpdG9yLXRva2VuLmpzb25cIikudGhlbihcbiAgICAgIGFzeW5jIChyZXNwb25zZTogUmVzdWx0KSA9PiB7XG4gICAgICAgIHRva2VuID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShUT0tFTl9LRVksIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldE1lc3NhZ2VzKHNlc3Npb25LZXk6IHN0cmluZyxjcm9zU3RvcmFnZTpDcm9zU3RvcmFnZSkge1xuICAgIGxldCBtZXNzYWdlczogTWVzc2FnZVtdID0gW107XG4gICAgY29uc29sZS5sb2coXCJzZXNzaW9uS2V5IGdldE1lc3NhZ2VzXCIsIHNlc3Npb25LZXkpO1xuICAgIGF3YWl0IEZldGNoZXIucG9zdChcIi9jaGF0L3YyL21lc3NhZ2VzLmpzb25cIiwgc2Vzc2lvbktleSxjcm9zU3RvcmFnZSkudGhlbihcbiAgICAgIGFzeW5jIChyZXNwb25zZTogUmVzdWx0KSA9PiB7XG4gICAgICAgIGxldCBtZXNzYWdlTGlzdDogTWVzc2FnZVtdID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgaWYgKG1lc3NhZ2VMaXN0ID09IG51bGwpIHtcbiAgICAgICAgICBtZXNzYWdlTGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG1lc3NhZ2Ugb2YgbWVzc2FnZUxpc3QpIHtcbiAgICAgICAgICBtZXNzYWdlcy5wdXNoKE1lc3NhZ2UuZnJvbU1lc3NhZ2UobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gbWVzc2FnZXM7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0U2Vzc2lvbnMoY3Jvc1N0b3JhZ2U6Q3Jvc1N0b3JhZ2UpIHtcbiAgICBsZXQgc2Vzc2lvbnM6IENoYXRTZXNzaW9uW10gPSBbXTtcbiAgICBhd2FpdCBGZXRjaGVyLmdldChcIi9jaGF0L3YyL3Nlc3Npb25zLmpzb25cIixjcm9zU3RvcmFnZSkudGhlbihcbiAgICAgIGFzeW5jIChyZXNwb25zZTogUmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoYXRTZXNzaW9uczogQ2hhdFNlc3Npb25bXSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGZvciAobGV0IHNlc3Npb24gb2YgY2hhdFNlc3Npb25zKSB7XG4gICAgICAgICAgc2Vzc2lvbnMucHVzaChcbiAgICAgICAgICAgIENoYXRTZXNzaW9uLmNyZWF0ZVNlc3Npb24oc2Vzc2lvbi5jaGF0VHlwZSwgc2Vzc2lvbi5pZClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gc2Vzc2lvbnM7XG4gIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXRDb250YWN0cyhjcm9zU3RvcmFnZTpDcm9zU3RvcmFnZSkge1xuICAgICAgICBsZXQgY29udGFjdEdyb3VwOiBDb250YWN0R3JvdXA9bmV3IENvbnRhY3RHcm91cCgpO1xuICAgICAgICBhd2FpdCBGZXRjaGVyLmdldChcIi9jb250YWN0L2NvbnRhY3RzLmpzb25cIixjcm9zU3RvcmFnZSkudGhlbihcbiAgICAgICAgICAgIGFzeW5jIChyZXNwb25zZTogUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0R3JvdXAgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNvbnRhY3RHcm91cDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiRmV0Y2hlciIsIlRPS0VOX0tFWSIsIkNoYXRTZXNzaW9uIiwiTWVzc2FnZSIsIkNvbnRhY3RHcm91cCIsIkNoYXRBcGkiLCJnZXRWaXNpdG9yVG9rZW4iLCJ0b2tlbiIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRNZXNzYWdlcyIsInNlc3Npb25LZXkiLCJjcm9zU3RvcmFnZSIsIm1lc3NhZ2VzIiwiY29uc29sZSIsImxvZyIsInBvc3QiLCJtZXNzYWdlTGlzdCIsIm1lc3NhZ2UiLCJwdXNoIiwiZnJvbU1lc3NhZ2UiLCJnZXRTZXNzaW9ucyIsInNlc3Npb25zIiwiY2hhdFNlc3Npb25zIiwic2Vzc2lvbiIsImNyZWF0ZVNlc3Npb24iLCJjaGF0VHlwZSIsImlkIiwiZ2V0Q29udGFjdHMiLCJjb250YWN0R3JvdXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/ChatApi.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/WebSocketProvider.ts":
/*!**************************************!*\
  !*** ./src/lib/WebSocketProvider.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketContext: () => (/* binding */ WebSocketContext),\n/* harmony export */   WebSocketContextValue: () => (/* binding */ WebSocketContextValue)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * 为status 的引用发生变化引发渲染\n */ class WebSocketContextValue {\n    constructor(messageContainer){\n        this.messageBroker = messageContainer;\n    }\n    static create(messageContainer) {\n        return new WebSocketContextValue(messageContainer);\n    }\n    newReference() {\n        return new WebSocketContextValue(this.messageBroker);\n    }\n    closeWebSocket() {\n        this.messageBroker?.closeWebSocket();\n    }\n}\nconst WebSocketContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL1dlYlNvY2tldFByb3ZpZGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0M7QUFHL0M7O0NBRUMsR0FDTSxNQUFNQztJQUdYLFlBQW9CQyxnQkFBK0IsQ0FBRTtRQUNuRCxJQUFJLENBQUNDLGFBQWEsR0FBR0Q7SUFDdkI7SUFFQSxPQUFjRSxPQUFPRixnQkFBK0IsRUFBeUI7UUFDM0UsT0FBTyxJQUFJRCxzQkFBc0JDO0lBQ25DO0lBRU9HLGVBQXNDO1FBQzNDLE9BQU8sSUFBSUosc0JBQXNCLElBQUksQ0FBQ0UsYUFBYTtJQUNyRDtJQUVPRyxpQkFBdUI7UUFDNUIsSUFBSSxDQUFDSCxhQUFhLEVBQUVHO0lBQ3RCO0FBQ0Y7QUFFTyxNQUFNQyxtQkFBbURQLG9EQUFhQSxDQUMzRSxNQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2xpYi9XZWJTb2NrZXRQcm92aWRlci50cz8xM2ZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRleHQsIGNyZWF0ZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBNZXNzYWdlQnJva2VyIGZyb20gXCJAL2xpYi9wcm90b2NvbC9NZXNzYWdlQnJva2VyXCI7XG5cbi8qKlxuICog5Li6c3RhdHVzIOeahOW8leeUqOWPkeeUn+WPmOWMluW8leWPkea4suafk1xuICovXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0Q29udGV4dFZhbHVlIHtcbiAgbWVzc2FnZUJyb2tlcjogTWVzc2FnZUJyb2tlcjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKG1lc3NhZ2VDb250YWluZXI6IE1lc3NhZ2VCcm9rZXIpIHtcbiAgICB0aGlzLm1lc3NhZ2VCcm9rZXIgPSBtZXNzYWdlQ29udGFpbmVyO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUobWVzc2FnZUNvbnRhaW5lcjogTWVzc2FnZUJyb2tlcik6IFdlYlNvY2tldENvbnRleHRWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBXZWJTb2NrZXRDb250ZXh0VmFsdWUobWVzc2FnZUNvbnRhaW5lcik7XG4gIH1cblxuICBwdWJsaWMgbmV3UmVmZXJlbmNlKCk6IFdlYlNvY2tldENvbnRleHRWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBXZWJTb2NrZXRDb250ZXh0VmFsdWUodGhpcy5tZXNzYWdlQnJva2VyKTtcbiAgfVxuXG4gIHB1YmxpYyBjbG9zZVdlYlNvY2tldCgpOiB2b2lkIHtcbiAgICB0aGlzLm1lc3NhZ2VCcm9rZXI/LmNsb3NlV2ViU29ja2V0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFdlYlNvY2tldENvbnRleHQ6IENvbnRleHQ8V2ViU29ja2V0Q29udGV4dFZhbHVlPiA9IGNyZWF0ZUNvbnRleHQoXG4gIG51bGwgYXMgYW55XG4pO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJXZWJTb2NrZXRDb250ZXh0VmFsdWUiLCJtZXNzYWdlQ29udGFpbmVyIiwibWVzc2FnZUJyb2tlciIsImNyZWF0ZSIsIm5ld1JlZmVyZW5jZSIsImNsb3NlV2ViU29ja2V0IiwiV2ViU29ja2V0Q29udGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/WebSocketProvider.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/Chat.ts":
/*!**********************************!*\
  !*** ./src/lib/protocol/Chat.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatType: () => (/* binding */ ChatType),\n/* harmony export */   MessageType: () => (/* binding */ MessageType),\n/* harmony export */   \"default\": () => (/* binding */ Chat)\n/* harmony export */ });\nvar ChatType;\n(function(ChatType) {\n    ChatType[ChatType[\"CHAT_1_TO_1\"] = 0] = \"CHAT_1_TO_1\";\n    ChatType[ChatType[\"GROUP\"] = 1] = \"GROUP\";\n})(ChatType || (ChatType = {}));\nvar MessageType;\n(function(MessageType) {\n    MessageType[MessageType[\"TEXT_MESSAGE\"] = 0] = \"TEXT_MESSAGE\";\n    MessageType[MessageType[\"IMAGE_MESSAGE\"] = 1] = \"IMAGE_MESSAGE\";\n})(MessageType || (MessageType = {}));\nclass Chat {\n    static{\n        this.HORIZON_LINE = \"-\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3Byb3RvY29sL0NoYXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztVQUFZQTs7O0dBQUFBLGFBQUFBOztVQUtBQzs7O0dBQUFBLGdCQUFBQTtBQUtHLE1BQU1DOzthQUNJQyxlQUF1Qjs7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvbGliL3Byb3RvY29sL0NoYXQudHM/MWIyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBDaGF0VHlwZSB7XG4gIENIQVRfMV9UT18xID0gMCxcbiAgR1JPVVAgPSAxLFxufVxuXG5leHBvcnQgZW51bSBNZXNzYWdlVHlwZSB7XG4gIFRFWFRfTUVTU0FHRSA9IDAsXG4gIElNQUdFX01FU1NBR0UgPSAxLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGF0IHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBIT1JJWk9OX0xJTkU6IHN0cmluZyA9IFwiLVwiO1xufVxuIl0sIm5hbWVzIjpbIkNoYXRUeXBlIiwiTWVzc2FnZVR5cGUiLCJDaGF0IiwiSE9SSVpPTl9MSU5FIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/Chat.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/ChatSession.ts":
/*!*****************************************!*\
  !*** ./src/lib/protocol/ChatSession.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatSession)\n/* harmony export */ });\n/* harmony import */ var _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/protocol/Chat */ \"(ssr)/./src/lib/protocol/Chat.ts\");\n/* harmony import */ var _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/protocol/ChatUser */ \"(ssr)/./src/lib/protocol/ChatUser.ts\");\n\n\nclass ChatSession {\n    get chatType() {\n        return this._chatType;\n    }\n    set chatType(value) {\n        this._chatType = value;\n    }\n    get id() {\n        return this._id;\n    }\n    set id(value) {\n        this._id = value;\n    }\n    static create121Session(sender, receiver) {\n        const chatSession = new ChatSession();\n        chatSession.chatType = _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__.ChatType.CHAT_1_TO_1;\n        chatSession.id = chatSession.generateKey(sender, receiver);\n        return chatSession;\n    }\n    static createSession(chatType, id) {\n        const chatSession = new ChatSession();\n        chatSession.chatType = chatType;\n        chatSession.id = id;\n        return chatSession;\n    }\n    static parse(sessionKey) {\n        if (sessionKey == null) {\n            return null;\n        }\n        const chatSession = new ChatSession();\n        const chatType = parseInt(sessionKey.substring(0, 1), 10);\n        const id = sessionKey.substring(1);\n        chatSession._chatType = chatType;\n        chatSession.id = id;\n        return chatSession;\n    }\n    static createGroupSession(sessionKey) {\n        const chatSession = new ChatSession();\n        chatSession.chatType = _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__.ChatType.GROUP;\n        chatSession.id = sessionKey;\n        return chatSession;\n    }\n    isGroup() {\n        return this._chatType == _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__.ChatType.GROUP;\n    }\n    isOne2One() {\n        return this._chatType == _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__.ChatType.CHAT_1_TO_1;\n    }\n    getOppositeUser() {\n        const currentUser = _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCurrentUser();\n        if (currentUser == null) {\n            return null;\n        }\n        if (this._chatType === _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_0__.ChatType.GROUP) {\n            return null;\n        }\n        const bigUserCategory = this.id.substring(0, 1);\n        const smallUserCategory = this.id.substring(1, 2);\n        const bitUserLength = parseInt(this.id.substring(2, 4), 10);\n        const bigUserId = this.id.substring(4, 4 + bitUserLength);\n        const smallUserId = this.id.substring(4 + bitUserLength);\n        const bigUser = new _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"](bigUserId, parseInt(bigUserCategory, 10));\n        const smallUser = new _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_1__[\"default\"](smallUserId, parseInt(smallUserCategory, 10));\n        if (bigUser.equals(currentUser)) {\n            return smallUser;\n        }\n        return bigUser;\n    }\n    toBytes() {\n        const encoder = new TextEncoder();\n        return encoder.encode(this._chatType + this.id);\n    }\n    key() {\n        return this.chatType + this.id;\n    }\n    generateKey(sender, receiver) {\n        if (sender == null || receiver == null) {\n            return \"\";\n        }\n        let bigUser = sender;\n        let smallUser = receiver;\n        if (sender.id <= receiver.id) {\n            bigUser = receiver;\n            smallUser = sender;\n        }\n        let length = (bigUser.id + \"\").length;\n        let len = length + \"\";\n        if (length < 10) {\n            len = \"0\" + length;\n        }\n        return bigUser.category + \"\" + smallUser.category + \"\" + len + \"\" + bigUser.id + smallUser.id;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxVQUFVLElBQUlDO1FBQ3BCLE9BQU9ELFFBQVFFLE1BQU0sQ0FBQyxJQUFJLENBQUNqQyxTQUFTLEdBQUcsSUFBSSxDQUFDRSxFQUFFO0lBQ2hEO0lBRU9nQyxNQUFjO1FBQ25CLE9BQU8sSUFBSSxDQUFDbkMsUUFBUSxHQUFHLElBQUksQ0FBQ0csRUFBRTtJQUNoQztJQUVRTyxZQUFZSixNQUFnQixFQUFFQyxRQUFrQixFQUFVO1FBQ2hFLElBQUlELFVBQVUsUUFBUUMsWUFBWSxNQUFNO1lBQ3RDLE9BQU87UUFDVDtRQUNBLElBQUlxQixVQUFVdEI7UUFDZCxJQUFJdUIsWUFBWXRCO1FBQ2hCLElBQUlELE9BQU9ILEVBQUUsSUFBSUksU0FBU0osRUFBRSxFQUFFO1lBQzVCeUIsVUFBVXJCO1lBQ1ZzQixZQUFZdkI7UUFDZDtRQUNBLElBQUk4QixTQUFTLENBQUNSLFFBQVF6QixFQUFFLEdBQUcsRUFBQyxFQUFHaUMsTUFBTTtRQUNyQyxJQUFJQyxNQUFNRCxTQUFTO1FBQ25CLElBQUlBLFNBQVMsSUFBSTtZQUNmQyxNQUFNLE1BQU1EO1FBQ2Q7UUFDQSxPQUNFUixRQUFRVSxRQUFRLEdBQ2hCLEtBQ0FULFVBQVVTLFFBQVEsR0FDbEIsS0FDQUQsTUFDQSxLQUNBVCxRQUFRekIsRUFBRSxHQUNWMEIsVUFBVTFCLEVBQUU7SUFFaEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9saWIvcHJvdG9jb2wvQ2hhdFNlc3Npb24udHM/NWU2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0VHlwZSB9IGZyb20gXCJAL2xpYi9wcm90b2NvbC9DaGF0XCI7XG5pbXBvcnQgQ2hhdFVzZXIgZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRVc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXRTZXNzaW9uIHtcbiAgcHJpdmF0ZSBfY2hhdFR5cGU6IENoYXRUeXBlO1xuXG4gIGdldCBjaGF0VHlwZSgpOiBDaGF0VHlwZSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYXRUeXBlO1xuICB9XG5cbiAgc2V0IGNoYXRUeXBlKHZhbHVlOiBDaGF0VHlwZSkge1xuICAgIHRoaXMuX2NoYXRUeXBlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIHNldCBpZCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5faWQgPSB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlMTIxU2Vzc2lvbihzZW5kZXI6IENoYXRVc2VyLCByZWNlaXZlcjogQ2hhdFVzZXIpIHtcbiAgICBjb25zdCBjaGF0U2Vzc2lvbiA9IG5ldyBDaGF0U2Vzc2lvbigpO1xuICAgIGNoYXRTZXNzaW9uLmNoYXRUeXBlID0gQ2hhdFR5cGUuQ0hBVF8xX1RPXzE7XG4gICAgY2hhdFNlc3Npb24uaWQgPSBjaGF0U2Vzc2lvbi5nZW5lcmF0ZUtleShzZW5kZXIsIHJlY2VpdmVyKTtcbiAgICByZXR1cm4gY2hhdFNlc3Npb247XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZVNlc3Npb24oY2hhdFR5cGU6IENoYXRUeXBlLCBpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2hhdFNlc3Npb24gPSBuZXcgQ2hhdFNlc3Npb24oKTtcbiAgICBjaGF0U2Vzc2lvbi5jaGF0VHlwZSA9IGNoYXRUeXBlO1xuICAgIGNoYXRTZXNzaW9uLmlkID0gaWQ7XG4gICAgcmV0dXJuIGNoYXRTZXNzaW9uO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBwYXJzZShzZXNzaW9uS2V5OiBzdHJpbmcpIHtcbiAgICBpZiAoc2Vzc2lvbktleSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY2hhdFNlc3Npb24gPSBuZXcgQ2hhdFNlc3Npb24oKTtcbiAgICBjb25zdCBjaGF0VHlwZTogQ2hhdFR5cGUgPSBwYXJzZUludChcbiAgICAgIHNlc3Npb25LZXkuc3Vic3RyaW5nKDAsIDEpLFxuICAgICAgMTBcbiAgICApIGFzIENoYXRUeXBlO1xuICAgIGNvbnN0IGlkID0gc2Vzc2lvbktleS5zdWJzdHJpbmcoMSk7XG4gICAgY2hhdFNlc3Npb24uX2NoYXRUeXBlID0gY2hhdFR5cGU7XG4gICAgY2hhdFNlc3Npb24uaWQgPSBpZDtcbiAgICByZXR1cm4gY2hhdFNlc3Npb247XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZUdyb3VwU2Vzc2lvbihzZXNzaW9uS2V5OiBzdHJpbmcpOiBDaGF0U2Vzc2lvbiB7XG4gICAgY29uc3QgY2hhdFNlc3Npb24gPSBuZXcgQ2hhdFNlc3Npb24oKTtcbiAgICBjaGF0U2Vzc2lvbi5jaGF0VHlwZSA9IENoYXRUeXBlLkdST1VQO1xuICAgIGNoYXRTZXNzaW9uLmlkID0gc2Vzc2lvbktleTtcbiAgICByZXR1cm4gY2hhdFNlc3Npb247XG4gIH1cblxuICBwdWJsaWMgaXNHcm91cCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhdFR5cGUgPT0gQ2hhdFR5cGUuR1JPVVA7XG4gIH1cblxuICBwdWJsaWMgaXNPbmUyT25lKCkge1xuICAgIHJldHVybiB0aGlzLl9jaGF0VHlwZSA9PSBDaGF0VHlwZS5DSEFUXzFfVE9fMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRPcHBvc2l0ZVVzZXIoKTogQ2hhdFVzZXIgfCBudWxsIHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IENoYXRVc2VyLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgaWYgKGN1cnJlbnRVc2VyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5fY2hhdFR5cGUgPT09IENoYXRUeXBlLkdST1VQKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBiaWdVc2VyQ2F0ZWdvcnkgPSB0aGlzLmlkLnN1YnN0cmluZygwLCAxKTtcbiAgICBjb25zdCBzbWFsbFVzZXJDYXRlZ29yeSA9IHRoaXMuaWQuc3Vic3RyaW5nKDEsIDIpO1xuICAgIGNvbnN0IGJpdFVzZXJMZW5ndGggPSBwYXJzZUludCh0aGlzLmlkLnN1YnN0cmluZygyLCA0KSwgMTApO1xuICAgIGNvbnN0IGJpZ1VzZXJJZCA9IHRoaXMuaWQuc3Vic3RyaW5nKDQsIDQgKyBiaXRVc2VyTGVuZ3RoKTtcbiAgICBjb25zdCBzbWFsbFVzZXJJZCA9IHRoaXMuaWQuc3Vic3RyaW5nKDQgKyBiaXRVc2VyTGVuZ3RoKTtcblxuICAgIGNvbnN0IGJpZ1VzZXIgPSBuZXcgQ2hhdFVzZXIoYmlnVXNlcklkLCBwYXJzZUludChiaWdVc2VyQ2F0ZWdvcnksIDEwKSk7XG4gICAgY29uc3Qgc21hbGxVc2VyID0gbmV3IENoYXRVc2VyKFxuICAgICAgc21hbGxVc2VySWQsXG4gICAgICBwYXJzZUludChzbWFsbFVzZXJDYXRlZ29yeSwgMTApXG4gICAgKTtcblxuICAgIGlmIChiaWdVc2VyLmVxdWFscyhjdXJyZW50VXNlcikpIHtcbiAgICAgIHJldHVybiBzbWFsbFVzZXI7XG4gICAgfVxuICAgIHJldHVybiBiaWdVc2VyO1xuICB9XG5cbiAgcHVibGljIHRvQnl0ZXMoKTogVWludDhBcnJheSB7XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHJldHVybiBlbmNvZGVyLmVuY29kZSh0aGlzLl9jaGF0VHlwZSArIHRoaXMuaWQpO1xuICB9XG5cbiAgcHVibGljIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNoYXRUeXBlICsgdGhpcy5pZDtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVLZXkoc2VuZGVyOiBDaGF0VXNlciwgcmVjZWl2ZXI6IENoYXRVc2VyKTogc3RyaW5nIHtcbiAgICBpZiAoc2VuZGVyID09IG51bGwgfHwgcmVjZWl2ZXIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGxldCBiaWdVc2VyID0gc2VuZGVyO1xuICAgIGxldCBzbWFsbFVzZXIgPSByZWNlaXZlcjtcbiAgICBpZiAoc2VuZGVyLmlkIDw9IHJlY2VpdmVyLmlkKSB7XG4gICAgICBiaWdVc2VyID0gcmVjZWl2ZXI7XG4gICAgICBzbWFsbFVzZXIgPSBzZW5kZXI7XG4gICAgfVxuICAgIGxldCBsZW5ndGggPSAoYmlnVXNlci5pZCArIFwiXCIpLmxlbmd0aDtcbiAgICBsZXQgbGVuID0gbGVuZ3RoICsgXCJcIjtcbiAgICBpZiAobGVuZ3RoIDwgMTApIHtcbiAgICAgIGxlbiA9IFwiMFwiICsgbGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYmlnVXNlci5jYXRlZ29yeSArXG4gICAgICBcIlwiICtcbiAgICAgIHNtYWxsVXNlci5jYXRlZ29yeSArXG4gICAgICBcIlwiICtcbiAgICAgIGxlbiArXG4gICAgICBcIlwiICtcbiAgICAgIGJpZ1VzZXIuaWQgK1xuICAgICAgc21hbGxVc2VyLmlkXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNoYXRUeXBlIiwiQ2hhdFVzZXIiLCJDaGF0U2Vzc2lvbiIsImNoYXRUeXBlIiwiX2NoYXRUeXBlIiwidmFsdWUiLCJpZCIsIl9pZCIsImNyZWF0ZTEyMVNlc3Npb24iLCJzZW5kZXIiLCJyZWNlaXZlciIsImNoYXRTZXNzaW9uIiwiQ0hBVF8xX1RPXzEiLCJnZW5lcmF0ZUtleSIsImNyZWF0ZVNlc3Npb24iLCJwYXJzZSIsInNlc3Npb25LZXkiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImNyZWF0ZUdyb3VwU2Vzc2lvbiIsIkdST1VQIiwiaXNHcm91cCIsImlzT25lMk9uZSIsImdldE9wcG9zaXRlVXNlciIsImN1cnJlbnRVc2VyIiwiZ2V0Q3VycmVudFVzZXIiLCJiaWdVc2VyQ2F0ZWdvcnkiLCJzbWFsbFVzZXJDYXRlZ29yeSIsImJpdFVzZXJMZW5ndGgiLCJiaWdVc2VySWQiLCJzbWFsbFVzZXJJZCIsImJpZ1VzZXIiLCJzbWFsbFVzZXIiLCJlcXVhbHMiLCJ0b0J5dGVzIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwia2V5IiwibGVuZ3RoIiwibGVuIiwiY2F0ZWdvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/ChatSession.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/ChatUser.ts":
/*!**************************************!*\
  !*** ./src/lib/protocol/ChatUser.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatUser)\n/* harmony export */ });\n/* harmony import */ var _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/lib/protocol/ArrayBufferUtils */ \"(ssr)/./src/common/lib/protocol/ArrayBufferUtils.ts\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n\n\nclass ChatUser {\n    static{\n        this.CATEGORY_VISITOR = 0;\n    }\n    static{\n        this.CATEGORY_REGISTER = 1;\n    }\n    constructor(id, category){\n        this._id = id;\n        this._category = category;\n    }\n    get id() {\n        return this._id;\n    }\n    get category() {\n        return this._category;\n    }\n    static fromBytes(dateView, offset) {\n        const bytes = dateView.buffer;\n        const idLength = dateView.getUint8(offset);\n        offset += 1;\n        const idBytes = new Uint8Array(bytes.slice(offset, offset + idLength));\n        offset += idLength;\n        const id = new TextDecoder().decode(idBytes); // 默认 UTF-8 编码\n        const category = dateView.getUint8(offset);\n        const chatUser = new ChatUser(id, category);\n        return {\n            chatUser: chatUser,\n            offset: offset + 1\n        };\n    }\n    static parse(key) {\n        const parts = key.split(\"_\");\n        if (parts.length != 2) {\n            return null;\n        }\n        const id = parts[0];\n        const role = Number(parts[1]);\n        return new ChatUser(id, role);\n    }\n    static getCurrentUser() {\n        if (true) {\n            console.error(\"This component should not render on server\");\n            return null;\n        }\n        const userInfo = sessionStorage.getItem(_common_lib_Env__WEBPACK_IMPORTED_MODULE_1__.USER_INFO_KEY);\n        if (!userInfo) {\n            return null;\n        }\n        const loginUser = JSON.parse(userInfo);\n        const userId = loginUser.userId;\n        const category = loginUser.category;\n        return new ChatUser(userId, category);\n    }\n    getCategoryName() {\n        if (this._category == ChatUser.CATEGORY_VISITOR) {\n            return \"访客\";\n        } else if (this._category == ChatUser.CATEGORY_REGISTER) {\n            return \"注册用户\";\n        }\n        return \"未知\";\n    }\n    key() {\n        return this._id + \"_\" + this._category;\n    }\n    equals(chatUser) {\n        if (chatUser == null) {\n            return false;\n        }\n        return this._id == chatUser.id && this._category == chatUser.category;\n    }\n    /**\n   * 用户ID长度(1字节) + 用户ID([用户ID长度个字节]) + 用户类型(1字节)\n   */ toBytes() {\n        const idBytes = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].str2Buffer(this._id + \"\");\n        const categoryBytes = new Uint8Array([\n            this._category\n        ]);\n        const bytesLength = 1 + idBytes.byteLength + 1;\n        let userBytes = new Uint8Array(bytesLength);\n        const idBytesLength = idBytes.byteLength;\n        let offset = 0;\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendBytes(userBytes, new Uint8Array([\n            idBytesLength\n        ]), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendBytes(userBytes, idBytes, offset);\n        _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendBytes(userBytes, categoryBytes, offset);\n        return userBytes;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixXQUFXMEI7UUFDM0MsTUFBTUcsZ0JBQXdCOUIsUUFBUTRCLFVBQVU7UUFDaEQsSUFBSWpDLFNBQWlCO1FBQ3JCQSxTQUFTWiw2RUFBZ0JBLENBQUNnRCxXQUFXLENBQ25DRixXQUNBLElBQUk1QixXQUFXO1lBQUM2QjtTQUFjLEdBQzlCbkM7UUFFRkEsU0FBU1osNkVBQWdCQSxDQUFDZ0QsV0FBVyxDQUFDRixXQUFXN0IsU0FBU0w7UUFDMURaLDZFQUFnQkEsQ0FBQ2dELFdBQVcsQ0FBQ0YsV0FBV0gsZUFBZS9CO1FBQ3ZELE9BQU9rQztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvbGliL3Byb3RvY29sL0NoYXRVc2VyLnRzPzgzMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFycmF5QnVmZmVyVXRpbHMgZnJvbSBcIkAvY29tbW9uL2xpYi9wcm90b2NvbC9BcnJheUJ1ZmZlclV0aWxzXCI7XG5pbXBvcnQgeyBVU0VSX0lORk9fS0VZIH0gZnJvbSBcIkAvY29tbW9uL2xpYi9FbnZcIjtcblxuaW50ZXJmYWNlIENoYXRVc2VyV2l0aE9mZnNldCB7XG4gIGNoYXRVc2VyOiBOdWxsYWJsZUNoYXRVc2VyO1xuICBvZmZzZXQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhdFVzZXIge1xuICBzdGF0aWMgcmVhZG9ubHkgQ0FURUdPUllfVklTSVRPUiA9IDA7XG4gIHN0YXRpYyByZWFkb25seSBDQVRFR09SWV9SRUdJU1RFUiA9IDE7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2F0ZWdvcnk6IG51bWJlcikge1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgdGhpcy5fY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgfVxuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG5cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2F0ZWdvcnk6IG51bWJlcjtcblxuICBnZXQgY2F0ZWdvcnkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fY2F0ZWdvcnk7XG4gIH1cblxuICBzdGF0aWMgZnJvbUJ5dGVzKGRhdGVWaWV3OiBEYXRhVmlldywgb2Zmc2V0OiBudW1iZXIpOiBDaGF0VXNlcldpdGhPZmZzZXQge1xuICAgIGNvbnN0IGJ5dGVzOiBBcnJheUJ1ZmZlckxpa2UgPSBkYXRlVmlldy5idWZmZXI7XG4gICAgY29uc3QgaWRMZW5ndGg6IG51bWJlciA9IGRhdGVWaWV3LmdldFVpbnQ4KG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDE7XG4gICAgY29uc3QgaWRCeXRlczogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBpZExlbmd0aClcbiAgICApO1xuICAgIG9mZnNldCArPSBpZExlbmd0aDtcbiAgICBjb25zdCBpZCA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShpZEJ5dGVzKTsgLy8g6buY6K6kIFVURi04IOe8lueggVxuICAgIGNvbnN0IGNhdGVnb3J5OiBudW1iZXIgPSBkYXRlVmlldy5nZXRVaW50OChvZmZzZXQpO1xuICAgIGNvbnN0IGNoYXRVc2VyOiBDaGF0VXNlciA9IG5ldyBDaGF0VXNlcihpZCwgY2F0ZWdvcnkpO1xuICAgIHJldHVybiB7XG4gICAgICBjaGF0VXNlcjogY2hhdFVzZXIsXG4gICAgICBvZmZzZXQ6IG9mZnNldCArIDEsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShrZXk6IHN0cmluZyk6IE51bGxhYmxlQ2hhdFVzZXIge1xuICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IGtleS5zcGxpdChcIl9cIik7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaWQ6IHN0cmluZyA9IHBhcnRzWzBdO1xuICAgIGNvbnN0IHJvbGU6IG51bWJlciA9IE51bWJlcihwYXJ0c1sxXSk7XG4gICAgcmV0dXJuIG5ldyBDaGF0VXNlcihpZCwgcm9sZSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEN1cnJlbnRVc2VyKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBjb21wb25lbnQgc2hvdWxkIG5vdCByZW5kZXIgb24gc2VydmVyXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlckluZm8gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFVTRVJfSU5GT19LRVkpO1xuICAgIGlmICghdXNlckluZm8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsb2dpblVzZXIgPSBKU09OLnBhcnNlKHVzZXJJbmZvKTtcbiAgICBjb25zdCB1c2VySWQgPSBsb2dpblVzZXIudXNlcklkO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gbG9naW5Vc2VyLmNhdGVnb3J5O1xuICAgIHJldHVybiBuZXcgQ2hhdFVzZXIodXNlcklkLCBjYXRlZ29yeSk7XG4gIH1cblxuICBnZXRDYXRlZ29yeU5hbWUoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5fY2F0ZWdvcnkgPT0gQ2hhdFVzZXIuQ0FURUdPUllfVklTSVRPUikge1xuICAgICAgcmV0dXJuIFwi6K6/5a6iXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jYXRlZ29yeSA9PSBDaGF0VXNlci5DQVRFR09SWV9SRUdJU1RFUikge1xuICAgICAgcmV0dXJuIFwi5rOo5YaM55So5oi3XCI7XG4gICAgfVxuICAgIHJldHVybiBcIuacquefpVwiO1xuICB9XG5cbiAgcHVibGljIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZCArIFwiX1wiICsgdGhpcy5fY2F0ZWdvcnk7XG4gIH1cblxuICBwdWJsaWMgZXF1YWxzKGNoYXRVc2VyOiBOdWxsYWJsZUNoYXRVc2VyKTogYm9vbGVhbiB7XG4gICAgaWYgKGNoYXRVc2VyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lkID09IGNoYXRVc2VyLmlkICYmIHRoaXMuX2NhdGVnb3J5ID09IGNoYXRVc2VyLmNhdGVnb3J5O1xuICB9XG5cbiAgLyoqXG4gICAqIOeUqOaIt0lE6ZW/5bqmKDHlrZfoioIpICsg55So5oi3SUQoW+eUqOaIt0lE6ZW/5bqm5Liq5a2X6IqCXSkgKyDnlKjmiLfnsbvlnosoMeWtl+iKgilcbiAgICovXG4gIHB1YmxpYyB0b0J5dGVzKCk6IFVpbnQ4QXJyYXkge1xuICAgIGNvbnN0IGlkQnl0ZXM6IFVpbnQ4QXJyYXkgPSBBcnJheUJ1ZmZlclV0aWxzLnN0cjJCdWZmZXIodGhpcy5faWQgKyBcIlwiKTtcbiAgICBjb25zdCBjYXRlZ29yeUJ5dGVzOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoW3RoaXMuX2NhdGVnb3J5XSk7XG4gICAgY29uc3QgYnl0ZXNMZW5ndGg6IG51bWJlciA9IDEgKyBpZEJ5dGVzLmJ5dGVMZW5ndGggKyAxO1xuICAgIGxldCB1c2VyQnl0ZXM6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlc0xlbmd0aCk7XG4gICAgY29uc3QgaWRCeXRlc0xlbmd0aDogbnVtYmVyID0gaWRCeXRlcy5ieXRlTGVuZ3RoO1xuICAgIGxldCBvZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgb2Zmc2V0ID0gQXJyYXlCdWZmZXJVdGlscy5hcHBlbmRCeXRlcyhcbiAgICAgIHVzZXJCeXRlcyxcbiAgICAgIG5ldyBVaW50OEFycmF5KFtpZEJ5dGVzTGVuZ3RoXSksXG4gICAgICBvZmZzZXRcbiAgICApO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXModXNlckJ5dGVzLCBpZEJ5dGVzLCBvZmZzZXQpO1xuICAgIEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXModXNlckJ5dGVzLCBjYXRlZ29yeUJ5dGVzLCBvZmZzZXQpO1xuICAgIHJldHVybiB1c2VyQnl0ZXM7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTnVsbGFibGVDaGF0VXNlciA9IENoYXRVc2VyIHwgbnVsbDtcbiJdLCJuYW1lcyI6WyJBcnJheUJ1ZmZlclV0aWxzIiwiVVNFUl9JTkZPX0tFWSIsIkNoYXRVc2VyIiwiQ0FURUdPUllfVklTSVRPUiIsIkNBVEVHT1JZX1JFR0lTVEVSIiwiY29uc3RydWN0b3IiLCJpZCIsImNhdGVnb3J5IiwiX2lkIiwiX2NhdGVnb3J5IiwiZnJvbUJ5dGVzIiwiZGF0ZVZpZXciLCJvZmZzZXQiLCJieXRlcyIsImJ1ZmZlciIsImlkTGVuZ3RoIiwiZ2V0VWludDgiLCJpZEJ5dGVzIiwiVWludDhBcnJheSIsInNsaWNlIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJjaGF0VXNlciIsInBhcnNlIiwia2V5IiwicGFydHMiLCJzcGxpdCIsImxlbmd0aCIsInJvbGUiLCJOdW1iZXIiLCJnZXRDdXJyZW50VXNlciIsImNvbnNvbGUiLCJlcnJvciIsInVzZXJJbmZvIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwibG9naW5Vc2VyIiwiSlNPTiIsInVzZXJJZCIsImdldENhdGVnb3J5TmFtZSIsImVxdWFscyIsInRvQnl0ZXMiLCJzdHIyQnVmZmVyIiwiY2F0ZWdvcnlCeXRlcyIsImJ5dGVzTGVuZ3RoIiwiYnl0ZUxlbmd0aCIsInVzZXJCeXRlcyIsImlkQnl0ZXNMZW5ndGgiLCJhcHBlbmRCeXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/ChatUser.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/Message.ts":
/*!*************************************!*\
  !*** ./src/lib/protocol/Message.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlignType: () => (/* binding */ AlignType),\n/* harmony export */   \"default\": () => (/* binding */ Message)\n/* harmony export */ });\n/* harmony import */ var _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/protocol/ChatUser */ \"(ssr)/./src/lib/protocol/ChatUser.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(ssr)/./node_modules/date-fns/format.js\");\n\n\nvar AlignType;\n(function(AlignType) {\n    AlignType[\"left\"] = \"left\";\n    AlignType[\"right\"] = \"right\";\n})(AlignType || (AlignType = {}));\nclass Message {\n    constructor(){}\n    get align() {\n        return this.isSender() ? \"right\" : \"left\";\n    }\n    get messageId() {\n        return this._messageId;\n    }\n    get sender() {\n        return this._sender;\n    }\n    get receiver() {\n        return this._receiver;\n    }\n    get content() {\n        return this._content;\n    }\n    get session() {\n        return this._session;\n    }\n    set session(value) {\n        this._session = value;\n    }\n    get clientSendTime() {\n        return this._clientSendTime;\n    }\n    set clientSendTime(value) {\n        this._clientSendTime = value;\n    }\n    get serverTime() {\n        return this._serverTime;\n    }\n    set serverTime(value) {\n        this._serverTime = value;\n    }\n    get sendTime() {\n        const date = new Date(this._clientSendTime);\n        return (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(date, \"yyyy-MM-dd\");\n    }\n    static fromProtocol(protocol) {\n        const message = new Message();\n        message._sender = protocol.sender;\n        message._receiver = protocol.receiver;\n        message._content = protocol.getStringContent();\n        message._clientSendTime = protocol.clientSendTime;\n        message._serverTime = protocol.serverTime;\n        message._messageId = protocol.clientSendTime + \"\" + protocol.sender.id;\n        return message;\n    }\n    static fromMessage(json) {\n        const message = new Message();\n        message._sender = new _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"](json.sender.id, json.sender.category);\n        message._receiver = new _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"](json.receiver.id, json.receiver.category);\n        message._content = json.content;\n        message._clientSendTime = json.clientSendTime;\n        message._serverTime = json.serverTime;\n        message._messageId = json.clientSendTime + \"\" + json.sender.id;\n        return message;\n    }\n    isSender() {\n        const currentUser = _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCurrentUser();\n        return this.sender.equals(currentUser);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3Byb3RvY29sL01lc3NhZ2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQztBQUViOztVQUd0QkU7OztHQUFBQSxjQUFBQTtBQUtHLE1BQU1DO0lBQ25CQyxhQUFjLENBQUM7SUFFZixJQUFJQyxRQUFtQjtRQUNyQixPQUFPLElBQUksQ0FBQ0MsUUFBUTtJQUN0QjtJQUlBLElBQUlDLFlBQW9CO1FBQ3RCLE9BQU8sSUFBSSxDQUFDQyxVQUFVO0lBQ3hCO0lBSUEsSUFBSUMsU0FBbUI7UUFDckIsT0FBTyxJQUFJLENBQUNDLE9BQU87SUFDckI7SUFJQSxJQUFJQyxXQUFxQjtRQUN2QixPQUFPLElBQUksQ0FBQ0MsU0FBUztJQUN2QjtJQUlBLElBQUlDLFVBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDQyxRQUFRO0lBQ3RCO0lBSUEsSUFBSUMsVUFBdUI7UUFDekIsT0FBTyxJQUFJLENBQUNDLFFBQVE7SUFDdEI7SUFFQSxJQUFJRCxRQUFRRSxLQUFrQixFQUFFO1FBQzlCLElBQUksQ0FBQ0QsUUFBUSxHQUFHQztJQUNsQjtJQUlBLElBQUlDLGlCQUF5QjtRQUMzQixPQUFPLElBQUksQ0FBQ0MsZUFBZTtJQUM3QjtJQUVBLElBQUlELGVBQWVELEtBQWEsRUFBRTtRQUNoQyxJQUFJLENBQUNFLGVBQWUsR0FBR0Y7SUFDekI7SUFJQSxJQUFJRyxhQUFxQjtRQUN2QixPQUFPLElBQUksQ0FBQ0MsV0FBVztJQUN6QjtJQUVBLElBQUlELFdBQVdILEtBQWEsRUFBRTtRQUM1QixJQUFJLENBQUNJLFdBQVcsR0FBR0o7SUFDckI7SUFFQSxJQUFJSyxXQUFtQjtRQUNyQixNQUFNQyxPQUFPLElBQUlDLEtBQUssSUFBSSxDQUFDTCxlQUFlO1FBQzFDLE9BQU9sQiw4RUFBTUEsQ0FBQ3NCLE1BQU07SUFDdEI7SUFFQSxPQUFPRSxhQUFhQyxRQUFrQixFQUFXO1FBQy9DLE1BQU1DLFVBQVUsSUFBSXhCO1FBQ3BCd0IsUUFBUWpCLE9BQU8sR0FBR2dCLFNBQVNqQixNQUFNO1FBQ2pDa0IsUUFBUWYsU0FBUyxHQUFHYyxTQUFTZixRQUFRO1FBQ3JDZ0IsUUFBUWIsUUFBUSxHQUFHWSxTQUFTRSxnQkFBZ0I7UUFDNUNELFFBQVFSLGVBQWUsR0FBR08sU0FBU1IsY0FBYztRQUNqRFMsUUFBUU4sV0FBVyxHQUFHSyxTQUFTTixVQUFVO1FBQ3pDTyxRQUFRbkIsVUFBVSxHQUFHa0IsU0FBU1IsY0FBYyxHQUFHLEtBQUtRLFNBQVNqQixNQUFNLENBQUNvQixFQUFFO1FBQ3RFLE9BQU9GO0lBQ1Q7SUFFQSxPQUFPRyxZQUFZQyxJQUFhLEVBQVc7UUFDekMsTUFBTUosVUFBVSxJQUFJeEI7UUFDcEJ3QixRQUFRakIsT0FBTyxHQUFHLElBQUlWLDhEQUFRQSxDQUFDK0IsS0FBS3RCLE1BQU0sQ0FBQ29CLEVBQUUsRUFBRUUsS0FBS3RCLE1BQU0sQ0FBQ3VCLFFBQVE7UUFDbkVMLFFBQVFmLFNBQVMsR0FBRyxJQUFJWiw4REFBUUEsQ0FBQytCLEtBQUtwQixRQUFRLENBQUNrQixFQUFFLEVBQUVFLEtBQUtwQixRQUFRLENBQUNxQixRQUFRO1FBQ3pFTCxRQUFRYixRQUFRLEdBQUdpQixLQUFLbEIsT0FBTztRQUMvQmMsUUFBUVIsZUFBZSxHQUFHWSxLQUFLYixjQUFjO1FBQzdDUyxRQUFRTixXQUFXLEdBQUdVLEtBQUtYLFVBQVU7UUFDckNPLFFBQVFuQixVQUFVLEdBQUd1QixLQUFLYixjQUFjLEdBQUcsS0FBS2EsS0FBS3RCLE1BQU0sQ0FBQ29CLEVBQUU7UUFDOUQsT0FBT0Y7SUFDVDtJQUVPckIsV0FBVztRQUNoQixNQUFNMkIsY0FBY2pDLDhEQUFRQSxDQUFDa0MsY0FBYztRQUMzQyxPQUFPLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQzBCLE1BQU0sQ0FBQ0Y7SUFDNUI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9saWIvcHJvdG9jb2wvTWVzc2FnZS50cz8wNTY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGF0VXNlciBmcm9tIFwiQC9saWIvcHJvdG9jb2wvQ2hhdFVzZXJcIjtcbmltcG9ydCBDaGF0U2Vzc2lvbiBmcm9tIFwiQC9saWIvcHJvdG9jb2wvQ2hhdFNlc3Npb25cIjtcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IFByb3RvY29sIGZyb20gXCJAL2xpYi9wcm90b2NvbC9Qcm90b2NvbFwiO1xuXG5leHBvcnQgZW51bSBBbGlnblR5cGUge1xuICBsZWZ0ID0gXCJsZWZ0XCIsXG4gIHJpZ2h0ID0gXCJyaWdodFwiLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIGdldCBhbGlnbigpOiBBbGlnblR5cGUge1xuICAgIHJldHVybiB0aGlzLmlzU2VuZGVyKCkgPyBBbGlnblR5cGUucmlnaHQgOiBBbGlnblR5cGUubGVmdDtcbiAgfVxuXG4gIHByaXZhdGUgX21lc3NhZ2VJZDogc3RyaW5nO1xuXG4gIGdldCBtZXNzYWdlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZUlkO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2VuZGVyOiBDaGF0VXNlcjtcblxuICBnZXQgc2VuZGVyKCk6IENoYXRVc2VyIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVjZWl2ZXI6IENoYXRVc2VyO1xuXG4gIGdldCByZWNlaXZlcigpOiBDaGF0VXNlciB7XG4gICAgcmV0dXJuIHRoaXMuX3JlY2VpdmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29udGVudDogc3RyaW5nO1xuXG4gIGdldCBjb250ZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gIH1cblxuICBwcml2YXRlIF9zZXNzaW9uOiBDaGF0U2Vzc2lvbjtcblxuICBnZXQgc2Vzc2lvbigpOiBDaGF0U2Vzc2lvbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb247XG4gIH1cblxuICBzZXQgc2Vzc2lvbih2YWx1ZTogQ2hhdFNlc3Npb24pIHtcbiAgICB0aGlzLl9zZXNzaW9uID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9jbGllbnRTZW5kVGltZTogbnVtYmVyO1xuXG4gIGdldCBjbGllbnRTZW5kVGltZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRTZW5kVGltZTtcbiAgfVxuXG4gIHNldCBjbGllbnRTZW5kVGltZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fY2xpZW50U2VuZFRpbWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX3NlcnZlclRpbWU6IG51bWJlcjtcblxuICBnZXQgc2VydmVyVGltZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJUaW1lO1xuICB9XG5cbiAgc2V0IHNlcnZlclRpbWUodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuX3NlcnZlclRpbWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCBzZW5kVGltZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aGlzLl9jbGllbnRTZW5kVGltZSk7XG4gICAgcmV0dXJuIGZvcm1hdChkYXRlLCBcInl5eXktTU0tZGRcIik7XG4gIH1cblxuICBzdGF0aWMgZnJvbVByb3RvY29sKHByb3RvY29sOiBQcm90b2NvbCk6IE1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSgpO1xuICAgIG1lc3NhZ2UuX3NlbmRlciA9IHByb3RvY29sLnNlbmRlcjtcbiAgICBtZXNzYWdlLl9yZWNlaXZlciA9IHByb3RvY29sLnJlY2VpdmVyO1xuICAgIG1lc3NhZ2UuX2NvbnRlbnQgPSBwcm90b2NvbC5nZXRTdHJpbmdDb250ZW50KCk7XG4gICAgbWVzc2FnZS5fY2xpZW50U2VuZFRpbWUgPSBwcm90b2NvbC5jbGllbnRTZW5kVGltZTtcbiAgICBtZXNzYWdlLl9zZXJ2ZXJUaW1lID0gcHJvdG9jb2wuc2VydmVyVGltZTtcbiAgICBtZXNzYWdlLl9tZXNzYWdlSWQgPSBwcm90b2NvbC5jbGllbnRTZW5kVGltZSArIFwiXCIgKyBwcm90b2NvbC5zZW5kZXIuaWQ7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICBzdGF0aWMgZnJvbU1lc3NhZ2UoanNvbjogTWVzc2FnZSk6IE1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZSgpO1xuICAgIG1lc3NhZ2UuX3NlbmRlciA9IG5ldyBDaGF0VXNlcihqc29uLnNlbmRlci5pZCwganNvbi5zZW5kZXIuY2F0ZWdvcnkpO1xuICAgIG1lc3NhZ2UuX3JlY2VpdmVyID0gbmV3IENoYXRVc2VyKGpzb24ucmVjZWl2ZXIuaWQsIGpzb24ucmVjZWl2ZXIuY2F0ZWdvcnkpO1xuICAgIG1lc3NhZ2UuX2NvbnRlbnQgPSBqc29uLmNvbnRlbnQ7XG4gICAgbWVzc2FnZS5fY2xpZW50U2VuZFRpbWUgPSBqc29uLmNsaWVudFNlbmRUaW1lO1xuICAgIG1lc3NhZ2UuX3NlcnZlclRpbWUgPSBqc29uLnNlcnZlclRpbWU7XG4gICAgbWVzc2FnZS5fbWVzc2FnZUlkID0ganNvbi5jbGllbnRTZW5kVGltZSArIFwiXCIgKyBqc29uLnNlbmRlci5pZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIHB1YmxpYyBpc1NlbmRlcigpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IENoYXRVc2VyLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgcmV0dXJuIHRoaXMuc2VuZGVyLmVxdWFscyhjdXJyZW50VXNlcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDaGF0VXNlciIsImZvcm1hdCIsIkFsaWduVHlwZSIsIk1lc3NhZ2UiLCJjb25zdHJ1Y3RvciIsImFsaWduIiwiaXNTZW5kZXIiLCJtZXNzYWdlSWQiLCJfbWVzc2FnZUlkIiwic2VuZGVyIiwiX3NlbmRlciIsInJlY2VpdmVyIiwiX3JlY2VpdmVyIiwiY29udGVudCIsIl9jb250ZW50Iiwic2Vzc2lvbiIsIl9zZXNzaW9uIiwidmFsdWUiLCJjbGllbnRTZW5kVGltZSIsIl9jbGllbnRTZW5kVGltZSIsInNlcnZlclRpbWUiLCJfc2VydmVyVGltZSIsInNlbmRUaW1lIiwiZGF0ZSIsIkRhdGUiLCJmcm9tUHJvdG9jb2wiLCJwcm90b2NvbCIsIm1lc3NhZ2UiLCJnZXRTdHJpbmdDb250ZW50IiwiaWQiLCJmcm9tTWVzc2FnZSIsImpzb24iLCJjYXRlZ29yeSIsImN1cnJlbnRVc2VyIiwiZ2V0Q3VycmVudFVzZXIiLCJlcXVhbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/Message.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/MessageBroker.ts":
/*!*******************************************!*\
  !*** ./src/lib/protocol/MessageBroker.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MessageBroker)\n/* harmony export */ });\n/* harmony import */ var _lib_ChatApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/ChatApi */ \"(ssr)/./src/lib/ChatApi.ts\");\n/* harmony import */ var _lib_protocol_Message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/protocol/Message */ \"(ssr)/./src/lib/protocol/Message.ts\");\n/* harmony import */ var _lib_protocol_Protocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/protocol/Protocol */ \"(ssr)/./src/lib/protocol/Protocol.ts\");\n/* harmony import */ var _common_lib_SparrowWebSocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/lib/SparrowWebSocket */ \"(ssr)/./src/common/lib/SparrowWebSocket.ts\");\n/* harmony import */ var _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/protocol/ChatSession */ \"(ssr)/./src/lib/protocol/ChatSession.ts\");\n/* harmony import */ var _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/protocol/Chat */ \"(ssr)/./src/lib/protocol/Chat.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-hot-toast */ \"(ssr)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _common_lib_Env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/common/lib/Env */ \"(ssr)/./src/common/lib/Env.ts\");\n\n\n\n\n\n\n\n\nclass MessageBroker {\n    constructor(crosStorage){\n        //key:session key,value:message list\n        this.messageMap = new Map();\n        this.chatSessions = null;\n        this.contactGroup = null;\n        this.newMessageSignal = ()=>{};\n        this.crosStorage = crosStorage;\n        const sparrowWebSocket = new _common_lib_SparrowWebSocket__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_common_lib_Env__WEBPACK_IMPORTED_MODULE_7__.WEBSOCKET, crosStorage);\n        sparrowWebSocket.connect();\n        this._webSocket = sparrowWebSocket;\n        this._webSocket.onMsgCallback = (buf)=>{\n            this.websocketMsgCallback(buf);\n        };\n        this._webSocket.offlineCallback = ()=>{\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(\"消息已推送，对方已离线....\");\n        };\n        this._webSocket.userAuthCallback = (data)=>{\n            console.log(\"userValidCallback\", JSON.stringify(data));\n            if (data.code == \"0\") {\n                sessionStorage.setItem(_common_lib_Env__WEBPACK_IMPORTED_MODULE_7__.USER_INFO_KEY, JSON.stringify(data.data));\n            } else {\n                this.crosStorage.removeToken();\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(data.message);\n                setTimeout(()=>{\n                    window.location.href = `${_common_lib_Env__WEBPACK_IMPORTED_MODULE_7__.LOGIN_URL}?${window.location.href}`;\n                }, 2000);\n            }\n        };\n        this._webSocket.monitorStatus = ()=>{\n            console.log(\"websocket monitor status\");\n            return [];\n        };\n        this._webSocket.monitorStatusCallback = (data)=>{\n            console.log(\"websocket monitor status callback\", JSON.stringify(data));\n        };\n    }\n    get webSocket() {\n        return this._webSocket;\n    }\n    closeWebSocket() {\n        this._webSocket.close();\n    }\n    putMessage(protocol) {\n        const message = _lib_protocol_Message__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromProtocol(protocol);\n        const sessionKey = protocol.chatSession.key();\n        let messageList = this.messageMap.get(sessionKey);\n        if (messageList == null) {\n            messageList = [];\n            this.messageMap.set(sessionKey, messageList);\n        }\n        messageList.push(message);\n    }\n    sendMessage(sessionKey, content) {\n        const chatSession = _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_4__[\"default\"].parse(sessionKey);\n        let protocol;\n        if (chatSession?.chatType == _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_5__.ChatType.CHAT_1_TO_1) {\n            const oppositeUser = chatSession.getOppositeUser();\n            protocol = _lib_protocol_Protocol__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create121Chat(_lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_5__.MessageType.TEXT_MESSAGE, oppositeUser, content, new Date().getTime());\n        }\n        this.putMessage(protocol);\n        this._webSocket?.sendMessage(protocol.toBytes());\n    }\n    async getMessageList(sessionKey) {\n        console.log(\"getMessageList\", sessionKey);\n        let messageList = this.messageMap.get(sessionKey);\n        if (messageList != null) {\n            return messageList;\n        }\n        messageList = await _lib_ChatApi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMessages(sessionKey, this.crosStorage);\n        this.messageMap.set(sessionKey, messageList);\n        return messageList;\n    }\n    websocketMsgCallback(buf) {\n        const protocol = _lib_protocol_Protocol__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBytes(buf);\n        this.putMessage(protocol);\n        this.newMessageSignal();\n    }\n    async getChatSessions() {\n        let localSession = this.chatSessions;\n        if (localSession) {\n            return localSession;\n        }\n        await _lib_ChatApi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getSessions(this.crosStorage).then((sessions)=>{\n            console.log(sessions.length);\n            localSession = sessions;\n            this.chatSessions = localSession;\n        });\n        return localSession;\n    }\n    async getContactGroup() {\n        debugger;\n        let localGroup = this.contactGroup;\n        if (localGroup) {\n            return localGroup;\n        }\n        await _lib_ChatApi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getContacts(this.crosStorage).then((group)=>{\n            console.log(group);\n            localGroup = group;\n            this.contactGroup = localGroup;\n        });\n        return localGroup;\n    }\n    getGroupDetail(groupId) {\n        return this.contactGroup?.quns.find((qun)=>qun.qunId === groupId);\n    }\n    getContactDetail(userId) {\n        return this.contactGroup?.contacts.find((contact)=>contact.userId === userId);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLEVBQUU4RCxJQUFJLENBQUMsQ0FBQ007WUFDaERwRCxRQUFRQyxHQUFHLENBQUNtRDtZQUNaRixhQUFhRTtZQUNiLElBQUksQ0FBQ2hFLFlBQVksR0FBRzhEO1FBQ3RCO1FBQ0EsT0FBT0E7SUFDVDtJQUVPRyxlQUFlQyxPQUFlLEVBQUU7UUFDckMsT0FBTyxJQUFJLENBQUNsRSxZQUFZLEVBQUVtRSxLQUFLQyxLQUFLLENBQUNDLE1BQVFBLElBQUlDLEtBQUssS0FBS0o7SUFDN0Q7SUFFT0ssaUJBQWlCQyxNQUFjLEVBQUU7UUFDdEMsT0FBTyxJQUFJLENBQUN4RSxZQUFZLEVBQUV5RSxTQUFTTCxLQUNqQyxDQUFDTSxVQUFZQSxRQUFRRixNQUFNLEtBQUtBO0lBRXBDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvbGliL3Byb3RvY29sL01lc3NhZ2VCcm9rZXIudHM/MTFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhdEFwaSBmcm9tIFwiQC9saWIvQ2hhdEFwaVwiO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIkAvbGliL3Byb3RvY29sL01lc3NhZ2VcIjtcbmltcG9ydCBQcm90b2NvbCBmcm9tIFwiQC9saWIvcHJvdG9jb2wvUHJvdG9jb2xcIjtcbmltcG9ydCBTcGFycm93V2ViU29ja2V0IGZyb20gXCJAL2NvbW1vbi9saWIvU3BhcnJvd1dlYlNvY2tldFwiO1xuaW1wb3J0IENoYXRTZXNzaW9uIGZyb20gXCJAL2xpYi9wcm90b2NvbC9DaGF0U2Vzc2lvblwiO1xuaW1wb3J0IHsgQ2hhdFR5cGUsIE1lc3NhZ2VUeXBlIH0gZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRcIjtcbmltcG9ydCBDaGF0VXNlciBmcm9tIFwiQC9saWIvcHJvdG9jb2wvQ2hhdFVzZXJcIjtcbmltcG9ydCB0b2FzdCBmcm9tIFwicmVhY3QtaG90LXRvYXN0XCI7XG5pbXBvcnQgeyBMT0dJTl9VUkwsIFVTRVJfSU5GT19LRVksIFdFQlNPQ0tFVCB9IGZyb20gXCJAL2NvbW1vbi9saWIvRW52XCI7XG5pbXBvcnQgeyBDb250YWN0U3RhdHVzIH0gZnJvbSBcIkAvbGliL3Byb3RvY29sL0NvbnRhY3RTdGF0dXNcIjtcbmltcG9ydCBDb250YWN0R3JvdXAgZnJvbSBcIkAvbGliL3Byb3RvY29sL2NvbnRhY3QvQ29udGFjdEdyb3VwXCI7XG5pbXBvcnQgQ3Jvc1N0b3JhZ2UgZnJvbSBcIkAvY29tbW9uL2xpYi9Dcm9zU3RvcmFnZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlQnJva2VyIHtcbiAgLy9rZXk6c2Vzc2lvbiBrZXksdmFsdWU6bWVzc2FnZSBsaXN0XG4gIHByaXZhdGUgbWVzc2FnZU1hcDogTWFwPHN0cmluZywgTWVzc2FnZVtdPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBjcm9zU3RvcmFnZTogQ3Jvc1N0b3JhZ2U7XG4gIHByaXZhdGUgY2hhdFNlc3Npb25zOiBDaGF0U2Vzc2lvbltdIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY29udGFjdEdyb3VwOiBDb250YWN0R3JvdXAgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihjcm9zU3RvcmFnZTogQ3Jvc1N0b3JhZ2UpIHtcbiAgICB0aGlzLmNyb3NTdG9yYWdlID0gY3Jvc1N0b3JhZ2U7XG4gICAgY29uc3Qgc3BhcnJvd1dlYlNvY2tldCA9IG5ldyBTcGFycm93V2ViU29ja2V0KFxuICAgICAgV0VCU09DS0VUIGFzIHN0cmluZyxcbiAgICAgIGNyb3NTdG9yYWdlXG4gICAgKTtcbiAgICBzcGFycm93V2ViU29ja2V0LmNvbm5lY3QoKTtcbiAgICB0aGlzLl93ZWJTb2NrZXQgPSBzcGFycm93V2ViU29ja2V0O1xuICAgIHRoaXMuX3dlYlNvY2tldC5vbk1zZ0NhbGxiYWNrID0gKGJ1ZjogQXJyYXlCdWZmZXIpID0+IHtcbiAgICAgIHRoaXMud2Vic29ja2V0TXNnQ2FsbGJhY2soYnVmKTtcbiAgICB9O1xuICAgIHRoaXMuX3dlYlNvY2tldC5vZmZsaW5lQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICB0b2FzdC5lcnJvcihcIua2iOaBr+W3suaOqOmAge+8jOWvueaWueW3suemu+e6vy4uLi5cIik7XG4gICAgfTtcbiAgICB0aGlzLl93ZWJTb2NrZXQudXNlckF1dGhDYWxsYmFjayA9IChkYXRhOiBSZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwidXNlclZhbGlkQ2FsbGJhY2tcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgaWYgKGRhdGEuY29kZSA9PSBcIjBcIikge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFVTRVJfSU5GT19LRVksIEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jcm9zU3RvcmFnZS5yZW1vdmVUb2tlbigpO1xuICAgICAgICB0b2FzdC5lcnJvcihkYXRhLm1lc3NhZ2UpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke0xPR0lOX1VSTH0/JHt3aW5kb3cubG9jYXRpb24uaHJlZn1gO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3dlYlNvY2tldC5tb25pdG9yU3RhdHVzID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJ3ZWJzb2NrZXQgbW9uaXRvciBzdGF0dXNcIik7XG4gICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICB0aGlzLl93ZWJTb2NrZXQubW9uaXRvclN0YXR1c0NhbGxiYWNrID0gKGRhdGE6IENvbnRhY3RTdGF0dXNbXSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJ3ZWJzb2NrZXQgbW9uaXRvciBzdGF0dXMgY2FsbGJhY2tcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIF93ZWJTb2NrZXQ6IFNwYXJyb3dXZWJTb2NrZXQ7XG5cbiAgZ2V0IHdlYlNvY2tldCgpOiBTcGFycm93V2ViU29ja2V0IHtcbiAgICByZXR1cm4gdGhpcy5fd2ViU29ja2V0O1xuICB9XG5cbiAgcHVibGljIGNsb3NlV2ViU29ja2V0KCkge1xuICAgIHRoaXMuX3dlYlNvY2tldC5jbG9zZSgpO1xuICB9XG5cbiAgcHVibGljIHB1dE1lc3NhZ2UocHJvdG9jb2w6IFByb3RvY29sKTogdm9pZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IE1lc3NhZ2UuZnJvbVByb3RvY29sKHByb3RvY29sKTtcbiAgICBjb25zdCBzZXNzaW9uS2V5ID0gcHJvdG9jb2wuY2hhdFNlc3Npb24ua2V5KCk7XG4gICAgbGV0IG1lc3NhZ2VMaXN0ID0gdGhpcy5tZXNzYWdlTWFwLmdldChzZXNzaW9uS2V5KTtcbiAgICBpZiAobWVzc2FnZUxpc3QgPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZUxpc3QgPSBbXTtcbiAgICAgIHRoaXMubWVzc2FnZU1hcC5zZXQoc2Vzc2lvbktleSwgbWVzc2FnZUxpc3QpO1xuICAgIH1cbiAgICBtZXNzYWdlTGlzdC5wdXNoKG1lc3NhZ2UpO1xuICB9XG5cbiAgcHVibGljIHNlbmRNZXNzYWdlKHNlc3Npb25LZXk6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY2hhdFNlc3Npb24gPSBDaGF0U2Vzc2lvbi5wYXJzZShzZXNzaW9uS2V5KTtcbiAgICBsZXQgcHJvdG9jb2w7XG4gICAgaWYgKGNoYXRTZXNzaW9uPy5jaGF0VHlwZSA9PSBDaGF0VHlwZS5DSEFUXzFfVE9fMSkge1xuICAgICAgY29uc3Qgb3Bwb3NpdGVVc2VyID0gY2hhdFNlc3Npb24uZ2V0T3Bwb3NpdGVVc2VyKCk7XG4gICAgICBwcm90b2NvbCA9IFByb3RvY29sLmNyZWF0ZTEyMUNoYXQoXG4gICAgICAgIE1lc3NhZ2VUeXBlLlRFWFRfTUVTU0FHRSxcbiAgICAgICAgb3Bwb3NpdGVVc2VyIGFzIENoYXRVc2VyLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wdXRNZXNzYWdlKHByb3RvY29sKTtcbiAgICB0aGlzLl93ZWJTb2NrZXQ/LnNlbmRNZXNzYWdlKHByb3RvY29sLnRvQnl0ZXMoKSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0TWVzc2FnZUxpc3Qoc2Vzc2lvbktleTogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coXCJnZXRNZXNzYWdlTGlzdFwiLCBzZXNzaW9uS2V5KTtcbiAgICBsZXQgbWVzc2FnZUxpc3QgPSB0aGlzLm1lc3NhZ2VNYXAuZ2V0KHNlc3Npb25LZXkpO1xuICAgIGlmIChtZXNzYWdlTGlzdCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZUxpc3Q7XG4gICAgfVxuICAgIG1lc3NhZ2VMaXN0ID0gYXdhaXQgQ2hhdEFwaS5nZXRNZXNzYWdlcyhzZXNzaW9uS2V5LCB0aGlzLmNyb3NTdG9yYWdlKTtcbiAgICB0aGlzLm1lc3NhZ2VNYXAuc2V0KHNlc3Npb25LZXksIG1lc3NhZ2VMaXN0KTtcbiAgICByZXR1cm4gbWVzc2FnZUxpc3Q7XG4gIH1cblxuICBwdWJsaWMgbmV3TWVzc2FnZVNpZ25hbCA9ICgpID0+IHt9O1xuXG4gIHB1YmxpYyB3ZWJzb2NrZXRNc2dDYWxsYmFjayhidWY6IEFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBQcm90b2NvbC5mcm9tQnl0ZXMoYnVmKTtcbiAgICB0aGlzLnB1dE1lc3NhZ2UocHJvdG9jb2wpO1xuICAgIHRoaXMubmV3TWVzc2FnZVNpZ25hbCgpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldENoYXRTZXNzaW9ucygpIHtcbiAgICBsZXQgbG9jYWxTZXNzaW9uID0gdGhpcy5jaGF0U2Vzc2lvbnM7XG4gICAgaWYgKGxvY2FsU2Vzc2lvbikge1xuICAgICAgcmV0dXJuIGxvY2FsU2Vzc2lvbjtcbiAgICB9XG4gICAgYXdhaXQgQ2hhdEFwaS5nZXRTZXNzaW9ucyh0aGlzLmNyb3NTdG9yYWdlKS50aGVuKChzZXNzaW9ucykgPT4ge1xuICAgICAgY29uc29sZS5sb2coc2Vzc2lvbnMubGVuZ3RoKTtcbiAgICAgIGxvY2FsU2Vzc2lvbiA9IHNlc3Npb25zO1xuICAgICAgdGhpcy5jaGF0U2Vzc2lvbnMgPSBsb2NhbFNlc3Npb247XG4gICAgfSk7XG4gICAgcmV0dXJuIGxvY2FsU2Vzc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRDb250YWN0R3JvdXAoKSB7XG4gICAgZGVidWdnZXI7XG4gICAgbGV0IGxvY2FsR3JvdXAgPSB0aGlzLmNvbnRhY3RHcm91cDtcbiAgICBpZiAobG9jYWxHcm91cCkge1xuICAgICAgcmV0dXJuIGxvY2FsR3JvdXA7XG4gICAgfVxuICAgIGF3YWl0IENoYXRBcGkuZ2V0Q29udGFjdHModGhpcy5jcm9zU3RvcmFnZSkudGhlbigoZ3JvdXApID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGdyb3VwKTtcbiAgICAgIGxvY2FsR3JvdXAgPSBncm91cDtcbiAgICAgIHRoaXMuY29udGFjdEdyb3VwID0gbG9jYWxHcm91cDtcbiAgICB9KTtcbiAgICByZXR1cm4gbG9jYWxHcm91cDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRHcm91cERldGFpbChncm91cElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWN0R3JvdXA/LnF1bnMuZmluZCgocXVuKSA9PiBxdW4ucXVuSWQgPT09IGdyb3VwSWQpO1xuICB9XG5cbiAgcHVibGljIGdldENvbnRhY3REZXRhaWwodXNlcklkOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWN0R3JvdXA/LmNvbnRhY3RzLmZpbmQoXG4gICAgICAoY29udGFjdCkgPT4gY29udGFjdC51c2VySWQgPT09IHVzZXJJZFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDaGF0QXBpIiwiTWVzc2FnZSIsIlByb3RvY29sIiwiU3BhcnJvd1dlYlNvY2tldCIsIkNoYXRTZXNzaW9uIiwiQ2hhdFR5cGUiLCJNZXNzYWdlVHlwZSIsInRvYXN0IiwiTE9HSU5fVVJMIiwiVVNFUl9JTkZPX0tFWSIsIldFQlNPQ0tFVCIsIk1lc3NhZ2VCcm9rZXIiLCJjb25zdHJ1Y3RvciIsImNyb3NTdG9yYWdlIiwibWVzc2FnZU1hcCIsIk1hcCIsImNoYXRTZXNzaW9ucyIsImNvbnRhY3RHcm91cCIsIm5ld01lc3NhZ2VTaWduYWwiLCJzcGFycm93V2ViU29ja2V0IiwiY29ubmVjdCIsIl93ZWJTb2NrZXQiLCJvbk1zZ0NhbGxiYWNrIiwiYnVmIiwid2Vic29ja2V0TXNnQ2FsbGJhY2siLCJvZmZsaW5lQ2FsbGJhY2siLCJlcnJvciIsInVzZXJBdXRoQ2FsbGJhY2siLCJkYXRhIiwiY29uc29sZSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb2RlIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlVG9rZW4iLCJtZXNzYWdlIiwic2V0VGltZW91dCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm1vbml0b3JTdGF0dXMiLCJtb25pdG9yU3RhdHVzQ2FsbGJhY2siLCJ3ZWJTb2NrZXQiLCJjbG9zZVdlYlNvY2tldCIsImNsb3NlIiwicHV0TWVzc2FnZSIsInByb3RvY29sIiwiZnJvbVByb3RvY29sIiwic2Vzc2lvbktleSIsImNoYXRTZXNzaW9uIiwia2V5IiwibWVzc2FnZUxpc3QiLCJnZXQiLCJzZXQiLCJwdXNoIiwic2VuZE1lc3NhZ2UiLCJjb250ZW50IiwicGFyc2UiLCJjaGF0VHlwZSIsIkNIQVRfMV9UT18xIiwib3Bwb3NpdGVVc2VyIiwiZ2V0T3Bwb3NpdGVVc2VyIiwiY3JlYXRlMTIxQ2hhdCIsIlRFWFRfTUVTU0FHRSIsIkRhdGUiLCJnZXRUaW1lIiwidG9CeXRlcyIsImdldE1lc3NhZ2VMaXN0IiwiZ2V0TWVzc2FnZXMiLCJmcm9tQnl0ZXMiLCJnZXRDaGF0U2Vzc2lvbnMiLCJsb2NhbFNlc3Npb24iLCJnZXRTZXNzaW9ucyIsInRoZW4iLCJzZXNzaW9ucyIsImxlbmd0aCIsImdldENvbnRhY3RHcm91cCIsImxvY2FsR3JvdXAiLCJnZXRDb250YWN0cyIsImdyb3VwIiwiZ2V0R3JvdXBEZXRhaWwiLCJncm91cElkIiwicXVucyIsImZpbmQiLCJxdW4iLCJxdW5JZCIsImdldENvbnRhY3REZXRhaWwiLCJ1c2VySWQiLCJjb250YWN0cyIsImNvbnRhY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/MessageBroker.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/Protocol.ts":
/*!**************************************!*\
  !*** ./src/lib/protocol/Protocol.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/protocol/ChatUser */ \"(ssr)/./src/lib/protocol/ChatUser.ts\");\n/* harmony import */ var _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/protocol/ChatSession */ \"(ssr)/./src/lib/protocol/ChatSession.ts\");\n/* harmony import */ var _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/common/lib/protocol/ArrayBufferUtils */ \"(ssr)/./src/common/lib/protocol/ArrayBufferUtils.ts\");\n/* harmony import */ var _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/protocol/Chat */ \"(ssr)/./src/lib/protocol/Chat.ts\");\n\n\n\n\nclass Protocol {\n    constructor(){}\n    get version() {\n        return this._version;\n    }\n    set version(value) {\n        this._version = value;\n    }\n    get messageType() {\n        return this._messageType;\n    }\n    set messageType(value) {\n        this._messageType = value;\n    }\n    get chatType() {\n        return this._chatType;\n    }\n    set chatType(value) {\n        this._chatType = value;\n    }\n    get sender() {\n        return this._sender;\n    }\n    set sender(value) {\n        this._sender = value;\n    }\n    get receiver() {\n        return this._receiver;\n    }\n    set receiver(value) {\n        this._receiver = value;\n    }\n    get chatSession() {\n        return this._chatSession;\n    }\n    set chatSession(value) {\n        this._chatSession = value;\n    }\n    get content() {\n        return this._content;\n    }\n    set content(value) {\n        this._content = value;\n    }\n    get clientSendTime() {\n        return this._clientSendTime;\n    }\n    set clientSendTime(value) {\n        this._clientSendTime = value;\n    }\n    get serverTime() {\n        return this._serverTime;\n    }\n    set serverTime(value) {\n        this._serverTime = value;\n    }\n    static fromBytes(bytes) {\n        const protocol = new Protocol();\n        const dataView = new DataView(bytes);\n        let offset = 0;\n        protocol.version = dataView.getUint8(offset);\n        const chatType = dataView.getUint8(offset + 1);\n        protocol.chatType = chatType;\n        const messageType = dataView.getUint8(offset + 2);\n        protocol.messageType = messageType;\n        const senderWithOffset = _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromBytes(dataView, offset + 3);\n        protocol.sender = senderWithOffset.chatUser;\n        offset = senderWithOffset.offset;\n        if (chatType === _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_3__.ChatType.CHAT_1_TO_1) {\n            const receiverWithOffset = _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromBytes(dataView, offset);\n            const receiver = receiverWithOffset.chatUser;\n            protocol.receiver = receiver;\n            offset = receiverWithOffset.offset;\n            protocol.chatSession = _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create121Session(protocol.sender, protocol.receiver);\n        } else {\n            const sessionLength = dataView.getUint8(offset);\n            offset += 1;\n            const sessionBytes = new Uint8Array(bytes.slice(offset, offset + sessionLength));\n            const session = sessionBytes.toString();\n            protocol.chatSession = _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createGroupSession(session);\n        }\n        const contentLength = dataView.getUint32(offset);\n        offset += 4;\n        protocol.content = new Uint8Array(bytes.slice(offset, offset + contentLength));\n        offset += contentLength;\n        const clientSendTime = new TextDecoder().decode(new Uint8Array(bytes.slice(offset, bytes.byteLength))); // 默认 UTF-8 编码\n        protocol.clientSendTime = parseInt(clientSendTime, 10);\n        return protocol;\n    }\n    static create121Chat(messageType, receiver, content, clientSendTime) {\n        const protocol = new Protocol();\n        const loginUser = _lib_protocol_ChatUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCurrentUser();\n        protocol.version = 1;\n        protocol.chatType = _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_3__.ChatType.CHAT_1_TO_1;\n        protocol.messageType = messageType;\n        protocol.sender = loginUser;\n        protocol.receiver = receiver;\n        protocol.chatSession = _lib_protocol_ChatSession__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create121Session(protocol.sender, receiver);\n        protocol.content = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].str2Buffer(content);\n        protocol.clientSendTime = clientSendTime;\n        return protocol;\n    }\n    toBytes() {\n        if (this.chatType === _lib_protocol_Chat__WEBPACK_IMPORTED_MODULE_3__.ChatType.CHAT_1_TO_1) {\n            return this.to121Bytes();\n        }\n        return this.toGroupBytes();\n    }\n    to121Bytes() {\n        const headerLength = 3;\n        const senderBytes = this.sender.toBytes();\n        const receiverBytes = this.receiver.toBytes();\n        const contentLength = 4;\n        const clientSendTimeBytes = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].str2Buffer(this.clientSendTime + \"\");\n        const capacity = headerLength + senderBytes.byteLength + receiverBytes.byteLength + contentLength + this.content.byteLength + clientSendTimeBytes.byteLength;\n        let offset = 0;\n        let protocol = new Uint8Array(capacity);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, new Uint8Array([\n            this._version,\n            this.chatType,\n            this.messageType\n        ]), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, senderBytes, offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, receiverBytes, offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].number2Buffer(this.content.byteLength), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, this.content, offset);\n        _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, clientSendTimeBytes, offset);\n        return protocol;\n    }\n    toGroupBytes() {\n        let offset = 0;\n        const headerLength = 3;\n        const senderBytes = this.sender.toBytes();\n        const sessionLength = 1;\n        const sessionBytes = this.chatSession.toBytes();\n        const contentLength = 4;\n        const clientSendTimeBytes = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].str2Buffer(this.clientSendTime + \"\");\n        let capacity = headerLength + senderBytes.byteLength + sessionLength + sessionBytes.byteLength + contentLength + this.content.byteLength + clientSendTimeBytes.byteLength;\n        let protocol = new Uint8Array(capacity);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, new Uint8Array([\n            this._version,\n            this.chatType,\n            this.messageType\n        ]), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, senderBytes, offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, new Uint8Array([\n            sessionBytes.byteLength\n        ]), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, sessionBytes, offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].number2Buffer(this.content.byteLength), offset);\n        offset = _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, this.content, offset);\n        _common_lib_protocol_ArrayBufferUtils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].appendBytes(protocol, clientSendTimeBytes, offset);\n        return protocol;\n    }\n    getStringContent() {\n        return new TextDecoder().decode(this.content); // 默认 UTF-8 编码\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Protocol);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25DbkMsVUFDQXpCLDZFQUFnQkEsQ0FBQzZELGFBQWEsQ0FBQyxJQUFJLENBQUM1QyxPQUFPLENBQUM2QixVQUFVLEdBQ3REbEI7UUFFRkEsU0FBUzVCLDZFQUFnQkEsQ0FBQzRELFdBQVcsQ0FBQ25DLFVBQVUsSUFBSSxDQUFDUixPQUFPLEVBQUVXO1FBQzlENUIsNkVBQWdCQSxDQUFDNEQsV0FBVyxDQUFDbkMsVUFBVWlDLHFCQUFxQjlCO1FBQzVELE9BQU9IO0lBQ1Q7SUFFT3FDLG1CQUEyQjtRQUNoQyxPQUFPLElBQUlsQixjQUFjQyxNQUFNLENBQUMsSUFBSSxDQUFDNUIsT0FBTyxHQUFHLGNBQWM7SUFDL0Q7QUFDRjtBQUVBLGlFQUFlZixRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2xpYi9wcm90b2NvbC9Qcm90b2NvbC50cz9lYzYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGF0VXNlciBmcm9tIFwiQC9saWIvcHJvdG9jb2wvQ2hhdFVzZXJcIjtcbmltcG9ydCBDaGF0U2Vzc2lvbiBmcm9tIFwiQC9saWIvcHJvdG9jb2wvQ2hhdFNlc3Npb25cIjtcbmltcG9ydCBBcnJheUJ1ZmZlclV0aWxzIGZyb20gXCJAL2NvbW1vbi9saWIvcHJvdG9jb2wvQXJyYXlCdWZmZXJVdGlsc1wiO1xuaW1wb3J0IHsgQ2hhdFR5cGUsIE1lc3NhZ2VUeXBlIH0gZnJvbSBcIkAvbGliL3Byb3RvY29sL0NoYXRcIjtcblxuY2xhc3MgUHJvdG9jb2wge1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHJpdmF0ZSBfdmVyc2lvbjogbnVtYmVyO1xuXG4gIGdldCB2ZXJzaW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gIH1cblxuICBzZXQgdmVyc2lvbih2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5fdmVyc2lvbiA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfbWVzc2FnZVR5cGU6IE1lc3NhZ2VUeXBlO1xuXG4gIGdldCBtZXNzYWdlVHlwZSgpOiBNZXNzYWdlVHlwZSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VUeXBlO1xuICB9XG5cbiAgc2V0IG1lc3NhZ2VUeXBlKHZhbHVlOiBNZXNzYWdlVHlwZSkge1xuICAgIHRoaXMuX21lc3NhZ2VUeXBlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9jaGF0VHlwZTogQ2hhdFR5cGU7XG5cbiAgZ2V0IGNoYXRUeXBlKCk6IENoYXRUeXBlIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhdFR5cGU7XG4gIH1cblxuICBzZXQgY2hhdFR5cGUodmFsdWU6IENoYXRUeXBlKSB7XG4gICAgdGhpcy5fY2hhdFR5cGUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX3NlbmRlcjogQ2hhdFVzZXI7XG5cbiAgZ2V0IHNlbmRlcigpOiBDaGF0VXNlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRlcjtcbiAgfVxuXG4gIHNldCBzZW5kZXIodmFsdWU6IENoYXRVc2VyKSB7XG4gICAgdGhpcy5fc2VuZGVyID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9yZWNlaXZlcjogQ2hhdFVzZXI7XG5cbiAgZ2V0IHJlY2VpdmVyKCk6IENoYXRVc2VyIHtcbiAgICByZXR1cm4gdGhpcy5fcmVjZWl2ZXI7XG4gIH1cblxuICBzZXQgcmVjZWl2ZXIodmFsdWU6IENoYXRVc2VyKSB7XG4gICAgdGhpcy5fcmVjZWl2ZXIgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NoYXRTZXNzaW9uOiBDaGF0U2Vzc2lvbjtcblxuICBnZXQgY2hhdFNlc3Npb24oKTogQ2hhdFNlc3Npb24ge1xuICAgIHJldHVybiB0aGlzLl9jaGF0U2Vzc2lvbjtcbiAgfVxuXG4gIHNldCBjaGF0U2Vzc2lvbih2YWx1ZTogQ2hhdFNlc3Npb24pIHtcbiAgICB0aGlzLl9jaGF0U2Vzc2lvbiA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29udGVudDogVWludDhBcnJheTtcblxuICBnZXQgY29udGVudCgpOiBVaW50OEFycmF5IHtcbiAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgfVxuXG4gIHNldCBjb250ZW50KHZhbHVlOiBVaW50OEFycmF5KSB7XG4gICAgdGhpcy5fY29udGVudCA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2xpZW50U2VuZFRpbWU6IG51bWJlcjtcblxuICBnZXQgY2xpZW50U2VuZFRpbWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50U2VuZFRpbWU7XG4gIH1cblxuICBzZXQgY2xpZW50U2VuZFRpbWUodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuX2NsaWVudFNlbmRUaW1lID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9zZXJ2ZXJUaW1lOiBudW1iZXI7XG5cbiAgZ2V0IHNlcnZlclRpbWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyVGltZTtcbiAgfVxuXG4gIHNldCBzZXJ2ZXJUaW1lKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLl9zZXJ2ZXJUaW1lID0gdmFsdWU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGZyb21CeXRlcyhieXRlczogQXJyYXlCdWZmZXIpOiBQcm90b2NvbCB7XG4gICAgY29uc3QgcHJvdG9jb2w6IFByb3RvY29sID0gbmV3IFByb3RvY29sKCk7XG4gICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnl0ZXMpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHByb3RvY29sLnZlcnNpb24gPSBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpO1xuICAgIGNvbnN0IGNoYXRUeXBlID0gZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0ICsgMSk7XG4gICAgcHJvdG9jb2wuY2hhdFR5cGUgPSBjaGF0VHlwZSBhcyBDaGF0VHlwZTtcbiAgICBjb25zdCBtZXNzYWdlVHlwZSA9IGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCArIDIpO1xuICAgIHByb3RvY29sLm1lc3NhZ2VUeXBlID0gbWVzc2FnZVR5cGUgYXMgTWVzc2FnZVR5cGU7XG4gICAgY29uc3Qgc2VuZGVyV2l0aE9mZnNldCA9IENoYXRVc2VyLmZyb21CeXRlcyhkYXRhVmlldywgb2Zmc2V0ICsgMyk7XG4gICAgcHJvdG9jb2wuc2VuZGVyID0gc2VuZGVyV2l0aE9mZnNldC5jaGF0VXNlciBhcyBDaGF0VXNlcjtcbiAgICBvZmZzZXQgPSBzZW5kZXJXaXRoT2Zmc2V0Lm9mZnNldDtcbiAgICBpZiAoY2hhdFR5cGUgPT09IENoYXRUeXBlLkNIQVRfMV9UT18xKSB7XG4gICAgICBjb25zdCByZWNlaXZlcldpdGhPZmZzZXQgPSBDaGF0VXNlci5mcm9tQnl0ZXMoZGF0YVZpZXcsIG9mZnNldCk7XG4gICAgICBjb25zdCByZWNlaXZlciA9IHJlY2VpdmVyV2l0aE9mZnNldC5jaGF0VXNlcjtcbiAgICAgIHByb3RvY29sLnJlY2VpdmVyID0gcmVjZWl2ZXIgYXMgQ2hhdFVzZXI7XG4gICAgICBvZmZzZXQgPSByZWNlaXZlcldpdGhPZmZzZXQub2Zmc2V0O1xuICAgICAgcHJvdG9jb2wuY2hhdFNlc3Npb24gPSBDaGF0U2Vzc2lvbi5jcmVhdGUxMjFTZXNzaW9uKFxuICAgICAgICBwcm90b2NvbC5zZW5kZXIsXG4gICAgICAgIHByb3RvY29sLnJlY2VpdmVyXG4gICAgICApIGFzIENoYXRTZXNzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZXNzaW9uTGVuZ3RoID0gZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0KTtcbiAgICAgIG9mZnNldCArPSAxO1xuICAgICAgY29uc3Qgc2Vzc2lvbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICAgIGJ5dGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2Vzc2lvbkxlbmd0aClcbiAgICAgICk7XG4gICAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbkJ5dGVzLnRvU3RyaW5nKCk7XG4gICAgICBwcm90b2NvbC5jaGF0U2Vzc2lvbiA9IENoYXRTZXNzaW9uLmNyZWF0ZUdyb3VwU2Vzc2lvbihcbiAgICAgICAgc2Vzc2lvblxuICAgICAgKSBhcyBDaGF0U2Vzc2lvbjtcbiAgICB9XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgIG9mZnNldCArPSA0O1xuICAgIHByb3RvY29sLmNvbnRlbnQgPSBuZXcgVWludDhBcnJheShcbiAgICAgIGJ5dGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY29udGVudExlbmd0aClcbiAgICApO1xuICAgIG9mZnNldCArPSBjb250ZW50TGVuZ3RoO1xuXG4gICAgY29uc3QgY2xpZW50U2VuZFRpbWUgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoXG4gICAgICBuZXcgVWludDhBcnJheShieXRlcy5zbGljZShvZmZzZXQsIGJ5dGVzLmJ5dGVMZW5ndGgpKVxuICAgICk7IC8vIOm7mOiupCBVVEYtOCDnvJbnoIFcblxuICAgIHByb3RvY29sLmNsaWVudFNlbmRUaW1lID0gcGFyc2VJbnQoY2xpZW50U2VuZFRpbWUsIDEwKTtcbiAgICByZXR1cm4gcHJvdG9jb2w7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZTEyMUNoYXQoXG4gICAgbWVzc2FnZVR5cGU6IE1lc3NhZ2VUeXBlLFxuICAgIHJlY2VpdmVyOiBDaGF0VXNlcixcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgY2xpZW50U2VuZFRpbWU6IG51bWJlclxuICApOiBQcm90b2NvbCB7XG4gICAgY29uc3QgcHJvdG9jb2w6IFByb3RvY29sID0gbmV3IFByb3RvY29sKCk7XG4gICAgY29uc3QgbG9naW5Vc2VyID0gQ2hhdFVzZXIuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICBwcm90b2NvbC52ZXJzaW9uID0gMTtcbiAgICBwcm90b2NvbC5jaGF0VHlwZSA9IENoYXRUeXBlLkNIQVRfMV9UT18xO1xuICAgIHByb3RvY29sLm1lc3NhZ2VUeXBlID0gbWVzc2FnZVR5cGU7XG4gICAgcHJvdG9jb2wuc2VuZGVyID0gbG9naW5Vc2VyIGFzIENoYXRVc2VyO1xuICAgIHByb3RvY29sLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgcHJvdG9jb2wuY2hhdFNlc3Npb24gPSBDaGF0U2Vzc2lvbi5jcmVhdGUxMjFTZXNzaW9uKFxuICAgICAgcHJvdG9jb2wuc2VuZGVyLFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICAgIHByb3RvY29sLmNvbnRlbnQgPSBBcnJheUJ1ZmZlclV0aWxzLnN0cjJCdWZmZXIoY29udGVudCk7XG4gICAgcHJvdG9jb2wuY2xpZW50U2VuZFRpbWUgPSBjbGllbnRTZW5kVGltZTtcbiAgICByZXR1cm4gcHJvdG9jb2w7XG4gIH1cblxuICBwdWJsaWMgdG9CeXRlcygpOiBVaW50OEFycmF5IHtcbiAgICBpZiAodGhpcy5jaGF0VHlwZSA9PT0gQ2hhdFR5cGUuQ0hBVF8xX1RPXzEpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvMTIxQnl0ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9Hcm91cEJ5dGVzKCk7XG4gIH1cblxuICBwdWJsaWMgdG8xMjFCeXRlcygpOiBVaW50OEFycmF5IHtcbiAgICBjb25zdCBoZWFkZXJMZW5ndGggPSAzO1xuICAgIGNvbnN0IHNlbmRlckJ5dGVzOiBVaW50OEFycmF5ID0gdGhpcy5zZW5kZXIudG9CeXRlcygpO1xuICAgIGNvbnN0IHJlY2VpdmVyQnl0ZXM6IFVpbnQ4QXJyYXkgPSB0aGlzLnJlY2VpdmVyLnRvQnl0ZXMoKTtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gNDtcbiAgICBjb25zdCBjbGllbnRTZW5kVGltZUJ5dGVzID0gQXJyYXlCdWZmZXJVdGlscy5zdHIyQnVmZmVyKFxuICAgICAgdGhpcy5jbGllbnRTZW5kVGltZSArIFwiXCJcbiAgICApO1xuICAgIGNvbnN0IGNhcGFjaXR5OiBudW1iZXIgPVxuICAgICAgaGVhZGVyTGVuZ3RoICtcbiAgICAgIHNlbmRlckJ5dGVzLmJ5dGVMZW5ndGggK1xuICAgICAgcmVjZWl2ZXJCeXRlcy5ieXRlTGVuZ3RoICtcbiAgICAgIGNvbnRlbnRMZW5ndGggK1xuICAgICAgdGhpcy5jb250ZW50LmJ5dGVMZW5ndGggK1xuICAgICAgY2xpZW50U2VuZFRpbWVCeXRlcy5ieXRlTGVuZ3RoO1xuICAgIGxldCBvZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgbGV0IHByb3RvY29sOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoY2FwYWNpdHkpO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMoXG4gICAgICBwcm90b2NvbCxcbiAgICAgIG5ldyBVaW50OEFycmF5KFt0aGlzLl92ZXJzaW9uLCB0aGlzLmNoYXRUeXBlLCB0aGlzLm1lc3NhZ2VUeXBlXSksXG4gICAgICBvZmZzZXRcbiAgICApO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMocHJvdG9jb2wsIHNlbmRlckJ5dGVzLCBvZmZzZXQpO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMocHJvdG9jb2wsIHJlY2VpdmVyQnl0ZXMsIG9mZnNldCk7XG4gICAgb2Zmc2V0ID0gQXJyYXlCdWZmZXJVdGlscy5hcHBlbmRCeXRlcyhcbiAgICAgIHByb3RvY29sLFxuICAgICAgQXJyYXlCdWZmZXJVdGlscy5udW1iZXIyQnVmZmVyKHRoaXMuY29udGVudC5ieXRlTGVuZ3RoKSxcbiAgICAgIG9mZnNldFxuICAgICk7XG4gICAgb2Zmc2V0ID0gQXJyYXlCdWZmZXJVdGlscy5hcHBlbmRCeXRlcyhwcm90b2NvbCwgdGhpcy5jb250ZW50LCBvZmZzZXQpO1xuICAgIEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMocHJvdG9jb2wsIGNsaWVudFNlbmRUaW1lQnl0ZXMsIG9mZnNldCk7XG4gICAgcmV0dXJuIHByb3RvY29sO1xuICB9XG5cbiAgcHVibGljIHRvR3JvdXBCeXRlcygpOiBVaW50OEFycmF5IHtcbiAgICBsZXQgb2Zmc2V0OiBudW1iZXIgPSAwO1xuICAgIGNvbnN0IGhlYWRlckxlbmd0aCA9IDM7XG4gICAgY29uc3Qgc2VuZGVyQnl0ZXM6IFVpbnQ4QXJyYXkgPSB0aGlzLnNlbmRlci50b0J5dGVzKCk7XG4gICAgY29uc3Qgc2Vzc2lvbkxlbmd0aCA9IDE7XG4gICAgY29uc3Qgc2Vzc2lvbkJ5dGVzOiBVaW50OEFycmF5ID0gdGhpcy5jaGF0U2Vzc2lvbi50b0J5dGVzKCk7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IDQ7XG4gICAgY29uc3QgY2xpZW50U2VuZFRpbWVCeXRlcyA9IEFycmF5QnVmZmVyVXRpbHMuc3RyMkJ1ZmZlcihcbiAgICAgIHRoaXMuY2xpZW50U2VuZFRpbWUgKyBcIlwiXG4gICAgKTtcbiAgICBsZXQgY2FwYWNpdHk6IG51bWJlciA9XG4gICAgICBoZWFkZXJMZW5ndGggK1xuICAgICAgc2VuZGVyQnl0ZXMuYnl0ZUxlbmd0aCArXG4gICAgICBzZXNzaW9uTGVuZ3RoICtcbiAgICAgIHNlc3Npb25CeXRlcy5ieXRlTGVuZ3RoICtcbiAgICAgIGNvbnRlbnRMZW5ndGggK1xuICAgICAgdGhpcy5jb250ZW50LmJ5dGVMZW5ndGggK1xuICAgICAgY2xpZW50U2VuZFRpbWVCeXRlcy5ieXRlTGVuZ3RoO1xuXG4gICAgbGV0IHByb3RvY29sOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoY2FwYWNpdHkpO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMoXG4gICAgICBwcm90b2NvbCxcbiAgICAgIG5ldyBVaW50OEFycmF5KFt0aGlzLl92ZXJzaW9uLCB0aGlzLmNoYXRUeXBlLCB0aGlzLm1lc3NhZ2VUeXBlXSksXG4gICAgICBvZmZzZXRcbiAgICApO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMocHJvdG9jb2wsIHNlbmRlckJ5dGVzLCBvZmZzZXQpO1xuICAgIG9mZnNldCA9IEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMoXG4gICAgICBwcm90b2NvbCxcbiAgICAgIG5ldyBVaW50OEFycmF5KFtzZXNzaW9uQnl0ZXMuYnl0ZUxlbmd0aF0pLFxuICAgICAgb2Zmc2V0XG4gICAgKTtcbiAgICBvZmZzZXQgPSBBcnJheUJ1ZmZlclV0aWxzLmFwcGVuZEJ5dGVzKHByb3RvY29sLCBzZXNzaW9uQnl0ZXMsIG9mZnNldCk7XG4gICAgb2Zmc2V0ID0gQXJyYXlCdWZmZXJVdGlscy5hcHBlbmRCeXRlcyhcbiAgICAgIHByb3RvY29sLFxuICAgICAgQXJyYXlCdWZmZXJVdGlscy5udW1iZXIyQnVmZmVyKHRoaXMuY29udGVudC5ieXRlTGVuZ3RoKSxcbiAgICAgIG9mZnNldFxuICAgICk7XG4gICAgb2Zmc2V0ID0gQXJyYXlCdWZmZXJVdGlscy5hcHBlbmRCeXRlcyhwcm90b2NvbCwgdGhpcy5jb250ZW50LCBvZmZzZXQpO1xuICAgIEFycmF5QnVmZmVyVXRpbHMuYXBwZW5kQnl0ZXMocHJvdG9jb2wsIGNsaWVudFNlbmRUaW1lQnl0ZXMsIG9mZnNldCk7XG4gICAgcmV0dXJuIHByb3RvY29sO1xuICB9XG5cbiAgcHVibGljIGdldFN0cmluZ0NvbnRlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHRoaXMuY29udGVudCk7IC8vIOm7mOiupCBVVEYtOCDnvJbnoIFcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm90b2NvbDtcbiJdLCJuYW1lcyI6WyJDaGF0VXNlciIsIkNoYXRTZXNzaW9uIiwiQXJyYXlCdWZmZXJVdGlscyIsIkNoYXRUeXBlIiwiUHJvdG9jb2wiLCJjb25zdHJ1Y3RvciIsInZlcnNpb24iLCJfdmVyc2lvbiIsInZhbHVlIiwibWVzc2FnZVR5cGUiLCJfbWVzc2FnZVR5cGUiLCJjaGF0VHlwZSIsIl9jaGF0VHlwZSIsInNlbmRlciIsIl9zZW5kZXIiLCJyZWNlaXZlciIsIl9yZWNlaXZlciIsImNoYXRTZXNzaW9uIiwiX2NoYXRTZXNzaW9uIiwiY29udGVudCIsIl9jb250ZW50IiwiY2xpZW50U2VuZFRpbWUiLCJfY2xpZW50U2VuZFRpbWUiLCJzZXJ2ZXJUaW1lIiwiX3NlcnZlclRpbWUiLCJmcm9tQnl0ZXMiLCJieXRlcyIsInByb3RvY29sIiwiZGF0YVZpZXciLCJEYXRhVmlldyIsIm9mZnNldCIsImdldFVpbnQ4Iiwic2VuZGVyV2l0aE9mZnNldCIsImNoYXRVc2VyIiwiQ0hBVF8xX1RPXzEiLCJyZWNlaXZlcldpdGhPZmZzZXQiLCJjcmVhdGUxMjFTZXNzaW9uIiwic2Vzc2lvbkxlbmd0aCIsInNlc3Npb25CeXRlcyIsIlVpbnQ4QXJyYXkiLCJzbGljZSIsInNlc3Npb24iLCJ0b1N0cmluZyIsImNyZWF0ZUdyb3VwU2Vzc2lvbiIsImNvbnRlbnRMZW5ndGgiLCJnZXRVaW50MzIiLCJUZXh0RGVjb2RlciIsImRlY29kZSIsImJ5dGVMZW5ndGgiLCJwYXJzZUludCIsImNyZWF0ZTEyMUNoYXQiLCJsb2dpblVzZXIiLCJnZXRDdXJyZW50VXNlciIsInN0cjJCdWZmZXIiLCJ0b0J5dGVzIiwidG8xMjFCeXRlcyIsInRvR3JvdXBCeXRlcyIsImhlYWRlckxlbmd0aCIsInNlbmRlckJ5dGVzIiwicmVjZWl2ZXJCeXRlcyIsImNsaWVudFNlbmRUaW1lQnl0ZXMiLCJjYXBhY2l0eSIsImFwcGVuZEJ5dGVzIiwibnVtYmVyMkJ1ZmZlciIsImdldFN0cmluZ0NvbnRlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/Protocol.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/protocol/contact/ContactGroup.ts":
/*!**************************************************!*\
  !*** ./src/lib/protocol/contact/ContactGroup.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContactGroup)\n/* harmony export */ });\nclass ContactGroup {\n    get contacts() {\n        return this._contacts;\n    }\n    set contacts(value) {\n        this._contacts = value;\n    }\n    get quns() {\n        return this._quns;\n    }\n    set quns(value) {\n        this._quns = value;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3Byb3RvY29sL2NvbnRhY3QvQ29udGFjdEdyb3VwLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFHZSxNQUFNQTtJQUtqQixJQUFJQyxXQUFzQjtRQUN0QixPQUFPLElBQUksQ0FBQ0MsU0FBUztJQUN6QjtJQUVBLElBQUlELFNBQVNFLEtBQWdCLEVBQUU7UUFDM0IsSUFBSSxDQUFDRCxTQUFTLEdBQUdDO0lBQ3JCO0lBRUEsSUFBSUMsT0FBZ0I7UUFDaEIsT0FBTyxJQUFJLENBQUNDLEtBQUs7SUFDckI7SUFFQSxJQUFJRCxLQUFLRCxLQUFjLEVBQUU7UUFDckIsSUFBSSxDQUFDRSxLQUFLLEdBQUdGO0lBQ2pCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvbGliL3Byb3RvY29sL2NvbnRhY3QvQ29udGFjdEdyb3VwLnRzPzZmN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbnRhY3QgZnJvbSBcIkAvbGliL3Byb3RvY29sL2NvbnRhY3QvQ29udGFjdFwiO1xuaW1wb3J0IEdyb3VwIGZyb20gXCJAL2xpYi9wcm90b2NvbC9jb250YWN0L0dyb3VwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhY3RHcm91cCB7XG4gICAgcHJpdmF0ZSBfY29udGFjdHM6IENvbnRhY3RbXTtcbiAgICBwcml2YXRlIF9xdW5zOiBHcm91cFtdO1xuXG5cbiAgICBnZXQgY29udGFjdHMoKTogQ29udGFjdFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhY3RzO1xuICAgIH1cblxuICAgIHNldCBjb250YWN0cyh2YWx1ZTogQ29udGFjdFtdKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhY3RzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHF1bnMoKTogR3JvdXBbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdW5zO1xuICAgIH1cblxuICAgIHNldCBxdW5zKHZhbHVlOiBHcm91cFtdKSB7XG4gICAgICAgIHRoaXMuX3F1bnMgPSB2YWx1ZTtcbiAgICB9XG59Il0sIm5hbWVzIjpbIkNvbnRhY3RHcm91cCIsImNvbnRhY3RzIiwiX2NvbnRhY3RzIiwidmFsdWUiLCJxdW5zIiwiX3F1bnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/protocol/contact/ContactGroup.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"bafc10775671\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2FwcC9nbG9iYWxzLmNzcz9iMTAyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYmFmYzEwNzc1NjcxXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/chat/friends/contact/page.tsx":
/*!***********************************************!*\
  !*** ./src/app/chat/friends/contact/page.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/contact/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/app/chat/friends/layout.tsx":
/*!*****************************************!*\
  !*** ./src/app/chat/friends/layout.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/friends/layout.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/app/chat/layout.tsx":
/*!*********************************!*\
  !*** ./src/app/chat/layout.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ChatLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ChatLayout */ \"(rsc)/./src/components/ChatLayout.tsx\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"(rsc)/./node_modules/react-hot-toast/dist/index.mjs\");\n\n\n\nfunction Layout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.Toaster, {\n                position: \"top-center\",\n                reverseOrder: true\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n                lineNumber: 11,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex text-center justify-center items-center w-full h-20 bg-indigo-500 text-white\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    children: \"Welcome to Sparrow Chat!\"\n                }, void 0, false, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n                lineNumber: 12,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-row flex-1 w-full\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatLayout__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/chat/layout.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2NoYXQvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDUDtBQUUzQixTQUFTRSxPQUFPLEVBQzdCQyxRQUFRLEVBR1I7SUFDQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNKLG9EQUFPQTtnQkFBQ0ssVUFBUztnQkFBYUMsY0FBYzs7Ozs7OzBCQUM3Qyw4REFBQ0g7Z0JBQ0NDLFdBQ0U7MEJBR0YsNEVBQUNHOzhCQUFHOzs7Ozs7Ozs7OzswQkFFTiw4REFBQ0o7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNMLDhEQUFVQTs4QkFBRUc7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSXJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0by1yZWFjdC1sYXN0ZXN0Ly4vc3JjL2FwcC9jaGF0L2xheW91dC50c3g/Nzg2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhdExheW91dCBmcm9tIFwiQC9jb21wb25lbnRzL0NoYXRMYXlvdXRcIjtcbmltcG9ydCB7IFRvYXN0ZXIgfSBmcm9tIFwicmVhY3QtaG90LXRvYXN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dCh7XG4gIGNoaWxkcmVuLFxufTogUmVhZG9ubHk8e1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufT4pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW5cIj5cbiAgICAgIDxUb2FzdGVyIHBvc2l0aW9uPVwidG9wLWNlbnRlclwiIHJldmVyc2VPcmRlcj17dHJ1ZX0gLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICBcImZsZXggdGV4dC1jZW50ZXIganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHctZnVsbCBoLTIwIGJnLWluZGlnby01MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPGgxPldlbGNvbWUgdG8gU3BhcnJvdyBDaGF0ITwvaDE+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXJvdyBmbGV4LTEgdy1mdWxsXCI+XG4gICAgICAgIDxDaGF0TGF5b3V0PntjaGlsZHJlbn08L0NoYXRMYXlvdXQ+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJDaGF0TGF5b3V0IiwiVG9hc3RlciIsIkxheW91dCIsImNoaWxkcmVuIiwiZGl2IiwiY2xhc3NOYW1lIiwicG9zaXRpb24iLCJyZXZlcnNlT3JkZXIiLCJoMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/chat/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata),\n/* harmony export */   viewport: () => (/* binding */ viewport)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst metadata = {\n    title: \"Create Next App\",\n    description: \"Generated by create next app\"\n};\nconst viewport = {\n    width: \"device-width\",\n    initialScale: 1,\n    maximumScale: 1,\n    userScalable: false\n};\n/**\n * The root layout is defined at the top level of the app directory and applies to all routes.\n * This layout is required and must contain html and body tags,\n * allowing you to modify the initial HTML returned from the server.\n */ function RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"container mx-auto text-center justify-center align-middle content-center w-full \",\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/layout.tsx\",\n            lineNumber: 28,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/app/layout.tsx\",\n        lineNumber: 27,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXVCO0FBRVE7QUFFeEIsTUFBTUMsV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFDSyxNQUFNQyxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxjQUFjO0lBQ2RDLGNBQWM7SUFDZEMsY0FBYztBQUNoQixFQUFFO0FBRUY7Ozs7Q0FJQyxHQUNjLFNBQVNDLFdBQVcsRUFDakNDLFFBQVEsRUFHUjtJQUNBLHFCQUNFLDhEQUFDQztrQkFDQyw0RUFBQ0M7WUFBS0MsV0FBVztzQkFBcUZIOzs7Ozs7Ozs7OztBQUc1RyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG8tcmVhY3QtbGFzdGVzdC8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcbmltcG9ydCB7TWV0YWRhdGEsIFZpZXdwb3J0fSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gIHRpdGxlOiBcIkNyZWF0ZSBOZXh0IEFwcFwiLFxuICBkZXNjcmlwdGlvbjogXCJHZW5lcmF0ZWQgYnkgY3JlYXRlIG5leHQgYXBwXCIsXG59O1xuZXhwb3J0IGNvbnN0IHZpZXdwb3J0OiBWaWV3cG9ydCA9IHtcbiAgd2lkdGg6IFwiZGV2aWNlLXdpZHRoXCIsXG4gIGluaXRpYWxTY2FsZTogMSxcbiAgbWF4aW11bVNjYWxlOiAxLFxuICB1c2VyU2NhbGFibGU6IGZhbHNlLFxufTtcblxuLyoqXG4gKiBUaGUgcm9vdCBsYXlvdXQgaXMgZGVmaW5lZCBhdCB0aGUgdG9wIGxldmVsIG9mIHRoZSBhcHAgZGlyZWN0b3J5IGFuZCBhcHBsaWVzIHRvIGFsbCByb3V0ZXMuXG4gKiBUaGlzIGxheW91dCBpcyByZXF1aXJlZCBhbmQgbXVzdCBjb250YWluIGh0bWwgYW5kIGJvZHkgdGFncyxcbiAqIGFsbG93aW5nIHlvdSB0byBtb2RpZnkgdGhlIGluaXRpYWwgSFRNTCByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoe1xuICBjaGlsZHJlbixcbn06IFJlYWRvbmx5PHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0+KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWw+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9e1wiY29udGFpbmVyIG14LWF1dG8gdGV4dC1jZW50ZXIganVzdGlmeS1jZW50ZXIgYWxpZ24tbWlkZGxlIGNvbnRlbnQtY2VudGVyIHctZnVsbCBcIn0+e2NoaWxkcmVufTwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2aWV3cG9ydCIsIndpZHRoIiwiaW5pdGlhbFNjYWxlIiwibWF4aW11bVNjYWxlIiwidXNlclNjYWxhYmxlIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImJvZHkiLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/components/ChatLayout.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatLayout.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/zhanglizhi/workspace/sparrow/sparrow-js/react-next-14/src/components/ChatLayout.tsx#default`));


/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/lib/metadata/get-metadata-route */ \"(rsc)/./node_modules/next/dist/lib/metadata/get-metadata-route.js\");\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__);\n  \n\n  /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((props) => {\n    const imageData = {\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}\n    const imageUrl = (0,next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__.fillMetadataSegment)(\".\", props.params, \"favicon.ico\")\n\n    return [{\n      ...imageData,\n      url: imageUrl + \"\",\n    }]\n  });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LW1ldGFkYXRhLWltYWdlLWxvYWRlci5qcz90eXBlPWZhdmljb24mc2VnbWVudD0mYmFzZVBhdGg9JnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMhLi9zcmMvYXBwL2Zhdmljb24uaWNvP19fbmV4dF9tZXRhZGF0YV9fIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLEVBQWlGOztBQUVqRixFQUFFLGlFQUFlO0FBQ2pCLHVCQUF1QjtBQUN2QixxQkFBcUIsOEZBQW1COztBQUV4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLXJlYWN0LWxhc3Rlc3QvLi9zcmMvYXBwL2Zhdmljb24uaWNvPzQzNDgiXSwic291cmNlc0NvbnRlbnQiOlsiICBpbXBvcnQgeyBmaWxsTWV0YWRhdGFTZWdtZW50IH0gZnJvbSAnbmV4dC9kaXN0L2xpYi9tZXRhZGF0YS9nZXQtbWV0YWRhdGEtcm91dGUnXG5cbiAgZXhwb3J0IGRlZmF1bHQgKHByb3BzKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0ge1widHlwZVwiOlwiaW1hZ2UveC1pY29uXCIsXCJzaXplc1wiOlwiMTZ4MTZcIn1cbiAgICBjb25zdCBpbWFnZVVybCA9IGZpbGxNZXRhZGF0YVNlZ21lbnQoXCIuXCIsIHByb3BzLnBhcmFtcywgXCJmYXZpY29uLmljb1wiKVxuXG4gICAgcmV0dXJuIFt7XG4gICAgICAuLi5pbWFnZURhdGEsXG4gICAgICB1cmw6IGltYWdlVXJsICsgXCJcIixcbiAgICB9XVxuICB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/date-fns","vendor-chunks/react-hot-toast","vendor-chunks/goober","vendor-chunks/@swc","vendor-chunks/react-useanimations","vendor-chunks/lottie-web"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Ffriends%2Fcontact%2Fpage&page=%2Fchat%2Ffriends%2Fcontact%2Fpage&appPaths=%2Fchat%2Ffriends%2Fcontact%2Fpage&pagePath=private-next-app-dir%2Fchat%2Ffriends%2Fcontact%2Fpage.tsx&appDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzhanglizhi%2Fworkspace%2Fsparrow%2Fsparrow-js%2Freact-next-14&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=http%3A%2F%2Flocalhost%3A3001&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();